     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_sprintf
    21 00000000                                 	EXTERN	_myfinfo_search
    22 00000000                                 	EXTERN	_myfread
    23 00000000                                 	EXTERN	_get_size_myfdata
    24 00000000                                 	EXTERN	_myfopen
    25 00000000                                 	EXTERN	_myfwrite
    26 00000000                                 	EXTERN	_strcat
    27 00000000                                 	EXTERN	_myfsave
    28 00000000                                 	EXTERN	_myfclose
    29 00000000                                 	EXTERN	_get_newdinfo
    30 00000000                                 	EXTERN	_get_newfdata
    31 00000000                                 	EXTERN	_memman_total
    32 00000000                                 	EXTERN	_file_loadfile
    33 00000000                                 	EXTERN	_memman_free_4k
    34 00000000                                 	EXTERN	_timer_cancel
    35 00000000                                 	EXTERN	_fifo32_put
    36 00000000                                 	EXTERN	_taskctl
    37 00000000                                 	EXTERN	_open_console
    38 00000000                                 	EXTERN	_sheet_slide
    39 00000000                                 	EXTERN	_sheet_updown
    40 00000000                                 	EXTERN	_open_constask
    41 00000000                                 	EXTERN	_file_search
    42 00000000                                 	EXTERN	_file_loadfile2
    43 00000000                                 	EXTERN	_set_segmdesc
    44 00000000                                 	EXTERN	_start_app
    45 00000000                                 	EXTERN	_timer_cancelall
    46 00000000                                 	EXTERN	_sheet_free
    47 00000000                                 	EXTERN	_sheet_alloc
    48 00000000                                 	EXTERN	_sheet_setbuf
    49 00000000                                 	EXTERN	_make_window8
    50 00000000                                 	EXTERN	_putfonts8_asc
    51 00000000                                 	EXTERN	_memman_init
    52 00000000                                 	EXTERN	_memman_free
    53 00000000                                 	EXTERN	_memman_alloc
    54 00000000                                 	EXTERN	_timer_free
    55 00000000                                 	EXTERN	_io_in8
    56 00000000                                 	EXTERN	_io_out8
    57 00000000                                 [FILE "console.c"]
    58 00000000                                 	GLOBAL	_console_id
    59                                          [SECTION .data]
    60 00000000                                 	ALIGNB	4
    61 00000000                                 _console_id:
    62 00000000 00000000                        	DD	0
    63 00000004                                 	GLOBAL	_setfdata
    64 00000004                                 	ALIGNB	4
    65 00000004                                 _setfdata:
    66 00000004 00000000                        	DD	0
    67                                          [SECTION .text]
    68 00000000                                 	GLOBAL	_debug_print
    69 00000000                                 _debug_print:
    70 00000000 55                              	PUSH	EBP
    71 00000001 89 E5                           	MOV	EBP,ESP
    72 00000003 5D                              	POP	EBP
    73 00000004 C3                              	RET
    74 00000005                                 	GLOBAL	_console_task
    75 00000005                                 _console_task:
    76 00000005 55                              	PUSH	EBP
    77 00000006 89 E5                           	MOV	EBP,ESP
    78 00000008 57                              	PUSH	EDI
    79 00000009 56                              	PUSH	ESI
    80 0000000A 53                              	PUSH	EBX
    81 0000000B 81 EC 00000100                  	SUB	ESP,256
    82 00000011 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    83 00000014 E8 [00000000]                   	CALL	_task_now
    84 00000019 68 00002D00                     	PUSH	11520
    85 0000001E 89 C7                           	MOV	EDI,EAX
    86 00000020 68 003C0000                     	PUSH	3932160
    87 00000025 E8 [00000000]                   	CALL	_memman_alloc_4k
    88 0000002A 89 5D D4                        	MOV	DWORD [-44+EBP],EBX
    89 0000002D C7 45 E8 00400000               	MOV	DWORD [-24+EBP],4194304
    90 00000034 89 85 FFFFFF00                  	MOV	DWORD [-256+EBP],EAX
    91 0000003A A1 00000FE8                     	MOV	EAX,DWORD [4072]
    92 0000003F 89 85 FFFFFEF8                  	MOV	DWORD [-264+EBP],EAX
    93 00000045 A1 [00000000]                   	MOV	EAX,DWORD [_console_id]
    94 0000004A 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
    95 0000004D 40                              	INC	EAX
    96 0000004E A3 [00000000]                   	MOV	DWORD [_console_id],EAX
    97 00000053 85 DB                           	TEST	EBX,EBX
    98 00000055 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
    99 00000058 89 87 000000A4                  	MOV	DWORD [164+EDI],EAX
   100 0000005E 8D 85 FFFFFF04                  	LEA	EAX,DWORD [-252+EBP]
   101 00000064 89 87 000000B8                  	MOV	DWORD [184+EDI],EAX
   102 0000006A 59                              	POP	ECX
   103 0000006B C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
   104 00000072 C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
   105 00000079 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   106 00000080 5E                              	POP	ESI
   107 00000081 74 21                           	JE	L3
   108 00000083 E8 [00000000]                   	CALL	_timer_alloc
   109 00000088 8D 57 10                        	LEA	EDX,DWORD [16+EDI]
   110 0000008B 6A 01                           	PUSH	1
   111 0000008D 52                              	PUSH	EDX
   112 0000008E 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   113 00000091 50                              	PUSH	EAX
   114 00000092 E8 [00000000]                   	CALL	_timer_init
   115 00000097 6A 32                           	PUSH	50
   116 00000099 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   117 0000009C E8 [00000000]                   	CALL	_timer_settime
   118 000000A1 83 C4 14                        	ADD	ESP,20
   119 000000A4                                 L3:
   120 000000A4 68 00100200                     	PUSH	1049088
   121 000000A9 BE 00000007                     	MOV	ESI,7
   122 000000AE FF B5 FFFFFF00                  	PUSH	DWORD [-256+EBP]
   123 000000B4 E8 [00000000]                   	CALL	_file_readfat
   124 000000B9 58                              	POP	EAX
   125 000000BA 5A                              	POP	EDX
   126 000000BB 31 C0                           	XOR	EAX,EAX
   127 000000BD                                 L8:
   128 000000BD C7 84 05 FFFFFF74 00000000      	MOV	DWORD [-140+EBP+EAX*1],0
   129 000000C8 83 C0 0C                        	ADD	EAX,12
   130 000000CB 4E                              	DEC	ESI
   131 000000CC 79 EF                           	JNS	L8
   132 000000CE 8B 95 FFFFFF00                  	MOV	EDX,DWORD [-256+EBP]
   133 000000D4 8B 8D FFFFFEF8                  	MOV	ECX,DWORD [-264+EBP]
   134 000000DA 8D 85 FFFFFF74                  	LEA	EAX,DWORD [-140+EBP]
   135 000000E0 89 97 000000B4                  	MOV	DWORD [180+EDI],EDX
   136 000000E6 89 87 000000B0                  	MOV	DWORD [176+EDI],EAX
   137 000000EC 80 B9 00001000 FF               	CMP	BYTE [4096+ECX],-1
   138 000000F3 C6 87 000000BD 00               	MOV	BYTE [189+EDI],0
   139 000000FA 0F 95 87 000000BC               	SETNE	BYTE [188+EDI]
   140 00000101 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   141 00000104 83 F8 01                        	CMP	EAX,1
   142 00000107 0F 84 0000028F                  	JE	L42
   143 0000010D 85 C0                           	TEST	EAX,EAX
   144 0000010F 75 0A                           	JNE	L12
   145 00000111 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   146 00000114 50                              	PUSH	EAX
   147 00000115 E8 0000176D                     	CALL	_cmd_setlog
   148 0000011A                                 L40:
   149 0000011A 58                              	POP	EAX
   150 0000011B                                 L12:
   151 0000011B 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   152 0000011E 53                              	PUSH	EBX
   153 0000011F E8 000004F5                     	CALL	_cons_putdir
   154 00000124 6A 01                           	PUSH	1
   155 00000126 6A 3E                           	PUSH	62
   156 00000128 53                              	PUSH	EBX
   157 00000129 89 85 FFFFFEFC                  	MOV	DWORD [-260+EBP],EAX
   158 0000012F E8 00000276                     	CALL	_cons_putchar
   159 00000134 83 C4 10                        	ADD	ESP,16
   160 00000137                                 L14:
   161 00000137 8D 5F 10                        	LEA	EBX,DWORD [16+EDI]
   162 0000013A E8 [00000000]                   	CALL	_io_cli
   163 0000013F 53                              	PUSH	EBX
   164 00000140 E8 [00000000]                   	CALL	_fifo32_status
   165 00000145 5E                              	POP	ESI
   166 00000146 85 C0                           	TEST	EAX,EAX
   167 00000148 0F 84 0000023D                  	JE	L43
   168 0000014E 53                              	PUSH	EBX
   169 0000014F E8 [00000000]                   	CALL	_fifo32_get
   170 00000154 89 C6                           	MOV	ESI,EAX
   171 00000156 E8 [00000000]                   	CALL	_io_sti
   172 0000015B 59                              	POP	ECX
   173 0000015C 83 FE 01                        	CMP	ESI,1
   174 0000015F 0F 8E 000001CF                  	JLE	L44
   175 00000165                                 L19:
   176 00000165 83 FE 02                        	CMP	ESI,2
   177 00000168 0F 84 000001BA                  	JE	L45
   178 0000016E                                 L24:
   179 0000016E 83 FE 03                        	CMP	ESI,3
   180 00000171 0F 84 0000017F                  	JE	L46
   181 00000177                                 L25:
   182 00000177 83 FE 04                        	CMP	ESI,4
   183 0000017A 0F 84 00000160                  	JE	L47
   184 00000180                                 L27:
   185 00000180 8D 9E FFFFFF00                  	LEA	EBX,DWORD [-256+ESI]
   186 00000186 89 9D FFFFFEF4                  	MOV	DWORD [-268+EBP],EBX
   187 0000018C 81 FB 000000FF                  	CMP	EBX,255
   188 00000192 77 54                           	JA	L28
   189 00000194 81 FE 00000108                  	CMP	ESI,264
   190 0000019A 0F 84 00000114                  	JE	L48
   191 000001A0 81 FE 0000010A                  	CMP	ESI,266
   192 000001A6 0F 84 0000008F                  	JE	L49
   193 000001AC 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   194 000001AF 81 F9 000000EF                  	CMP	ECX,239
   195 000001B5 7F 31                           	JG	L28
   196 000001B7 89 C8                           	MOV	EAX,ECX
   197 000001B9 BA 00000008                     	MOV	EDX,8
   198 000001BE 89 D3                           	MOV	EBX,EDX
   199 000001C0 6A 01                           	PUSH	1
   200 000001C2 99                              	CDQ
   201 000001C3 F7 FB                           	IDIV	EBX
   202 000001C5 89 C1                           	MOV	ECX,EAX
   203 000001C7 89 F0                           	MOV	EAX,ESI
   204 000001C9 2B 8D FFFFFEFC                  	SUB	ECX,DWORD [-260+EBP]
   205 000001CF 88 84 0D FFFFFF02               	MOV	BYTE [-254+EBP+ECX*1],AL
   206 000001D6 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   207 000001D9 FF B5 FFFFFEF4                  	PUSH	DWORD [-268+EBP]
   208 000001DF 50                              	PUSH	EAX
   209 000001E0 E8 000001C5                     	CALL	_cons_putchar
   210 000001E5                                 L41:
   211 000001E5 83 C4 0C                        	ADD	ESP,12
   212 000001E8                                 L28:
   213 000001E8 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   214 000001EB 85 DB                           	TEST	EBX,EBX
   215 000001ED 0F 84 FFFFFF44                  	JE	L14
   216 000001F3 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   217 000001F7 78 22                           	JS	L37
   218 000001F9 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   219 000001FC 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   220 000001FF 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   221 00000202 50                              	PUSH	EAX
   222 00000203 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   223 00000206 50                              	PUSH	EAX
   224 00000207 51                              	PUSH	ECX
   225 00000208 52                              	PUSH	EDX
   226 00000209 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   227 0000020D 50                              	PUSH	EAX
   228 0000020E FF 73 04                        	PUSH	DWORD [4+EBX]
   229 00000211 FF 33                           	PUSH	DWORD [EBX]
   230 00000213 E8 [00000000]                   	CALL	_boxfill8
   231 00000218 83 C4 1C                        	ADD	ESP,28
   232 0000021B                                 L37:
   233 0000021B 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   234 0000021E 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   235 00000221 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   236 00000224 50                              	PUSH	EAX
   237 00000225 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   238 00000228 50                              	PUSH	EAX
   239 00000229 51                              	PUSH	ECX
   240 0000022A 52                              	PUSH	EDX
   241 0000022B FF 75 D4                        	PUSH	DWORD [-44+EBP]
   242 0000022E E8 [00000000]                   	CALL	_sheet_refresh
   243 00000233 83 C4 14                        	ADD	ESP,20
   244 00000236 E9 FFFFFEFC                     	JMP	L14
   245 0000023B                                 L49:
   246 0000023B 6A 00                           	PUSH	0
   247 0000023D 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   248 00000240 6A 20                           	PUSH	32
   249 00000242 53                              	PUSH	EBX
   250 00000243 E8 00000162                     	CALL	_cons_putchar
   251 00000248 53                              	PUSH	EBX
   252 00000249 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   253 0000024C BA 00000008                     	MOV	EDX,8
   254 00000251 89 D1                           	MOV	ECX,EDX
   255 00000253 99                              	CDQ
   256 00000254 F7 F9                           	IDIV	ECX
   257 00000256 2B 85 FFFFFEFC                  	SUB	EAX,DWORD [-260+EBP]
   258 0000025C C6 84 05 FFFFFF02 00            	MOV	BYTE [-254+EBP+EAX*1],0
   259 00000264 E8 000001FC                     	CALL	_cons_newline
   260 00000269 8D 85 FFFFFF04                  	LEA	EAX,DWORD [-252+EBP]
   261 0000026F FF 75 0C                        	PUSH	DWORD [12+EBP]
   262 00000272 FF B5 FFFFFF00                  	PUSH	DWORD [-256+EBP]
   263 00000278 53                              	PUSH	EBX
   264 00000279 50                              	PUSH	EAX
   265 0000027A E8 00000481                     	CALL	_cons_runcmd
   266 0000027F 83 C4 20                        	ADD	ESP,32
   267 00000282 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   268 00000286 75 0E                           	JNE	L33
   269 00000288 FF B5 FFFFFF00                  	PUSH	DWORD [-256+EBP]
   270 0000028E 53                              	PUSH	EBX
   271 0000028F E8 00001F56                     	CALL	_cmd_exit
   272 00000294 58                              	POP	EAX
   273 00000295 5A                              	POP	EDX
   274 00000296                                 L33:
   275 00000296 53                              	PUSH	EBX
   276 00000297 E8 0000037D                     	CALL	_cons_putdir
   277 0000029C 6A 01                           	PUSH	1
   278 0000029E 6A 3E                           	PUSH	62
   279 000002A0 53                              	PUSH	EBX
   280 000002A1 89 85 FFFFFEFC                  	MOV	DWORD [-260+EBP],EAX
   281 000002A7 E8 000000FE                     	CALL	_cons_putchar
   282 000002AC 83 C4 10                        	ADD	ESP,16
   283 000002AF E9 FFFFFF34                     	JMP	L28
   284 000002B4                                 L48:
   285 000002B4 8B 95 FFFFFEFC                  	MOV	EDX,DWORD [-260+EBP]
   286 000002BA 8D 04 D5 00000010               	LEA	EAX,DWORD [16+EDX*8]
   287 000002C1 39 45 D8                        	CMP	DWORD [-40+EBP],EAX
   288 000002C4 0F 8E FFFFFF1E                  	JLE	L28
   289 000002CA 6A 00                           	PUSH	0
   290 000002CC 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   291 000002CF 6A 20                           	PUSH	32
   292 000002D1 50                              	PUSH	EAX
   293 000002D2 E8 000000D3                     	CALL	_cons_putchar
   294 000002D7 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   295 000002DB E9 FFFFFF05                     	JMP	L41
   296 000002E0                                 L47:
   297 000002E0 FF B5 FFFFFF00                  	PUSH	DWORD [-256+EBP]
   298 000002E6 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   299 000002E9 50                              	PUSH	EAX
   300 000002EA E8 00001EFB                     	CALL	_cmd_exit
   301 000002EF 59                              	POP	ECX
   302 000002F0 5B                              	POP	EBX
   303 000002F1 E9 FFFFFE8A                     	JMP	L27
   304 000002F6                                 L46:
   305 000002F6 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   306 000002F9 85 DB                           	TEST	EBX,EBX
   307 000002FB 74 1F                           	JE	L26
   308 000002FD 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   309 00000300 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   310 00000303 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   311 00000306 50                              	PUSH	EAX
   312 00000307 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   313 0000030A 50                              	PUSH	EAX
   314 0000030B 51                              	PUSH	ECX
   315 0000030C 52                              	PUSH	EDX
   316 0000030D 6A 00                           	PUSH	0
   317 0000030F FF 73 04                        	PUSH	DWORD [4+EBX]
   318 00000312 FF 33                           	PUSH	DWORD [EBX]
   319 00000314 E8 [00000000]                   	CALL	_boxfill8
   320 00000319 83 C4 1C                        	ADD	ESP,28
   321 0000031C                                 L26:
   322 0000031C C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   323 00000323 E9 FFFFFE4F                     	JMP	L25
   324 00000328                                 L45:
   325 00000328 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   326 0000032F E9 FFFFFE3A                     	JMP	L24
   327 00000334                                 L44:
   328 00000334 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   329 00000338 0F 84 FFFFFE27                  	JE	L19
   330 0000033E 85 F6                           	TEST	ESI,ESI
   331 00000340 74 2C                           	JE	L20
   332 00000342 6A 00                           	PUSH	0
   333 00000344 53                              	PUSH	EBX
   334 00000345 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   335 00000348 E8 [00000000]                   	CALL	_timer_init
   336 0000034D 83 C4 0C                        	ADD	ESP,12
   337 00000350 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   338 00000354 78 07                           	JS	L22
   339 00000356 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   340 0000035D                                 L22:
   341 0000035D 6A 32                           	PUSH	50
   342 0000035F FF 75 E4                        	PUSH	DWORD [-28+EBP]
   343 00000362 E8 [00000000]                   	CALL	_timer_settime
   344 00000367 58                              	POP	EAX
   345 00000368 5A                              	POP	EDX
   346 00000369 E9 FFFFFDF7                     	JMP	L19
   347 0000036E                                 L20:
   348 0000036E 6A 01                           	PUSH	1
   349 00000370 53                              	PUSH	EBX
   350 00000371 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   351 00000374 E8 [00000000]                   	CALL	_timer_init
   352 00000379 83 C4 0C                        	ADD	ESP,12
   353 0000037C 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   354 00000380 78 DB                           	JS	L22
   355 00000382 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   356 00000389 EB D2                           	JMP	L22
   357 0000038B                                 L43:
   358 0000038B 57                              	PUSH	EDI
   359 0000038C E8 [00000000]                   	CALL	_task_sleep
   360 00000391 E8 [00000000]                   	CALL	_io_sti
   361 00000396 5B                              	POP	EBX
   362 00000397 E9 FFFFFD9B                     	JMP	L14
   363 0000039C                                 L42:
   364 0000039C 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   365 0000039F 50                              	PUSH	EAX
   366 000003A0 E8 00001AE7                     	CALL	_cmd_mkfs
   367 000003A5 E9 FFFFFD70                     	JMP	L40
   368                                          [SECTION .data]
   369 00000008                                 LC0:
   370 00000008 20 00                           	DB	" ",0x00
   371                                          [SECTION .text]
   372 000003AA                                 	GLOBAL	_cons_putchar
   373 000003AA                                 _cons_putchar:
   374 000003AA 55                              	PUSH	EBP
   375 000003AB 89 E5                           	MOV	EBP,ESP
   376 000003AD 53                              	PUSH	EBX
   377 000003AE 50                              	PUSH	EAX
   378 000003AF 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   379 000003B2 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   380 000003B5 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   381 000003B8 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   382 000003BB 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   383 000003BE 3C 09                           	CMP	AL,9
   384 000003C0 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   385 000003C4 74 52                           	JE	L52
   386 000003C6 3C 0A                           	CMP	AL,10
   387 000003C8 74 2A                           	JE	L66
   388 000003CA 3C 0D                           	CMP	AL,13
   389 000003CC 74 21                           	JE	L50
   390 000003CE 8B 13                           	MOV	EDX,DWORD [EBX]
   391 000003D0 85 D2                           	TEST	EDX,EDX
   392 000003D2 75 29                           	JNE	L67
   393 000003D4                                 L63:
   394 000003D4 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   395 000003D8 74 15                           	JE	L50
   396 000003DA 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   397 000003DD 8B 13                           	MOV	EDX,DWORD [EBX]
   398 000003DF 83 C0 08                        	ADD	EAX,8
   399 000003E2 89 43 04                        	MOV	DWORD [4+EBX],EAX
   400 000003E5 8B 52 04                        	MOV	EDX,DWORD [4+EDX]
   401 000003E8 83 EA 08                        	SUB	EDX,8
   402 000003EB 39 D0                           	CMP	EAX,EDX
   403 000003ED 74 05                           	JE	L66
   404 000003EF                                 L50:
   405 000003EF 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   406 000003F2 C9                              	LEAVE
   407 000003F3 C3                              	RET
   408 000003F4                                 L66:
   409 000003F4 53                              	PUSH	EBX
   410 000003F5 E8 0000006B                     	CALL	_cons_newline
   411 000003FA 58                              	POP	EAX
   412 000003FB EB F2                           	JMP	L50
   413 000003FD                                 L67:
   414 000003FD 6A 01                           	PUSH	1
   415 000003FF 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   416 00000402 50                              	PUSH	EAX
   417 00000403 6A 00                           	PUSH	0
   418 00000405 6A 07                           	PUSH	7
   419 00000407 FF 73 08                        	PUSH	DWORD [8+EBX]
   420 0000040A FF 73 04                        	PUSH	DWORD [4+EBX]
   421 0000040D 52                              	PUSH	EDX
   422 0000040E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   423 00000413 83 C4 1C                        	ADD	ESP,28
   424 00000416 EB BC                           	JMP	L63
   425 00000418                                 L52:
   426 00000418 8B 03                           	MOV	EAX,DWORD [EBX]
   427 0000041A 85 C0                           	TEST	EAX,EAX
   428 0000041C 75 2B                           	JNE	L68
   429 0000041E                                 L55:
   430 0000041E 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   431 00000421 8B 13                           	MOV	EDX,DWORD [EBX]
   432 00000423 83 C0 08                        	ADD	EAX,8
   433 00000426 89 43 04                        	MOV	DWORD [4+EBX],EAX
   434 00000429 8B 52 04                        	MOV	EDX,DWORD [4+EDX]
   435 0000042C 83 EA 08                        	SUB	EDX,8
   436 0000042F 39 D0                           	CMP	EAX,EDX
   437 00000431 74 0D                           	JE	L69
   438 00000433                                 L56:
   439 00000433 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   440 00000436 83 E8 08                        	SUB	EAX,8
   441 00000439 83 E0 1F                        	AND	EAX,31
   442 0000043C 75 DA                           	JNE	L52
   443 0000043E EB AF                           	JMP	L50
   444 00000440                                 L69:
   445 00000440 53                              	PUSH	EBX
   446 00000441 E8 0000001F                     	CALL	_cons_newline
   447 00000446 58                              	POP	EAX
   448 00000447 EB EA                           	JMP	L56
   449 00000449                                 L68:
   450 00000449 6A 01                           	PUSH	1
   451 0000044B 68 [00000008]                   	PUSH	LC0
   452 00000450 6A 00                           	PUSH	0
   453 00000452 6A 07                           	PUSH	7
   454 00000454 FF 73 08                        	PUSH	DWORD [8+EBX]
   455 00000457 FF 73 04                        	PUSH	DWORD [4+EBX]
   456 0000045A 50                              	PUSH	EAX
   457 0000045B E8 [00000000]                   	CALL	_putfonts8_asc_sht
   458 00000460 83 C4 1C                        	ADD	ESP,28
   459 00000463 EB B9                           	JMP	L55
   460 00000465                                 	GLOBAL	_cons_newline
   461 00000465                                 _cons_newline:
   462 00000465 55                              	PUSH	EBP
   463 00000466 89 E5                           	MOV	EBP,ESP
   464 00000468 57                              	PUSH	EDI
   465 00000469 56                              	PUSH	ESI
   466 0000046A 53                              	PUSH	EBX
   467 0000046B 83 EC 14                        	SUB	ESP,20
   468 0000046E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   469 00000471 8B 00                           	MOV	EAX,DWORD [EAX]
   470 00000473 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   471 00000476 8B 58 08                        	MOV	EBX,DWORD [8+EAX]
   472 00000479 8B 50 04                        	MOV	EDX,DWORD [4+EAX]
   473 0000047C 83 EA 10                        	SUB	EDX,16
   474 0000047F 8D 4B DB                        	LEA	ECX,DWORD [-37+EBX]
   475 00000482 89 55 F0                        	MOV	DWORD [-16+EBP],EDX
   476 00000485 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
   477 00000488 E8 [00000000]                   	CALL	_task_now
   478 0000048D 8D 53 E7                        	LEA	EDX,DWORD [-25+EBX]
   479 00000490 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   480 00000493 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   481 00000496 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
   482 00000499 39 D0                           	CMP	EAX,EDX
   483 0000049B 7D 36                           	JGE	L71
   484 0000049D 83 C0 10                        	ADD	EAX,16
   485 000004A0 89 43 08                        	MOV	DWORD [8+EBX],EAX
   486 000004A3                                 L72:
   487 000004A3 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   488 000004A6 8B 55 E4                        	MOV	EDX,DWORD [-28+EBP]
   489 000004A9 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   490 000004B0 80 BA 000000BC 01               	CMP	BYTE [188+EDX],1
   491 000004B7 74 08                           	JE	L103
   492 000004B9                                 L70:
   493 000004B9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   494 000004BC 5B                              	POP	EBX
   495 000004BD 5E                              	POP	ESI
   496 000004BE 5F                              	POP	EDI
   497 000004BF 5D                              	POP	EBP
   498 000004C0 C3                              	RET
   499 000004C1                                 L103:
   500 000004C1 80 BA 000000BD 00               	CMP	BYTE [189+EDX],0
   501 000004C8 74 EF                           	JE	L70
   502 000004CA C7 40 04 00000010               	MOV	DWORD [4+EAX],16
   503 000004D1 EB E6                           	JMP	L70
   504 000004D3                                 L71:
   505 000004D3 83 7D E8 00                     	CMP	DWORD [-24+EBP],0
   506 000004D7 74 CA                           	JE	L72
   507 000004D9 BF 0000001C                     	MOV	EDI,28
   508 000004DE 39 D7                           	CMP	EDI,EDX
   509 000004E0 7D 45                           	JGE	L96
   510 000004E2                                 L83:
   511 000004E2 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   512 000004E5 BE 00000008                     	MOV	ESI,8
   513 000004EA 83 C0 08                        	ADD	EAX,8
   514 000004ED 89 45 E0                        	MOV	DWORD [-32+EBP],EAX
   515 000004F0 39 C6                           	CMP	ESI,EAX
   516 000004F2 7D 28                           	JGE	L98
   517 000004F4                                 L82:
   518 000004F4 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   519 000004F7 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   520 000004FA 8B 4A 04                        	MOV	ECX,DWORD [4+EDX]
   521 000004FD 8B 18                           	MOV	EBX,DWORD [EAX]
   522 000004FF 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   523 00000502 89 FA                           	MOV	EDX,EDI
   524 00000504 0F AF C1                        	IMUL	EAX,ECX
   525 00000507 0F AF D1                        	IMUL	EDX,ECX
   526 0000050A 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   527 0000050D 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   528 00000510 46                              	INC	ESI
   529 00000511 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   530 00000514 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   531 00000517 3B 75 E0                        	CMP	ESI,DWORD [-32+EBP]
   532 0000051A 7C D8                           	JL	L82
   533 0000051C                                 L98:
   534 0000051C 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   535 0000051F 47                              	INC	EDI
   536 00000520 83 C0 0C                        	ADD	EAX,12
   537 00000523 39 C7                           	CMP	EDI,EAX
   538 00000525 7C BB                           	JL	L83
   539 00000527                                 L96:
   540 00000527 8B 7D EC                        	MOV	EDI,DWORD [-20+EBP]
   541 0000052A 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   542 0000052D 83 C7 0C                        	ADD	EDI,12
   543 00000530 83 C0 1C                        	ADD	EAX,28
   544 00000533 39 C7                           	CMP	EDI,EAX
   545 00000535 7D 31                           	JGE	L100
   546 00000537                                 L93:
   547 00000537 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   548 0000053A BE 00000008                     	MOV	ESI,8
   549 0000053F 83 C1 08                        	ADD	ECX,8
   550 00000542 39 CE                           	CMP	ESI,ECX
   551 00000544 7D 17                           	JGE	L102
   552 00000546                                 L92:
   553 00000546 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   554 00000549 89 F8                           	MOV	EAX,EDI
   555 0000054B 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   556 0000054F 8B 12                           	MOV	EDX,DWORD [EDX]
   557 00000551 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   558 00000554 46                              	INC	ESI
   559 00000555 39 CE                           	CMP	ESI,ECX
   560 00000557 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   561 0000055B 7C E9                           	JL	L92
   562 0000055D                                 L102:
   563 0000055D 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   564 00000560 47                              	INC	EDI
   565 00000561 83 C0 1C                        	ADD	EAX,28
   566 00000564 39 C7                           	CMP	EDI,EAX
   567 00000566 7C CF                           	JL	L93
   568 00000568                                 L100:
   569 00000568 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   570 0000056B 83 C0 1C                        	ADD	EAX,28
   571 0000056E 50                              	PUSH	EAX
   572 0000056F 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   573 00000572 83 C0 08                        	ADD	EAX,8
   574 00000575 50                              	PUSH	EAX
   575 00000576 6A 1C                           	PUSH	28
   576 00000578 6A 08                           	PUSH	8
   577 0000057A FF 75 E8                        	PUSH	DWORD [-24+EBP]
   578 0000057D E8 [00000000]                   	CALL	_sheet_refresh
   579 00000582 83 C4 14                        	ADD	ESP,20
   580 00000585 E9 FFFFFF19                     	JMP	L72
   581 0000058A                                 	GLOBAL	_cons_putstr
   582 0000058A                                 _cons_putstr:
   583 0000058A 55                              	PUSH	EBP
   584 0000058B 89 E5                           	MOV	EBP,ESP
   585 0000058D 56                              	PUSH	ESI
   586 0000058E 53                              	PUSH	EBX
   587 0000058F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   588 00000592 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   589 00000595 80 3B 00                        	CMP	BYTE [EBX],0
   590 00000598 75 07                           	JNE	L109
   591 0000059A                                 L111:
   592 0000059A 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   593 0000059D 5B                              	POP	EBX
   594 0000059E 5E                              	POP	ESI
   595 0000059F 5D                              	POP	EBP
   596 000005A0 C3                              	RET
   597 000005A1                                 L109:
   598 000005A1 6A 01                           	PUSH	1
   599 000005A3 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   600 000005A6 50                              	PUSH	EAX
   601 000005A7 43                              	INC	EBX
   602 000005A8 56                              	PUSH	ESI
   603 000005A9 E8 FFFFFDFC                     	CALL	_cons_putchar
   604 000005AE 83 C4 0C                        	ADD	ESP,12
   605 000005B1 80 3B 00                        	CMP	BYTE [EBX],0
   606 000005B4 75 EB                           	JNE	L109
   607 000005B6 EB E2                           	JMP	L111
   608 000005B8                                 	GLOBAL	_cons_putstr0
   609 000005B8                                 _cons_putstr0:
   610 000005B8 55                              	PUSH	EBP
   611 000005B9 89 E5                           	MOV	EBP,ESP
   612 000005BB 56                              	PUSH	ESI
   613 000005BC 53                              	PUSH	EBX
   614 000005BD 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   615 000005C0 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   616 000005C3 80 3B 00                        	CMP	BYTE [EBX],0
   617 000005C6 75 07                           	JNE	L117
   618 000005C8                                 L119:
   619 000005C8 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   620 000005CB 5B                              	POP	EBX
   621 000005CC 5E                              	POP	ESI
   622 000005CD 5D                              	POP	EBP
   623 000005CE C3                              	RET
   624 000005CF                                 L117:
   625 000005CF 6A 01                           	PUSH	1
   626 000005D1 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   627 000005D4 50                              	PUSH	EAX
   628 000005D5 43                              	INC	EBX
   629 000005D6 56                              	PUSH	ESI
   630 000005D7 E8 FFFFFDCE                     	CALL	_cons_putchar
   631 000005DC 83 C4 0C                        	ADD	ESP,12
   632 000005DF 80 3B 00                        	CMP	BYTE [EBX],0
   633 000005E2 75 EB                           	JNE	L117
   634 000005E4 EB E2                           	JMP	L119
   635 000005E6                                 	GLOBAL	_cons_putstr1
   636 000005E6                                 _cons_putstr1:
   637 000005E6 55                              	PUSH	EBP
   638 000005E7 89 E5                           	MOV	EBP,ESP
   639 000005E9 57                              	PUSH	EDI
   640 000005EA 56                              	PUSH	ESI
   641 000005EB 53                              	PUSH	EBX
   642 000005EC 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   643 000005EF 31 DB                           	XOR	EBX,EBX
   644 000005F1 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   645 000005F4 39 F3                           	CMP	EBX,ESI
   646 000005F6 7C 08                           	JL	L125
   647 000005F8                                 L127:
   648 000005F8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   649 000005FB 5B                              	POP	EBX
   650 000005FC 5E                              	POP	ESI
   651 000005FD 5F                              	POP	EDI
   652 000005FE 5D                              	POP	EBP
   653 000005FF C3                              	RET
   654 00000600                                 L125:
   655 00000600 6A 01                           	PUSH	1
   656 00000602 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   657 00000606 50                              	PUSH	EAX
   658 00000607 43                              	INC	EBX
   659 00000608 FF 75 08                        	PUSH	DWORD [8+EBP]
   660 0000060B E8 FFFFFD9A                     	CALL	_cons_putchar
   661 00000610 83 C4 0C                        	ADD	ESP,12
   662 00000613 39 F3                           	CMP	EBX,ESI
   663 00000615 7C E9                           	JL	L125
   664 00000617 EB DF                           	JMP	L127
   665 00000619                                 	GLOBAL	_cons_putdir
   666 00000619                                 _cons_putdir:
   667 00000619 55                              	PUSH	EBP
   668 0000061A 89 E5                           	MOV	EBP,ESP
   669 0000061C 56                              	PUSH	ESI
   670 0000061D 53                              	PUSH	EBX
   671 0000061E 31 DB                           	XOR	EBX,EBX
   672 00000620 83 EC 40                        	SUB	ESP,64
   673 00000623 8D 45 B8                        	LEA	EAX,DWORD [-72+EBP]
   674 00000626 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   675 00000629 FF 76 14                        	PUSH	DWORD [20+ESI]
   676 0000062C 50                              	PUSH	EAX
   677 0000062D E8 00000026                     	CALL	_get_pathname
   678 00000632 5A                              	POP	EDX
   679 00000633 31 C0                           	XOR	EAX,EAX
   680 00000635 59                              	POP	ECX
   681 00000636 80 7D B8 00                     	CMP	BYTE [-72+EBP],0
   682 0000063A 74 09                           	JE	L135
   683 0000063C                                 L133:
   684 0000063C 40                              	INC	EAX
   685 0000063D 43                              	INC	EBX
   686 0000063E 80 7C 05 B8 00                  	CMP	BYTE [-72+EBP+EAX*1],0
   687 00000643 75 F7                           	JNE	L133
   688 00000645                                 L135:
   689 00000645 8D 45 B8                        	LEA	EAX,DWORD [-72+EBP]
   690 00000648 50                              	PUSH	EAX
   691 00000649 56                              	PUSH	ESI
   692 0000064A E8 FFFFFF3B                     	CALL	_cons_putstr
   693 0000064F 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   694 00000652 89 D8                           	MOV	EAX,EBX
   695 00000654 5B                              	POP	EBX
   696 00000655 5E                              	POP	ESI
   697 00000656 5D                              	POP	EBP
   698 00000657 C3                              	RET
   699                                          [SECTION .data]
   700 0000000A                                 LC1:
   701 0000000A 00                              	DB	0x00
   702 0000000B                                 LC4:
   703 0000000B 2F 25 73 00                     	DB	"/%s",0x00
   704 0000000F                                 LC3:
   705 0000000F 25 73 00                        	DB	"%s",0x00
   706 00000012                                 LC2:
   707 00000012 25 73 2F 25 73 00               	DB	"%s/%s",0x00
   708                                          [SECTION .text]
   709 00000658                                 	GLOBAL	_get_pathname
   710 00000658                                 _get_pathname:
   711 00000658 55                              	PUSH	EBP
   712 00000659 89 E5                           	MOV	EBP,ESP
   713 0000065B 57                              	PUSH	EDI
   714 0000065C 56                              	PUSH	ESI
   715 0000065D 53                              	PUSH	EBX
   716 0000065E 81 EC 000000B8                  	SUB	ESP,184
   717 00000664 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   718 00000667 68 [0000000A]                   	PUSH	LC1
   719 0000066C FF 75 08                        	PUSH	DWORD [8+EBP]
   720 0000066F E8 [00000000]                   	CALL	_sprintf
   721 00000674 58                              	POP	EAX
   722 00000675 5A                              	POP	EDX
   723 00000676 83 BF 000007D8 00               	CMP	DWORD [2008+EDI],0
   724 0000067D 75 27                           	JNE	L140
   725 0000067F                                 L142:
   726 0000067F FF 75 08                        	PUSH	DWORD [8+EBP]
   727 00000682 68 [0000000B]                   	PUSH	LC4
   728 00000687 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
   729 0000068A 53                              	PUSH	EBX
   730 0000068B E8 [00000000]                   	CALL	_sprintf
   731 00000690 53                              	PUSH	EBX
   732 00000691 68 [0000000F]                   	PUSH	LC3
   733 00000696 FF 75 08                        	PUSH	DWORD [8+EBP]
   734 00000699 E8 [00000000]                   	CALL	_sprintf
   735 0000069E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   736 000006A1 5B                              	POP	EBX
   737 000006A2 5E                              	POP	ESI
   738 000006A3 5F                              	POP	EDI
   739 000006A4 5D                              	POP	EBP
   740 000006A5 C3                              	RET
   741 000006A6                                 L140:
   742 000006A6 8D 87 000007D0                  	LEA	EAX,DWORD [2000+EDI]
   743 000006AC 8D B5 FFFFFF3C                  	LEA	ESI,DWORD [-196+EBP]
   744 000006B2 50                              	PUSH	EAX
   745 000006B3 8D 9D FFFFFF44                  	LEA	EBX,DWORD [-188+EBP]
   746 000006B9 56                              	PUSH	ESI
   747 000006BA E8 [00000000]                   	CALL	_sprintf
   748 000006BF FF 75 08                        	PUSH	DWORD [8+EBP]
   749 000006C2 56                              	PUSH	ESI
   750 000006C3 68 [00000012]                   	PUSH	LC2
   751 000006C8 53                              	PUSH	EBX
   752 000006C9 E8 [00000000]                   	CALL	_sprintf
   753 000006CE 8B BF 000007D8                  	MOV	EDI,DWORD [2008+EDI]
   754 000006D4 53                              	PUSH	EBX
   755 000006D5 68 [0000000F]                   	PUSH	LC3
   756 000006DA FF 75 08                        	PUSH	DWORD [8+EBP]
   757 000006DD E8 [00000000]                   	CALL	_sprintf
   758 000006E2 83 C4 24                        	ADD	ESP,36
   759 000006E5 68 [0000000A]                   	PUSH	LC1
   760 000006EA 56                              	PUSH	ESI
   761 000006EB E8 [00000000]                   	CALL	_sprintf
   762 000006F0 5B                              	POP	EBX
   763 000006F1 5E                              	POP	ESI
   764 000006F2 83 BF 000007D8 00               	CMP	DWORD [2008+EDI],0
   765 000006F9 75 AB                           	JNE	L140
   766 000006FB E9 FFFFFF7F                     	JMP	L142
   767                                          [SECTION .data]
   768 00000018                                 LC5:
   769 00000018 63 61 74 20 00                  	DB	"cat ",0x00
   770 0000001D                                 LC6:
   771 0000001D 63 64 20 00                     	DB	"cd ",0x00
   772 00000021                                 LC7:
   773 00000021 63 6C 73 00                     	DB	"cls",0x00
   774 00000025                                 LC8:
   775 00000025 64 69 72 00                     	DB	"dir",0x00
   776 00000029                                 LC9:
   777 00000029 65 78 69 74 00                  	DB	"exit",0x00
   778 0000002E                                 LC10:
   779 0000002E 65 64 69 74 20 00               	DB	"edit ",0x00
   780 00000034                                 LC11:
   781 00000034 66 64 64 69 72 00               	DB	"fddir",0x00
   782 0000003A                                 LC12:
   783 0000003A 66 76 69 65 77 20 00            	DB	"fview ",0x00
   784 00000041                                 LC13:
   785 00000041 6C 61 6E 67 6D 6F 64 65 20 00   	DB	"langmode ",0x00
   786 0000004B                                 LC14:
   787 0000004B 6C 6F 67 00                     	DB	"log",0x00
   788 0000004F                                 LC15:
   789 0000004F 6C 6F 67 63 6C 73 00            	DB	"logcls",0x00
   790 00000056                                 LC16:
   791 00000056 6D 65 6D 00                     	DB	"mem",0x00
   792 0000005A                                 LC17:
   793 0000005A 6D 6B 66 73 00                  	DB	"mkfs",0x00
   794 0000005F                                 LC18:
   795 0000005F 6D 6B 64 69 72 20 00            	DB	"mkdir ",0x00
   796 00000066                                 LC19:
   797 00000066 6D 6B 66 69 6C 65 20 00         	DB	"mkfile ",0x00
   798 0000006E                                 LC20:
   799 0000006E 6D 65 6D 6D 61 70 00            	DB	"memmap",0x00
   800 00000075                                 LC21:
   801 00000075 6E 63 73 74 20 00               	DB	"ncst ",0x00
   802 0000007B                                 LC22:
   803 0000007B 73 74 61 72 74 20 00            	DB	"start ",0x00
   804 00000082                                 LC23:
   805 00000082 73 65 74 6C 6F 67 00            	DB	"setlog",0x00
   806 00000089                                 LC24:
   807 00000089 73 68 6F 77 20 00               	DB	"show ",0x00
   808 0000008F                                 LC25:
   809 0000008F 74 65 73 74 00                  	DB	"test",0x00
   810 00000094                                 LC26:
   811 00000094 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       0000009E 64 2E 0A 0A 00 
   812                                          [SECTION .text]
   813 00000700                                 	GLOBAL	_cons_runcmd
   814 00000700                                 _cons_runcmd:
   815 00000700 55                              	PUSH	EBP
   816 00000701 89 E5                           	MOV	EBP,ESP
   817 00000703 57                              	PUSH	EDI
   818 00000704 56                              	PUSH	ESI
   819 00000705 BF [00000018]                   	MOV	EDI,LC5
   820 0000070A 53                              	PUSH	EBX
   821 0000070B 83 EC 0C                        	SUB	ESP,12
   822 0000070E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   823 00000711 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   824 00000714 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   825 00000717 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   826 0000071A 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   827 0000071D 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   828 00000720 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   829 00000723 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   830 00000726 B8 00000004                     	MOV	EAX,4
   831 0000072B FC                              	CLD
   832 0000072C 89 C1                           	MOV	ECX,EAX
   833 0000072E F3                              	REPE
   834 0000072F A6                              	CMPSB
   835 00000730 75 09                           	JNE	L144
   836 00000732 83 3B 00                        	CMP	DWORD [EBX],0
   837 00000735 0F 85 000003CD                  	JNE	L188
   838 0000073B                                 L144:
   839 0000073B B8 00000003                     	MOV	EAX,3
   840 00000740 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   841 00000743 FC                              	CLD
   842 00000744 BF [0000001D]                   	MOV	EDI,LC6
   843 00000749 89 C1                           	MOV	ECX,EAX
   844 0000074B F3                              	REPE
   845 0000074C A6                              	CMPSB
   846 0000074D 0F 84 000003A3                  	JE	L189
   847 00000753 B8 00000004                     	MOV	EAX,4
   848 00000758 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   849 0000075B FC                              	CLD
   850 0000075C BF [00000021]                   	MOV	EDI,LC7
   851 00000761 89 C1                           	MOV	ECX,EAX
   852 00000763 F3                              	REPE
   853 00000764 A6                              	CMPSB
   854 00000765 75 09                           	JNE	L148
   855 00000767 83 3B 00                        	CMP	DWORD [EBX],0
   856 0000076A 0F 85 00000377                  	JNE	L190
   857 00000770                                 L148:
   858 00000770 B8 00000004                     	MOV	EAX,4
   859 00000775 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   860 00000778 FC                              	CLD
   861 00000779 BF [00000025]                   	MOV	EDI,LC8
   862 0000077E 89 C1                           	MOV	ECX,EAX
   863 00000780 F3                              	REPE
   864 00000781 A6                              	CMPSB
   865 00000782 75 09                           	JNE	L150
   866 00000784 83 3B 00                        	CMP	DWORD [EBX],0
   867 00000787 0F 85 0000034B                  	JNE	L191
   868 0000078D                                 L150:
   869 0000078D B8 00000005                     	MOV	EAX,5
   870 00000792 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   871 00000795 FC                              	CLD
   872 00000796 BF [00000029]                   	MOV	EDI,LC9
   873 0000079B 89 C1                           	MOV	ECX,EAX
   874 0000079D F3                              	REPE
   875 0000079E A6                              	CMPSB
   876 0000079F 0F 84 0000031E                  	JE	L192
   877 000007A5 B8 00000005                     	MOV	EAX,5
   878 000007AA 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   879 000007AD FC                              	CLD
   880 000007AE BF [0000002E]                   	MOV	EDI,LC10
   881 000007B3 89 C1                           	MOV	ECX,EAX
   882 000007B5 F3                              	REPE
   883 000007B6 A6                              	CMPSB
   884 000007B7 75 09                           	JNE	L154
   885 000007B9 83 3B 00                        	CMP	DWORD [EBX],0
   886 000007BC 0F 85 000002EC                  	JNE	L193
   887 000007C2                                 L154:
   888 000007C2 B8 00000006                     	MOV	EAX,6
   889 000007C7 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   890 000007CA FC                              	CLD
   891 000007CB BF [00000034]                   	MOV	EDI,LC11
   892 000007D0 89 C1                           	MOV	ECX,EAX
   893 000007D2 F3                              	REPE
   894 000007D3 A6                              	CMPSB
   895 000007D4 75 09                           	JNE	L156
   896 000007D6 83 3B 00                        	CMP	DWORD [EBX],0
   897 000007D9 0F 85 000002C0                  	JNE	L194
   898 000007DF                                 L156:
   899 000007DF B8 00000006                     	MOV	EAX,6
   900 000007E4 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   901 000007E7 FC                              	CLD
   902 000007E8 BF [0000003A]                   	MOV	EDI,LC12
   903 000007ED 89 C1                           	MOV	ECX,EAX
   904 000007EF F3                              	REPE
   905 000007F0 A6                              	CMPSB
   906 000007F1 75 09                           	JNE	L158
   907 000007F3 83 3B 00                        	CMP	DWORD [EBX],0
   908 000007F6 0F 85 0000028E                  	JNE	L195
   909 000007FC                                 L158:
   910 000007FC B8 00000009                     	MOV	EAX,9
   911 00000801 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   912 00000804 FC                              	CLD
   913 00000805 BF [00000041]                   	MOV	EDI,LC13
   914 0000080A 89 C1                           	MOV	ECX,EAX
   915 0000080C F3                              	REPE
   916 0000080D A6                              	CMPSB
   917 0000080E 0F 84 00000261                  	JE	L196
   918 00000814 B8 00000004                     	MOV	EAX,4
   919 00000819 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   920 0000081C FC                              	CLD
   921 0000081D BF [0000004B]                   	MOV	EDI,LC14
   922 00000822 89 C1                           	MOV	ECX,EAX
   923 00000824 F3                              	REPE
   924 00000825 A6                              	CMPSB
   925 00000826 75 09                           	JNE	L162
   926 00000828 83 3B 00                        	CMP	DWORD [EBX],0
   927 0000082B 0F 85 00000235                  	JNE	L197
   928 00000831                                 L162:
   929 00000831 B8 00000007                     	MOV	EAX,7
   930 00000836 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   931 00000839 FC                              	CLD
   932 0000083A BF [0000004F]                   	MOV	EDI,LC15
   933 0000083F 89 C1                           	MOV	ECX,EAX
   934 00000841 F3                              	REPE
   935 00000842 A6                              	CMPSB
   936 00000843 75 09                           	JNE	L164
   937 00000845 83 3B 00                        	CMP	DWORD [EBX],0
   938 00000848 0F 85 00000209                  	JNE	L198
   939 0000084E                                 L164:
   940 0000084E B8 00000004                     	MOV	EAX,4
   941 00000853 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   942 00000856 FC                              	CLD
   943 00000857 BF [00000056]                   	MOV	EDI,LC16
   944 0000085C 89 C1                           	MOV	ECX,EAX
   945 0000085E F3                              	REPE
   946 0000085F A6                              	CMPSB
   947 00000860 75 09                           	JNE	L166
   948 00000862 83 3B 00                        	CMP	DWORD [EBX],0
   949 00000865 0F 85 000001D7                  	JNE	L199
   950 0000086B                                 L166:
   951 0000086B B8 00000005                     	MOV	EAX,5
   952 00000870 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   953 00000873 FC                              	CLD
   954 00000874 BF [0000005A]                   	MOV	EDI,LC17
   955 00000879 89 C1                           	MOV	ECX,EAX
   956 0000087B F3                              	REPE
   957 0000087C A6                              	CMPSB
   958 0000087D 75 09                           	JNE	L168
   959 0000087F 83 3B 00                        	CMP	DWORD [EBX],0
   960 00000882 0F 85 000001AB                  	JNE	L200
   961 00000888                                 L168:
   962 00000888 B8 00000006                     	MOV	EAX,6
   963 0000088D 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   964 00000890 FC                              	CLD
   965 00000891 BF [0000005F]                   	MOV	EDI,LC18
   966 00000896 89 C1                           	MOV	ECX,EAX
   967 00000898 F3                              	REPE
   968 00000899 A6                              	CMPSB
   969 0000089A 0F 84 0000017E                  	JE	L201
   970 000008A0 B8 00000007                     	MOV	EAX,7
   971 000008A5 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   972 000008A8 FC                              	CLD
   973 000008A9 BF [00000066]                   	MOV	EDI,LC19
   974 000008AE 89 C1                           	MOV	ECX,EAX
   975 000008B0 F3                              	REPE
   976 000008B1 A6                              	CMPSB
   977 000008B2 0F 84 00000151                  	JE	L202
   978 000008B8 B8 00000007                     	MOV	EAX,7
   979 000008BD 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   980 000008C0 FC                              	CLD
   981 000008C1 BF [0000006E]                   	MOV	EDI,LC20
   982 000008C6 89 C1                           	MOV	ECX,EAX
   983 000008C8 F3                              	REPE
   984 000008C9 A6                              	CMPSB
   985 000008CA 75 09                           	JNE	L174
   986 000008CC 83 3B 00                        	CMP	DWORD [EBX],0
   987 000008CF 0F 85 0000011F                  	JNE	L203
   988 000008D5                                 L174:
   989 000008D5 B8 00000005                     	MOV	EAX,5
   990 000008DA 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   991 000008DD FC                              	CLD
   992 000008DE BF [00000075]                   	MOV	EDI,LC21
   993 000008E3 89 C1                           	MOV	ECX,EAX
   994 000008E5 F3                              	REPE
   995 000008E6 A6                              	CMPSB
   996 000008E7 0F 84 000000EC                  	JE	L204
   997 000008ED B8 00000006                     	MOV	EAX,6
   998 000008F2 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   999 000008F5 FC                              	CLD
  1000 000008F6 BF [0000007B]                   	MOV	EDI,LC22
  1001 000008FB 89 C1                           	MOV	ECX,EAX
  1002 000008FD F3                              	REPE
  1003 000008FE A6                              	CMPSB
  1004 000008FF 0F 84 000000B9                  	JE	L205
  1005 00000905 B8 00000007                     	MOV	EAX,7
  1006 0000090A 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
  1007 0000090D FC                              	CLD
  1008 0000090E BF [00000082]                   	MOV	EDI,LC23
  1009 00000913 89 C1                           	MOV	ECX,EAX
  1010 00000915 F3                              	REPE
  1011 00000916 A6                              	CMPSB
  1012 00000917 75 09                           	JNE	L180
  1013 00000919 83 3B 00                        	CMP	DWORD [EBX],0
  1014 0000091C 0F 85 0000008D                  	JNE	L206
  1015 00000922                                 L180:
  1016 00000922 B8 00000005                     	MOV	EAX,5
  1017 00000927 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
  1018 0000092A FC                              	CLD
  1019 0000092B BF [00000089]                   	MOV	EDI,LC24
  1020 00000930 89 C1                           	MOV	ECX,EAX
  1021 00000932 F3                              	REPE
  1022 00000933 A6                              	CMPSB
  1023 00000934 75 05                           	JNE	L182
  1024 00000936 83 3B 00                        	CMP	DWORD [EBX],0
  1025 00000939 75 5F                           	JNE	L207
  1026 0000093B                                 L182:
  1027 0000093B B8 00000005                     	MOV	EAX,5
  1028 00000940 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
  1029 00000943 FC                              	CLD
  1030 00000944 BF [0000008F]                   	MOV	EDI,LC25
  1031 00000949 89 C1                           	MOV	ECX,EAX
  1032 0000094B F3                              	REPE
  1033 0000094C A6                              	CMPSB
  1034 0000094D 75 05                           	JNE	L184
  1035 0000094F 83 3B 00                        	CMP	DWORD [EBX],0
  1036 00000952 75 37                           	JNE	L208
  1037 00000954                                 L184:
  1038 00000954 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1039 00000957 80 38 00                        	CMP	BYTE [EAX],0
  1040 0000095A 75 08                           	JNE	L209
  1041 0000095C                                 L143:
  1042 0000095C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1043 0000095F 5B                              	POP	EBX
  1044 00000960 5E                              	POP	ESI
  1045 00000961 5F                              	POP	EDI
  1046 00000962 5D                              	POP	EBP
  1047 00000963 C3                              	RET
  1048 00000964                                 L209:
  1049 00000964 50                              	PUSH	EAX
  1050 00000965 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1051 00000968 53                              	PUSH	EBX
  1052 00000969 E8 00001A40                     	CALL	_cmd_app
  1053 0000096E 83 C4 0C                        	ADD	ESP,12
  1054 00000971 85 C0                           	TEST	EAX,EAX
  1055 00000973 75 E7                           	JNE	L143
  1056 00000975 C7 45 0C [00000094]             	MOV	DWORD [12+EBP],LC26
  1057 0000097C 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1058 0000097F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1059 00000982 5B                              	POP	EBX
  1060 00000983 5E                              	POP	ESI
  1061 00000984 5F                              	POP	EDI
  1062 00000985 5D                              	POP	EBP
  1063 00000986 E9 FFFFFC2D                     	JMP	_cons_putstr0
  1064 0000098B                                 L208:
  1065 0000098B 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1066 0000098E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1067 00000991 5B                              	POP	EBX
  1068 00000992 5E                              	POP	ESI
  1069 00000993 5F                              	POP	EDI
  1070 00000994 5D                              	POP	EBP
  1071 00000995 E9 000011F3                     	JMP	_cmd_test
  1072 0000099A                                 L207:
  1073 0000099A 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1074 0000099D 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1075 000009A0 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1076 000009A3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1077 000009A6 5B                              	POP	EBX
  1078 000009A7 5E                              	POP	ESI
  1079 000009A8 5F                              	POP	EDI
  1080 000009A9 5D                              	POP	EBP
  1081 000009AA E9 00001237                     	JMP	_cmd_show
  1082 000009AF                                 L206:
  1083 000009AF 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1084 000009B2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1085 000009B5 5B                              	POP	EBX
  1086 000009B6 5E                              	POP	ESI
  1087 000009B7 5F                              	POP	EDI
  1088 000009B8 5D                              	POP	EBP
  1089 000009B9 E9 00000EC9                     	JMP	_cmd_setlog
  1090 000009BE                                 L205:
  1091 000009BE 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1092 000009C1 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
  1093 000009C4 89 45 10                        	MOV	DWORD [16+EBP],EAX
  1094 000009C7 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
  1095 000009CA 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1096 000009CD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1097 000009D0 5B                              	POP	EBX
  1098 000009D1 5E                              	POP	ESI
  1099 000009D2 5F                              	POP	EDI
  1100 000009D3 5D                              	POP	EBP
  1101 000009D4 E9 000018A9                     	JMP	_cmd_start
  1102 000009D9                                 L204:
  1103 000009D9 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1104 000009DC 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
  1105 000009DF 89 45 10                        	MOV	DWORD [16+EBP],EAX
  1106 000009E2 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
  1107 000009E5 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1108 000009E8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1109 000009EB 5B                              	POP	EBX
  1110 000009EC 5E                              	POP	ESI
  1111 000009ED 5F                              	POP	EDI
  1112 000009EE 5D                              	POP	EBP
  1113 000009EF E9 00001918                     	JMP	_cmd_ncst
  1114 000009F4                                 L203:
  1115 000009F4 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1116 000009F7 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1117 000009FA 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1118 000009FD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1119 00000A00 5B                              	POP	EBX
  1120 00000A01 5E                              	POP	ESI
  1121 00000A02 5F                              	POP	EDI
  1122 00000A03 5D                              	POP	EBP
  1123 00000A04 E9 00000F6C                     	JMP	_cmd_memmap
  1124 00000A09                                 L202:
  1125 00000A09 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1126 00000A0C 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1127 00000A0F 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1128 00000A12 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1129 00000A15 5B                              	POP	EBX
  1130 00000A16 5E                              	POP	ESI
  1131 00000A17 5F                              	POP	EDI
  1132 00000A18 5D                              	POP	EBP
  1133 00000A19 E9 00000C7A                     	JMP	_cmd_mkfile
  1134 00000A1E                                 L201:
  1135 00000A1E 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1136 00000A21 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1137 00000A24 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1138 00000A27 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1139 00000A2A 5B                              	POP	EBX
  1140 00000A2B 5E                              	POP	ESI
  1141 00000A2C 5F                              	POP	EDI
  1142 00000A2D 5D                              	POP	EBP
  1143 00000A2E E9 00000A79                     	JMP	_cmd_mkdir
  1144 00000A33                                 L200:
  1145 00000A33 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1146 00000A36 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1147 00000A39 5B                              	POP	EBX
  1148 00000A3A 5E                              	POP	ESI
  1149 00000A3B 5F                              	POP	EDI
  1150 00000A3C 5D                              	POP	EBP
  1151 00000A3D E9 0000144A                     	JMP	_cmd_mkfs
  1152 00000A42                                 L199:
  1153 00000A42 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1154 00000A45 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1155 00000A48 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1156 00000A4B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1157 00000A4E 5B                              	POP	EBX
  1158 00000A4F 5E                              	POP	ESI
  1159 00000A50 5F                              	POP	EDI
  1160 00000A51 5D                              	POP	EBP
  1161 00000A52 E9 00000E79                     	JMP	_cmd_mem
  1162 00000A57                                 L198:
  1163 00000A57 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1164 00000A5A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1165 00000A5D 5B                              	POP	EBX
  1166 00000A5E 5E                              	POP	ESI
  1167 00000A5F 5F                              	POP	EDI
  1168 00000A60 5D                              	POP	EBP
  1169 00000A61 E9 000010A0                     	JMP	_cmd_logcls
  1170 00000A66                                 L197:
  1171 00000A66 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1172 00000A69 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1173 00000A6C 5B                              	POP	EBX
  1174 00000A6D 5E                              	POP	ESI
  1175 00000A6E 5F                              	POP	EDI
  1176 00000A6F 5D                              	POP	EBP
  1177 00000A70 E9 00000F41                     	JMP	_cmd_log
  1178 00000A75                                 L196:
  1179 00000A75 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1180 00000A78 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1181 00000A7B 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1182 00000A7E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1183 00000A81 5B                              	POP	EBX
  1184 00000A82 5E                              	POP	ESI
  1185 00000A83 5F                              	POP	EDI
  1186 00000A84 5D                              	POP	EBP
  1187 00000A85 E9 000018E6                     	JMP	_cmd_langmode
  1188 00000A8A                                 L195:
  1189 00000A8A 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1190 00000A8D 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1191 00000A90 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1192 00000A93 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1193 00000A96 5B                              	POP	EBX
  1194 00000A97 5E                              	POP	ESI
  1195 00000A98 5F                              	POP	EDI
  1196 00000A99 5D                              	POP	EBP
  1197 00000A9A E9 00001292                     	JMP	_cmd_fview
  1198 00000A9F                                 L194:
  1199 00000A9F 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1200 00000AA2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1201 00000AA5 5B                              	POP	EBX
  1202 00000AA6 5E                              	POP	ESI
  1203 00000AA7 5F                              	POP	EDI
  1204 00000AA8 5D                              	POP	EBP
  1205 00000AA9 E9 00001688                     	JMP	_cmd_fddir
  1206 00000AAE                                 L193:
  1207 00000AAE 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1208 00000AB1 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1209 00000AB4 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1210 00000AB7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1211 00000ABA 5B                              	POP	EBX
  1212 00000ABB 5E                              	POP	ESI
  1213 00000ABC 5F                              	POP	EDI
  1214 00000ABD 5D                              	POP	EBP
  1215 00000ABE E9 00000418                     	JMP	_cmd_edit
  1216 00000AC3                                 L192:
  1217 00000AC3 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1218 00000AC6 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1219 00000AC9 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1220 00000ACC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1221 00000ACF 5B                              	POP	EBX
  1222 00000AD0 5E                              	POP	ESI
  1223 00000AD1 5F                              	POP	EDI
  1224 00000AD2 5D                              	POP	EBP
  1225 00000AD3 E9 00001712                     	JMP	_cmd_exit
  1226 00000AD8                                 L191:
  1227 00000AD8 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1228 00000ADB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1229 00000ADE 5B                              	POP	EBX
  1230 00000ADF 5E                              	POP	ESI
  1231 00000AE0 5F                              	POP	EDI
  1232 00000AE1 5D                              	POP	EBP
  1233 00000AE2 E9 00001536                     	JMP	_cmd_dir
  1234 00000AE7                                 L190:
  1235 00000AE7 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1236 00000AEA 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1237 00000AED 5B                              	POP	EBX
  1238 00000AEE 5E                              	POP	ESI
  1239 00000AEF 5F                              	POP	EDI
  1240 00000AF0 5D                              	POP	EBP
  1241 00000AF1 E9 00000F8D                     	JMP	_cmd_cls
  1242 00000AF6                                 L189:
  1243 00000AF6 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1244 00000AF9 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1245 00000AFC 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  1246 00000AFF 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1247 00000B02 5B                              	POP	EBX
  1248 00000B03 5E                              	POP	ESI
  1249 00000B04 5F                              	POP	EDI
  1250 00000B05 5D                              	POP	EBP
  1251 00000B06 EB 1B                           	JMP	_cmd_cd
  1252 00000B08                                 L188:
  1253 00000B08 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1254 00000B0B 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1255 00000B0E 89 45 10                        	MOV	DWORD [16+EBP],EAX
  1256 00000B11 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
  1257 00000B14 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  1258 00000B17 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1259 00000B1A 5B                              	POP	EBX
  1260 00000B1B 5E                              	POP	ESI
  1261 00000B1C 5F                              	POP	EDI
  1262 00000B1D 5D                              	POP	EBP
  1263 00000B1E E9 00000EC4                     	JMP	_cmd_cat
  1264 00000B23                                 	GLOBAL	_cmd_cd
  1265 00000B23                                 _cmd_cd:
  1266 00000B23 55                              	PUSH	EBP
  1267 00000B24 89 E5                           	MOV	EBP,ESP
  1268 00000B26 53                              	PUSH	EBX
  1269 00000B27 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1270 00000B2A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1271 00000B2D 83 C0 03                        	ADD	EAX,3
  1272 00000B30 50                              	PUSH	EAX
  1273 00000B31 53                              	PUSH	EBX
  1274 00000B32 E8 00000071                     	CALL	_parse_cdline
  1275 00000B37 59                              	POP	ECX
  1276 00000B38 5A                              	POP	EDX
  1277 00000B39 85 C0                           	TEST	EAX,EAX
  1278 00000B3B 74 03                           	JE	L210
  1279 00000B3D 89 43 14                        	MOV	DWORD [20+EBX],EAX
  1280 00000B40                                 L210:
  1281 00000B40 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1282 00000B43 C9                              	LEAVE
  1283 00000B44 C3                              	RET
  1284 00000B45                                 	GLOBAL	_get_dirname
  1285 00000B45                                 _get_dirname:
  1286 00000B45 55                              	PUSH	EBP
  1287 00000B46 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1288 00000B4B 89 E5                           	MOV	EBP,ESP
  1289 00000B4D 31 C9                           	XOR	ECX,ECX
  1290 00000B4F 56                              	PUSH	ESI
  1291 00000B50 53                              	PUSH	EBX
  1292 00000B51 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
  1293 00000B54 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1294 00000B57 8A 14 18                        	MOV	DL,BYTE [EAX+EBX*1]
  1295 00000B5A 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
  1296 00000B5D 3C 19                           	CMP	AL,25
  1297 00000B5F 77 37                           	JA	L219
  1298 00000B61                                 L216:
  1299 00000B61 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1300 00000B66 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
  1301 00000B69 88 04 31                        	MOV	BYTE [ECX+ESI*1],AL
  1302 00000B6C 41                              	INC	ECX
  1303 00000B6D A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1304 00000B72 40                              	INC	EAX
  1305 00000B73 A3 [00000AC0]                   	MOV	DWORD [_cp],EAX
  1306 00000B78 8A 14 18                        	MOV	DL,BYTE [EAX+EBX*1]
  1307 00000B7B 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
  1308 00000B7E 3C 19                           	CMP	AL,25
  1309 00000B80 76 DF                           	JBE	L216
  1310 00000B82 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
  1311 00000B85 3C 19                           	CMP	AL,25
  1312 00000B87 76 D8                           	JBE	L216
  1313 00000B89 8D 42 D0                        	LEA	EAX,DWORD [-48+EDX]
  1314 00000B8C 3C 09                           	CMP	AL,9
  1315 00000B8E 76 D1                           	JBE	L216
  1316 00000B90                                 L218:
  1317 00000B90 C6 04 31 00                     	MOV	BYTE [ECX+ESI*1],0
  1318 00000B94 5B                              	POP	EBX
  1319 00000B95 5E                              	POP	ESI
  1320 00000B96 5D                              	POP	EBP
  1321 00000B97 C3                              	RET
  1322 00000B98                                 L219:
  1323 00000B98 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
  1324 00000B9B 3C 19                           	CMP	AL,25
  1325 00000B9D 76 C2                           	JBE	L216
  1326 00000B9F 8D 42 D0                        	LEA	EAX,DWORD [-48+EDX]
  1327 00000BA2 3C 09                           	CMP	AL,9
  1328 00000BA4 76 BB                           	JBE	L216
  1329 00000BA6 EB E8                           	JMP	L218
  1330                                          [SECTION .data]
  1331 000000A3                                 LC27:
  1332 000000A3 2A 2A 2A 2A 2A 49 4E 20 46 55   	DB	"*****IN FUNC: parse_cdline()*****",0x0A,0x00
       000000AD 4E 43 3A 20 70 61 72 73 65 5F 
       000000B7 63 64 6C 69 6E 65 28 29 2A 2A 
       000000C1 2A 2A 2A 0A 00 
  1333 000000C6                                 LC28:
  1334 000000C6 4E 2F 41 00                     	DB	"N/A",0x00
  1335 000000CA                                 LC38:
  1336 000000CA 5B 25 64 5D 63 68 61 6E 67 65   	DB	"[%d]change directory: %s -> %s",0x0A,0x00
       000000D4 20 64 69 72 65 63 74 6F 72 79 
       000000DE 3A 20 25 73 20 2D 3E 20 25 73 
       000000E8 0A 00 
  1337 000000EA                                 LC39:
  1338 000000EA 5B 52 45 53 55 4C 54 5D 64 65   	DB	"[RESULT]destination: %s -> %s",0x0A,0x00
       000000F4 73 74 69 6E 61 74 69 6F 6E 3A 
       000000FE 20 25 73 20 2D 3E 20 25 73 0A 
       00000108 00 
  1339 00000109                                 LC35:
  1340 00000109 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"*********************************",0x0A,0x00
       00000113 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A 
       0000011D 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A 
       00000127 2A 2A 2A 0A 00 
  1341 0000012C                                 LC37:
  1342 0000012C 43 61 6E 27 74 20 66 69 6E 64   	DB	"Can't find this directory.",0x0A,0x00
       00000136 20 74 68 69 73 20 64 69 72 65 
       00000140 63 74 6F 72 79 2E 0A 00 
  1343 00000148                                 LC29:
  1344 00000148 66 69 6C 65 6E 61 6D 65 20 68   	DB	"filename has found.",0x0A,0x00
       00000152 61 73 20 66 6F 75 6E 64 2E 0A 
       0000015C 00 
  1345 0000015D                                 LC30:
  1346 0000015D 63 68 61 6E 67 65 20 64 69 72   	DB	"change directory using relative path",0x0A,0x00
       00000167 65 63 74 6F 72 79 20 75 73 69 
       00000171 6E 67 20 72 65 6C 61 74 69 76 
       0000017B 65 20 70 61 74 68 0A 00 
  1347 00000183                                 LC33:
  1348 00000183 22 2E 2E 22 20 68 61 73 20 66   	DB	0x22,"..",0x22," has found.",0x0A,0x00
       0000018D 6F 75 6E 64 2E 0A 00 
  1349 00000194                                 LC34:
  1350 00000194 43 61 6E 27 74 20 6D 6F 76 65   	DB	"Can't move because here is ROOT directory.",0x0A,0x00
       0000019E 20 62 65 63 61 75 73 65 20 68 
       000001A8 65 72 65 20 69 73 20 52 4F 4F 
       000001B2 54 20 64 69 72 65 63 74 6F 72 
       000001BC 79 2E 0A 00 
  1351 000001C0                                 LC36:
  1352 000001C0 49 6E 63 6F 72 72 65 63 74 20   	DB	"Incorrect initial character.",0x0A,0x00
       000001CA 69 6E 69 74 69 61 6C 20 63 68 
       000001D4 61 72 61 63 74 65 72 2E 0A 00 
  1353 000001DE                                 LC31:
  1354 000001DE 27 2F 27 20 68 61 73 20 66 6F   	DB	"'/' has found.",0x0A,0x00
       000001E8 75 6E 64 2E 0A 00 
  1355 000001EE                                 LC32:
  1356 000001EE 63 68 61 6E 67 65 20 64 69 72   	DB	"change directory using absolute path",0x0A,0x00
       000001F8 65 63 74 6F 72 79 20 75 73 69 
       00000202 6E 67 20 61 62 73 6F 6C 75 74 
       0000020C 65 20 70 61 74 68 0A 00 
  1357                                          [SECTION .text]
  1358 00000BA8                                 	GLOBAL	_parse_cdline
  1359 00000BA8                                 _parse_cdline:
  1360 00000BA8 55                              	PUSH	EBP
  1361 00000BA9 89 E5                           	MOV	EBP,ESP
  1362 00000BAB 57                              	PUSH	EDI
  1363 00000BAC 56                              	PUSH	ESI
  1364 00000BAD 31 FF                           	XOR	EDI,EDI
  1365 00000BAF 53                              	PUSH	EBX
  1366 00000BB0 81 EC 0000015C                  	SUB	ESP,348
  1367 00000BB6 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
  1368 00000BB9 68 [000000A3]                   	PUSH	LC27
  1369 00000BBE C7 85 FFFFFE98 00000000         	MOV	DWORD [-360+EBP],0
  1370 00000BC8 E8 FFFFF433                     	CALL	_debug_print
  1371 00000BCD 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
  1372 00000BD3 68 [000000C6]                   	PUSH	LC28
  1373 00000BD8 50                              	PUSH	EAX
  1374 00000BD9 C7 05 [00000AC0] 00000000       	MOV	DWORD [_cp],0
  1375 00000BE3 E8 [00000000]                   	CALL	_sprintf
  1376 00000BE8 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1377 00000BED 83 C4 0C                        	ADD	ESP,12
  1378 00000BF0 80 3C 30 00                     	CMP	BYTE [EAX+ESI*1],0
  1379 00000BF4 0F 84 00000091                  	JE	L245
  1380 00000BFA                                 L243:
  1381 00000BFA 83 3D [00000AC0] 00             	CMP	DWORD [_cp],0
  1382 00000C01 0F 85 0000021D                  	JNE	L247
  1383 00000C07                                 L224:
  1384 00000C07 8B 0D [00000AC0]                	MOV	ECX,DWORD [_cp]
  1385 00000C0D 8A 14 31                        	MOV	DL,BYTE [ECX+ESI*1]
  1386 00000C10 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
  1387 00000C13 3C 19                           	CMP	AL,25
  1388 00000C15 76 12                           	JBE	L226
  1389 00000C17 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
  1390 00000C1A 3C 19                           	CMP	AL,25
  1391 00000C1C 76 0B                           	JBE	L226
  1392 00000C1E 8D 42 D0                        	LEA	EAX,DWORD [-48+EDX]
  1393 00000C21 3C 09                           	CMP	AL,9
  1394 00000C23 0F 87 0000013F                  	JA	L225
  1395 00000C29                                 L226:
  1396 00000C29 85 C9                           	TEST	ECX,ECX
  1397 00000C2B 0F 84 000000FE                  	JE	L248
  1398 00000C31                                 L228:
  1399 00000C31 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1400 00000C36 8A 14 30                        	MOV	DL,BYTE [EAX+ESI*1]
  1401 00000C39 80 FA 2E                        	CMP	DL,46
  1402 00000C3C 0F 84 000000DD                  	JE	L249
  1403 00000C42                                 L239:
  1404 00000C42 84 D2                           	TEST	DL,DL
  1405 00000C44 0F 85 00000095                  	JNE	L250
  1406 00000C4A                                 L235:
  1407 00000C4A 57                              	PUSH	EDI
  1408 00000C4B 8D 9D FFFFFEA4                  	LEA	EBX,DWORD [-348+EBP]
  1409 00000C51 53                              	PUSH	EBX
  1410 00000C52 E8 FFFFFA01                     	CALL	_get_pathname
  1411 00000C57 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
  1412 00000C5D 53                              	PUSH	EBX
  1413 00000C5E 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1414 00000C61 50                              	PUSH	EAX
  1415 00000C62 FF B5 FFFFFE98                  	PUSH	DWORD [-360+EBP]
  1416 00000C68 68 [000000CA]                   	PUSH	LC38
  1417 00000C6D 53                              	PUSH	EBX
  1418 00000C6E E8 [00000000]                   	CALL	_sprintf
  1419 00000C73 53                              	PUSH	EBX
  1420 00000C74 E8 FFFFF387                     	CALL	_debug_print
  1421 00000C79 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1422 00000C7E 83 C4 20                        	ADD	ESP,32
  1423 00000C81 80 3C 30 00                     	CMP	BYTE [EAX+ESI*1],0
  1424 00000C85 0F 85 FFFFFF6F                  	JNE	L243
  1425 00000C8B                                 L245:
  1426 00000C8B 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1427 00000C8E 8D 9D FFFFFF14                  	LEA	EBX,DWORD [-236+EBP]
  1428 00000C94 8D B5 FFFFFEA4                  	LEA	ESI,DWORD [-348+EBP]
  1429 00000C9A FF 70 14                        	PUSH	DWORD [20+EAX]
  1430 00000C9D 53                              	PUSH	EBX
  1431 00000C9E E8 FFFFF9B5                     	CALL	_get_pathname
  1432 00000CA3 57                              	PUSH	EDI
  1433 00000CA4 56                              	PUSH	ESI
  1434 00000CA5 E8 FFFFF9AE                     	CALL	_get_pathname
  1435 00000CAA 56                              	PUSH	ESI
  1436 00000CAB 53                              	PUSH	EBX
  1437 00000CAC 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1438 00000CAF 68 [000000EA]                   	PUSH	LC39
  1439 00000CB4 53                              	PUSH	EBX
  1440 00000CB5 E8 [00000000]                   	CALL	_sprintf
  1441 00000CBA 83 C4 20                        	ADD	ESP,32
  1442 00000CBD 53                              	PUSH	EBX
  1443 00000CBE E8 FFFFF33D                     	CALL	_debug_print
  1444 00000CC3 68 [00000109]                   	PUSH	LC35
  1445 00000CC8 E8 FFFFF333                     	CALL	_debug_print
  1446 00000CCD FF 75 08                        	PUSH	DWORD [8+EBP]
  1447 00000CD0 E8 FFFFF790                     	CALL	_cons_newline
  1448 00000CD5 89 F8                           	MOV	EAX,EDI
  1449 00000CD7                                 L220:
  1450 00000CD7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1451 00000CDA 5B                              	POP	EBX
  1452 00000CDB 5E                              	POP	ESI
  1453 00000CDC 5F                              	POP	EDI
  1454 00000CDD 5D                              	POP	EBP
  1455 00000CDE C3                              	RET
  1456 00000CDF                                 L250:
  1457 00000CDF 56                              	PUSH	ESI
  1458 00000CE0 8D 9D FFFFFE9C                  	LEA	EBX,DWORD [-356+EBP]
  1459 00000CE6 53                              	PUSH	EBX
  1460 00000CE7 E8 FFFFFE59                     	CALL	_get_dirname
  1461 00000CEC 6A 32                           	PUSH	50
  1462 00000CEE 57                              	PUSH	EDI
  1463 00000CEF 53                              	PUSH	EBX
  1464 00000CF0 E8 [00000000]                   	CALL	_myfinfo_search
  1465 00000CF5 83 C4 14                        	ADD	ESP,20
  1466 00000CF8 85 C0                           	TEST	EAX,EAX
  1467 00000CFA 74 08                           	JE	L251
  1468 00000CFC 8B 78 20                        	MOV	EDI,DWORD [32+EAX]
  1469 00000CFF E9 FFFFFF46                     	JMP	L235
  1470 00000D04                                 L251:
  1471 00000D04 68 [0000012C]                   	PUSH	LC37
  1472 00000D09                                 L246:
  1473 00000D09 FF 75 08                        	PUSH	DWORD [8+EBP]
  1474 00000D0C E8 0000012D                     	CALL	_cd_error
  1475 00000D11 68 [00000109]                   	PUSH	LC35
  1476 00000D16 E8 FFFFF2E5                     	CALL	_debug_print
  1477 00000D1B 31 C0                           	XOR	EAX,EAX
  1478 00000D1D EB B8                           	JMP	L220
  1479 00000D1F                                 L249:
  1480 00000D1F 80 7C 30 01 2E                  	CMP	BYTE [1+EAX+ESI*1],46
  1481 00000D24 0F 85 FFFFFF18                  	JNE	L239
  1482 00000D2A E9 FFFFFF1B                     	JMP	L235
  1483 00000D2F                                 L248:
  1484 00000D2F 68 [00000148]                   	PUSH	LC29
  1485 00000D34 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1486 00000D37 E8 FFFFF2C4                     	CALL	_debug_print
  1487 00000D3C 68 [0000015D]                   	PUSH	LC30
  1488 00000D41 53                              	PUSH	EBX
  1489 00000D42 E8 [00000000]                   	CALL	_sprintf
  1490 00000D47 53                              	PUSH	EBX
  1491 00000D48 E8 FFFFF2B3                     	CALL	_debug_print
  1492 00000D4D 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1493 00000D50 8B 78 14                        	MOV	EDI,DWORD [20+EAX]
  1494 00000D53 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
  1495 00000D59 57                              	PUSH	EDI
  1496 00000D5A 50                              	PUSH	EAX
  1497 00000D5B E8 FFFFF8F8                     	CALL	_get_pathname
  1498 00000D60 83 C4 18                        	ADD	ESP,24
  1499 00000D63 E9 FFFFFEC9                     	JMP	L228
  1500 00000D68                                 L225:
  1501 00000D68 80 FA 2F                        	CMP	DL,47
  1502 00000D6B 74 79                           	JE	L252
  1503 00000D6D 80 FA 2E                        	CMP	DL,46
  1504 00000D70 75 6A                           	JNE	L232
  1505 00000D72 80 7C 31 01 2E                  	CMP	BYTE [1+ECX+ESI*1],46
  1506 00000D77 75 63                           	JNE	L232
  1507 00000D79 68 [00000183]                   	PUSH	LC33
  1508 00000D7E E8 FFFFF27D                     	CALL	_debug_print
  1509 00000D83 59                              	POP	ECX
  1510 00000D84 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1511 00000D89 83 C0 02                        	ADD	EAX,2
  1512 00000D8C A3 [00000AC0]                   	MOV	DWORD [_cp],EAX
  1513 00000D91 83 F8 02                        	CMP	EAX,2
  1514 00000D94 74 1A                           	JE	L253
  1515 00000D96                                 L233:
  1516 00000D96 8B 87 000007D8                  	MOV	EAX,DWORD [2008+EDI]
  1517 00000D9C 89 C7                           	MOV	EDI,EAX
  1518 00000D9E 85 C0                           	TEST	EAX,EAX
  1519 00000DA0 0F 85 FFFFFEA4                  	JNE	L235
  1520 00000DA6 68 [00000194]                   	PUSH	LC34
  1521 00000DAB E9 FFFFFF59                     	JMP	L246
  1522 00000DB0                                 L253:
  1523 00000DB0 68 [0000015D]                   	PUSH	LC30
  1524 00000DB5 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1525 00000DB8 53                              	PUSH	EBX
  1526 00000DB9 E8 [00000000]                   	CALL	_sprintf
  1527 00000DBE 53                              	PUSH	EBX
  1528 00000DBF E8 FFFFF23C                     	CALL	_debug_print
  1529 00000DC4 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1530 00000DC7 8B 78 14                        	MOV	EDI,DWORD [20+EAX]
  1531 00000DCA 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
  1532 00000DD0 57                              	PUSH	EDI
  1533 00000DD1 50                              	PUSH	EAX
  1534 00000DD2 E8 FFFFF881                     	CALL	_get_pathname
  1535 00000DD7 83 C4 14                        	ADD	ESP,20
  1536 00000DDA EB BA                           	JMP	L233
  1537 00000DDC                                 L232:
  1538 00000DDC 68 [000001C0]                   	PUSH	LC36
  1539 00000DE1 E9 FFFFFF23                     	JMP	L246
  1540 00000DE6                                 L252:
  1541 00000DE6 68 [000001DE]                   	PUSH	LC31
  1542 00000DEB E8 FFFFF210                     	CALL	_debug_print
  1543 00000DF0 5B                              	POP	EBX
  1544 00000DF1 A1 [00000AC0]                   	MOV	EAX,DWORD [_cp]
  1545 00000DF6 40                              	INC	EAX
  1546 00000DF7 A3 [00000AC0]                   	MOV	DWORD [_cp],EAX
  1547 00000DFC 48                              	DEC	EAX
  1548 00000DFD 0F 85 FFFFFE2E                  	JNE	L228
  1549 00000E03 68 [000001EE]                   	PUSH	LC32
  1550 00000E08 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1551 00000E0B 53                              	PUSH	EBX
  1552 00000E0C BF 00400000                     	MOV	EDI,4194304
  1553 00000E11 E8 [00000000]                   	CALL	_sprintf
  1554 00000E16 53                              	PUSH	EBX
  1555 00000E17 E8 FFFFF1E4                     	CALL	_debug_print
  1556 00000E1C 83 C4 0C                        	ADD	ESP,12
  1557 00000E1F E9 FFFFFE0D                     	JMP	L228
  1558 00000E24                                 L247:
  1559 00000E24 57                              	PUSH	EDI
  1560 00000E25 8D 85 FFFFFF14                  	LEA	EAX,DWORD [-236+EBP]
  1561 00000E2B 50                              	PUSH	EAX
  1562 00000E2C E8 FFFFF827                     	CALL	_get_pathname
  1563 00000E31 58                              	POP	EAX
  1564 00000E32 5A                              	POP	EDX
  1565 00000E33 FF 85 FFFFFE98                  	INC	DWORD [-360+EBP]
  1566 00000E39 E9 FFFFFDC9                     	JMP	L224
  1567 00000E3E                                 	GLOBAL	_cd_error
  1568 00000E3E                                 _cd_error:
  1569 00000E3E 55                              	PUSH	EBP
  1570 00000E3F 89 E5                           	MOV	EBP,ESP
  1571 00000E41 57                              	PUSH	EDI
  1572 00000E42 56                              	PUSH	ESI
  1573 00000E43 53                              	PUSH	EBX
  1574 00000E44 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
  1575 00000E47 83 EC 40                        	SUB	ESP,64
  1576 00000E4A 31 DB                           	XOR	EBX,EBX
  1577 00000E4C 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
  1578 00000E4F FF 77 14                        	PUSH	DWORD [20+EDI]
  1579 00000E52 50                              	PUSH	EAX
  1580 00000E53 E8 FFFFF800                     	CALL	_get_pathname
  1581 00000E58 59                              	POP	ECX
  1582 00000E59 5E                              	POP	ESI
  1583 00000E5A 80 7D B4 00                     	CMP	BYTE [-76+EBP],0
  1584 00000E5E 74 0D                           	JE	L274
  1585 00000E60                                 L259:
  1586 00000E60 C6 44 1D B4 20                  	MOV	BYTE [-76+EBP+EBX*1],32
  1587 00000E65 43                              	INC	EBX
  1588 00000E66 80 7C 1D B4 00                  	CMP	BYTE [-76+EBP+EBX*1],0
  1589 00000E6B 75 F3                           	JNE	L259
  1590 00000E6D                                 L274:
  1591 00000E6D 31 D2                           	XOR	EDX,EDX
  1592 00000E6F                                 L264:
  1593 00000E6F 8D 4D F4                        	LEA	ECX,DWORD [-12+EBP]
  1594 00000E72 8D 04 19                        	LEA	EAX,DWORD [ECX+EBX*1]
  1595 00000E75 C6 44 02 C0 20                  	MOV	BYTE [-64+EDX+EAX*1],32
  1596 00000E7A 42                              	INC	EDX
  1597 00000E7B 83 FA 02                        	CMP	EDX,2
  1598 00000E7E 7E EF                           	JLE	L264
  1599 00000E80 BA 00000003                     	MOV	EDX,3
  1600 00000E85 31 C9                           	XOR	ECX,ECX
  1601 00000E87 8B 35 [00000AC0]                	MOV	ESI,DWORD [_cp]
  1602 00000E8D                                 L271:
  1603 00000E8D 39 F1                           	CMP	ECX,ESI
  1604 00000E8F 7D 33                           	JGE	L278
  1605 00000E91 8D 45 F4                        	LEA	EAX,DWORD [-12+EBP]
  1606 00000E94 01 D0                           	ADD	EAX,EDX
  1607 00000E96 01 C8                           	ADD	EAX,ECX
  1608 00000E98 41                              	INC	ECX
  1609 00000E99 83 F9 31                        	CMP	ECX,49
  1610 00000E9C C6 44 03 C0 20                  	MOV	BYTE [-64+EBX+EAX*1],32
  1611 00000EA1 7E EA                           	JLE	L271
  1612 00000EA3                                 L266:
  1613 00000EA3 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
  1614 00000EA6 50                              	PUSH	EAX
  1615 00000EA7 57                              	PUSH	EDI
  1616 00000EA8 E8 FFFFF6DD                     	CALL	_cons_putstr
  1617 00000EAD FF 75 0C                        	PUSH	DWORD [12+EBP]
  1618 00000EB0 57                              	PUSH	EDI
  1619 00000EB1 E8 FFFFF6D4                     	CALL	_cons_putstr
  1620 00000EB6 57                              	PUSH	EDI
  1621 00000EB7 E8 FFFFF5A9                     	CALL	_cons_newline
  1622 00000EBC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1623 00000EBF 5B                              	POP	EBX
  1624 00000EC0 5E                              	POP	ESI
  1625 00000EC1 5F                              	POP	EDI
  1626 00000EC2 5D                              	POP	EBP
  1627 00000EC3 C3                              	RET
  1628 00000EC4                                 L278:
  1629 00000EC4 8D 45 F4                        	LEA	EAX,DWORD [-12+EBP]
  1630 00000EC7 01 D0                           	ADD	EAX,EDX
  1631 00000EC9 01 C8                           	ADD	EAX,ECX
  1632 00000ECB 01 D8                           	ADD	EAX,EBX
  1633 00000ECD C6 40 C0 5E                     	MOV	BYTE [-64+EAX],94
  1634 00000ED1 C6 40 C1 0A                     	MOV	BYTE [-63+EAX],10
  1635 00000ED5 C6 40 C2 00                     	MOV	BYTE [-62+EAX],0
  1636 00000ED9 EB C8                           	JMP	L266
  1637                                          [SECTION .data]
  1638 00000214                                 LC61:
  1639 00000214 43 61 6E 27 74 20 65 64 69 74   	DB	"Can't edit: There is no file being opened.",0x0A,0x00
       0000021E 3A 20 54 68 65 72 65 20 69 73 
       00000228 20 6E 6F 20 66 69 6C 65 20 62 
       00000232 65 69 6E 67 20 6F 70 65 6E 65 
       0000023C 64 2E 0A 00 
  1640 00000240                                 LC69:
  1641 00000240 75 6E 65 78 70 65 63 74 65 64   	DB	"unexpected error at edit mode.",0x0A,0x00
       0000024A 20 65 72 72 6F 72 20 61 74 20 
       00000254 65 64 69 74 20 6D 6F 64 65 2E 
       0000025E 0A 00 
  1642 00000260                                 LC70:
  1643 00000260 65 64 69 74 20 72 65 73 75 6C   	DB	"edit result:",0x0A,"%s[EOF]",0x0A,0x00
       0000026A 74 3A 0A 25 73 5B 45 4F 46 5D 
       00000274 0A 00 
  1644 00000276                                 LC53:
  1645 00000276 73 69 7A 65 3A 20 25 64 5B 62   	DB	"size: %d[byte]",0x0A,0x00
       00000280 79 74 65 5D 0A 00 
  1646 00000286                                 LC66:
  1647 00000286 63 61 6E 27 74 20 6F 70 65 6E   	DB	"can't open: There is a file being opened.",0x0A,0x00
       00000290 3A 20 54 68 65 72 65 20 69 73 
       0000029A 20 61 20 66 69 6C 65 20 62 65 
       000002A4 69 6E 67 20 6F 70 65 6E 65 64 
       000002AE 2E 0A 00 
  1648 000002B1                                 LC68:
  1649 000002B1 6F 70 65 6E 65 64 20 22 25 73   	DB	"opened ",0x22,"%s",0x22," file.",0x0A,0x00
       000002BB 22 20 66 69 6C 65 2E 0A 00 
  1650 000002C4                                 LC67:
  1651 000002C4 63 61 6E 27 74 20 6F 70 65 6E   	DB	"can't open ",0x22,"%s",0x22,".",0x0A,0x00
       000002CE 20 22 25 73 22 2E 0A 00 
  1652 000002D6                                 LC65:
  1653 000002D6 49 4E 53 20 4D 4F 44 45 20 52   	DB	"INS MODE RESULT: %s",0x0A,0x00
       000002E0 45 53 55 4C 54 3A 20 25 73 0A 
       000002EA 00 
  1654 000002EB                                 LC63:
  1655 000002EB 63 68 61 72 20 2A 73 20 6F 75   	DB	"char *s out of myfwrite() is shown below.",0x0A,0x00
       000002F5 74 20 6F 66 20 6D 79 66 77 72 
       000002FF 69 74 65 28 29 20 69 73 20 73 
       00000309 68 6F 77 6E 20 62 65 6C 6F 77 
       00000313 2E 0A 00 
  1656 00000316                                 LC64:
  1657 00000316 0A 00                           	DB	0x0A,0x00
  1658 00000318                                 LC62:
  1659 00000318 65 64 69 74 20 6C 69 6E 65 20   	DB	"edit line is too long.",0x00
       00000322 69 73 20 74 6F 6F 20 6C 6F 6E 
       0000032C 67 2E 00 
  1660 0000032F                                 LC41:
  1661 0000032F 6F 70 65 6E 00                  	DB	"open",0x00
  1662 00000334                                 LC43:
  1663 00000334 63 61 6E 27 74 20 65 64 69 74   	DB	"can't edit: There is no file being opened.",0x0A,0x00
       0000033E 3A 20 54 68 65 72 65 20 69 73 
       00000348 20 6E 6F 20 66 69 6C 65 20 62 
       00000352 65 69 6E 67 20 6F 70 65 6E 65 
       0000035C 64 2E 0A 00 
  1664 00000360                                 LC45:
  1665 00000360 69 6E 73 00                     	DB	"ins",0x00
  1666 00000364                                 LC47:
  1667 00000364 61 64 64 00                     	DB	"add",0x00
  1668 00000368                                 LC49:
  1669 00000368 73 68 6F 77 00                  	DB	"show",0x00
  1670 0000036D                                 LC54:
  1671 0000036D 63 6C 6F 73 65 00               	DB	"close",0x00
  1672 00000373                                 LC57:
  1673 00000373 73 61 76 65 00                  	DB	"save",0x00
  1674 00000378                                 LC60:
  1675 00000378 69 6E 76 61 6C 69 64 20 6F 70   	DB	"invalid option.",0x0A,0x00
       00000382 74 69 6F 6E 2E 0A 00 
  1676 00000389                                 LC59:
  1677 00000389 66 69 6E 69 73 68 65 64 20 73   	DB	"finished saving opened file.",0x0A,0x00
       00000393 61 76 69 6E 67 20 6F 70 65 6E 
       0000039D 65 64 20 66 69 6C 65 2E 0A 00 
  1678 000003A7                                 LC58:
  1679 000003A7 43 61 6E 27 74 20 73 61 76 65   	DB	"Can't save because of error in myfinfo_search() in myfsave()",0x0A,0x00
       000003B1 20 62 65 63 61 75 73 65 20 6F 
       000003BB 66 20 65 72 72 6F 72 20 69 6E 
       000003C5 20 6D 79 66 69 6E 66 6F 5F 73 
       000003CF 65 61 72 63 68 28 29 20 69 6E 
       000003D9 20 6D 79 66 73 61 76 65 28 29 
       000003E3 0A 00 
  1680 000003E5                                 LC55:
  1681 000003E5 45 44 49 54 3A 63 6C 6F 73 65   	DB	"EDIT:close mode",0x0A,0x00
       000003EF 20 6D 6F 64 65 0A 00 
  1682 000003F6                                 LC56:
  1683 000003F6 6F 70 65 6E 65 64 20 66 69 6C   	DB	"opened file was closed.",0x0A,0x00
       00000400 65 20 77 61 73 20 63 6C 6F 73 
       0000040A 65 64 2E 0A 00 
  1684 0000040F                                 LC50:
  1685 0000040F 45 44 49 54 3A 73 68 6F 77 20   	DB	"EDIT:show mode",0x0A,0x00
       00000419 6D 6F 64 65 0A 00 
  1686 0000041F                                 LC51:
  1687 0000041F 73 65 74 66 64 61 74 61 2D 3E   	DB	"setfdata->head.stat=0x%02x",0x0A,0x00
       00000429 68 65 61 64 2E 73 74 61 74 3D 
       00000433 30 78 25 30 32 78 0A 00 
  1688 0000043B                                 LC52:
  1689 0000043B 25 73 5B 45 4F 46 5D 0A 00      	DB	"%s[EOF]",0x0A,0x00
  1690 00000444                                 LC48:
  1691 00000444 45 44 49 54 3A 61 64 64 20 6D   	DB	"EDIT:add mode",0x0A,0x00
       0000044E 6F 64 65 0A 00 
  1692 00000453                                 LC46:
  1693 00000453 45 44 49 54 3A 69 6E 73 65 72   	DB	"EDIT:insert mode",0x0A,0x00
       0000045D 74 20 6D 6F 64 65 0A 00 
  1694 00000465                                 LC44:
  1695 00000465 45 44 49 54 3A 63 6C 65 61 72   	DB	"EDIT:clear mode",0x0A,0x00
       0000046F 20 6D 6F 64 65 0A 00 
  1696 00000476                                 LC42:
  1697 00000476 45 44 49 54 3A 6F 70 65 6E 20   	DB	"EDIT:open mode",0x0A,0x00
       00000480 6D 6F 64 65 0A 00 
  1698 00000486                                 LC40:
  1699 00000486 6F 70 74 69 6F 6E 20 69 73 20   	DB	"option is too long.",0x0A,0x00
       00000490 74 6F 6F 20 6C 6F 6E 67 2E 0A 
       0000049A 00 
  1700                                          [SECTION .text]
  1701 00000EDB                                 	GLOBAL	_cmd_edit
  1702 00000EDB                                 _cmd_edit:
  1703 00000EDB 55                              	PUSH	EBP
  1704 00000EDC 89 E5                           	MOV	EBP,ESP
  1705 00000EDE 57                              	PUSH	EDI
  1706 00000EDF 56                              	PUSH	ESI
  1707 00000EE0 53                              	PUSH	EBX
  1708 00000EE1 81 EC 00000ACC                  	SUB	ESP,2764
  1709 00000EE7 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1710 00000EEA C6 85 FFFFF52B 00               	MOV	BYTE [-2773+EBP],0
  1711 00000EF1 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
  1712 00000EF4 68 [0000000A]                   	PUSH	LC1
  1713 00000EF9 89 85 FFFFF530                  	MOV	DWORD [-2768+EBP],EAX
  1714 00000EFF 8D 85 FFFFFB74                  	LEA	EAX,DWORD [-1164+EBP]
  1715 00000F05 50                              	PUSH	EAX
  1716 00000F06 E8 [00000000]                   	CALL	_sprintf
  1717 00000F0B 8D 85 FFFFFB34                  	LEA	EAX,DWORD [-1228+EBP]
  1718 00000F11 68 [0000000A]                   	PUSH	LC1
  1719 00000F16 50                              	PUSH	EAX
  1720 00000F17 E8 [00000000]                   	CALL	_sprintf
  1721 00000F1C 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  1722 00000F1F C7 85 FFFFF52C 00000005         	MOV	DWORD [-2772+EBP],5
  1723 00000F29 83 C4 10                        	ADD	ESP,16
  1724 00000F2C 80 7A 05 20                     	CMP	BYTE [5+EDX],32
  1725 00000F30 0F 84 0000055C                  	JE	L283
  1726 00000F36                                 L339:
  1727 00000F36 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  1728 00000F39 8B 8D FFFFF52C                  	MOV	ECX,DWORD [-2772+EBP]
  1729 00000F3F 80 3C 11 2D                     	CMP	BYTE [ECX+EDX*1],45
  1730 00000F43 0F 84 000002B7                  	JE	L358
  1731 00000F49 83 3D [00000004] 00             	CMP	DWORD [_setfdata],0
  1732 00000F50 75 33                           	JNE	L310
  1733 00000F52 80 BD FFFFF52B 08               	CMP	BYTE [-2773+EBP],8
  1734 00000F59 74 2A                           	JE	L310
  1735 00000F5B 68 [00000214]                   	PUSH	LC61
  1736 00000F60                                 L357:
  1737 00000F60 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  1738 00000F66 53                              	PUSH	EBX
  1739 00000F67 E8 [00000000]                   	CALL	_sprintf
  1740 00000F6C                                 L348:
  1741 00000F6C 53                              	PUSH	EBX
  1742 00000F6D FF 75 08                        	PUSH	DWORD [8+EBP]
  1743 00000F70 E8 FFFFF615                     	CALL	_cons_putstr
  1744 00000F75 FF 75 08                        	PUSH	DWORD [8+EBP]
  1745 00000F78 E8 FFFFF4E8                     	CALL	_cons_newline
  1746 00000F7D                                 L279:
  1747 00000F7D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1748 00000F80 5B                              	POP	EBX
  1749 00000F81 5E                              	POP	ESI
  1750 00000F82 5F                              	POP	EDI
  1751 00000F83 5D                              	POP	EBP
  1752 00000F84 C3                              	RET
  1753 00000F85                                 L310:
  1754 00000F85 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1755 00000F88 8B 85 FFFFF52C                  	MOV	EAX,DWORD [-2772+EBP]
  1756 00000F8E 31 DB                           	XOR	EBX,EBX
  1757 00000F90 80 3C 08 00                     	CMP	BYTE [EAX+ECX*1],0
  1758 00000F94 74 2A                           	JE	L342
  1759 00000F96                                 L316:
  1760 00000F96 83 FB 2F                        	CMP	EBX,47
  1761 00000F99 0F 8F 00000257                  	JG	L346
  1762 00000F9F 8B 8D FFFFF52C                  	MOV	ECX,DWORD [-2772+EBP]
  1763 00000FA5 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  1764 00000FA8 8A 04 11                        	MOV	AL,BYTE [ECX+EDX*1]
  1765 00000FAB 41                              	INC	ECX
  1766 00000FAC 88 84 1D FFFFFB34               	MOV	BYTE [-1228+EBP+EBX*1],AL
  1767 00000FB3 89 8D FFFFF52C                  	MOV	DWORD [-2772+EBP],ECX
  1768 00000FB9 43                              	INC	EBX
  1769 00000FBA 80 3C 11 00                     	CMP	BYTE [ECX+EDX*1],0
  1770 00000FBE 75 D6                           	JNE	L316
  1771 00000FC0                                 L342:
  1772 00000FC0 C6 84 1D FFFFFB34 00            	MOV	BYTE [-1228+EBP+EBX*1],0
  1773 00000FC8 80 BD FFFFF52B 00               	CMP	BYTE [-2773+EBP],0
  1774 00000FCF 0F 84 000001D4                  	JE	L318
  1775 00000FD5 80 BD FFFFF52B 04               	CMP	BYTE [-2773+EBP],4
  1776 00000FDC 0F 84 000001C7                  	JE	L318
  1777 00000FE2 80 BD FFFFF52B 01               	CMP	BYTE [-2773+EBP],1
  1778 00000FE9 0F 84 0000017C                  	JE	L359
  1779 00000FEF 80 BD FFFFF52B 02               	CMP	BYTE [-2773+EBP],2
  1780 00000FF6 0F 84 000000E3                  	JE	L360
  1781 00000FFC 80 BD FFFFF52B 08               	CMP	BYTE [-2773+EBP],8
  1782 00001003 74 57                           	JE	L361
  1783 00001005 68 [00000240]                   	PUSH	LC69
  1784 0000100A E8 FFFFEFF1                     	CALL	_debug_print
  1785 0000100F 5F                              	POP	EDI
  1786 00001010                                 L319:
  1787 00001010 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1788 00001016 8D 9D FFFFF934                  	LEA	EBX,DWORD [-1740+EBP]
  1789 0000101C 53                              	PUSH	EBX
  1790 0000101D E8 [00000000]                   	CALL	_myfread
  1791 00001022 53                              	PUSH	EBX
  1792 00001023 68 [00000260]                   	PUSH	LC70
  1793 00001028 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  1794 0000102E 53                              	PUSH	EBX
  1795 0000102F E8 [00000000]                   	CALL	_sprintf
  1796 00001034 53                              	PUSH	EBX
  1797 00001035 FF 75 08                        	PUSH	DWORD [8+EBP]
  1798 00001038 E8 FFFFF54D                     	CALL	_cons_putstr
  1799 0000103D FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1800 00001043 E8 [00000000]                   	CALL	_get_size_myfdata
  1801 00001048 83 C4 20                        	ADD	ESP,32
  1802 0000104B                                 L351:
  1803 0000104B 50                              	PUSH	EAX
  1804 0000104C 68 [00000276]                   	PUSH	LC53
  1805 00001051 53                              	PUSH	EBX
  1806 00001052 E8 [00000000]                   	CALL	_sprintf
  1807 00001057 E9 FFFFFF10                     	JMP	L348
  1808 0000105C                                 L361:
  1809 0000105C 83 3D [00000004] 00             	CMP	DWORD [_setfdata],0
  1810 00001063 74 0A                           	JE	L334
  1811 00001065 68 [00000286]                   	PUSH	LC66
  1812 0000106A E9 FFFFFEF1                     	JMP	L357
  1813 0000106F                                 L334:
  1814 0000106F FF B5 FFFFF530                  	PUSH	DWORD [-2768+EBP]
  1815 00001075 8D 9D FFFFFB34                  	LEA	EBX,DWORD [-1228+EBP]
  1816 0000107B 53                              	PUSH	EBX
  1817 0000107C E8 [00000000]                   	CALL	_myfopen
  1818 00001081 89 C6                           	MOV	ESI,EAX
  1819 00001083 58                              	POP	EAX
  1820 00001084 5A                              	POP	EDX
  1821 00001085 85 F6                           	TEST	ESI,ESI
  1822 00001087 74 31                           	JE	L362
  1823 00001089 53                              	PUSH	EBX
  1824 0000108A 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  1825 00001090 68 [000002B1]                   	PUSH	LC68
  1826 00001095 53                              	PUSH	EBX
  1827 00001096 E8 [00000000]                   	CALL	_sprintf
  1828 0000109B 53                              	PUSH	EBX
  1829 0000109C FF 75 08                        	PUSH	DWORD [8+EBP]
  1830 0000109F E8 FFFFF4E6                     	CALL	_cons_putstr
  1831 000010A4 FF 75 08                        	PUSH	DWORD [8+EBP]
  1832 000010A7 E8 FFFFF3B9                     	CALL	_cons_newline
  1833 000010AC 89 35 [00000004]                	MOV	DWORD [_setfdata],ESI
  1834 000010B2                                 L349:
  1835 000010B2 83 C4 18                        	ADD	ESP,24
  1836 000010B5 E9 FFFFFEC3                     	JMP	L279
  1837 000010BA                                 L362:
  1838 000010BA 53                              	PUSH	EBX
  1839 000010BB 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  1840 000010C1 68 [000002C4]                   	PUSH	LC67
  1841 000010C6 53                              	PUSH	EBX
  1842 000010C7 E8 [00000000]                   	CALL	_sprintf
  1843 000010CC 53                              	PUSH	EBX
  1844 000010CD FF 75 08                        	PUSH	DWORD [8+EBP]
  1845 000010D0 E8 FFFFF4B5                     	CALL	_cons_putstr
  1846 000010D5 FF 75 08                        	PUSH	DWORD [8+EBP]
  1847 000010D8 E8 FFFFF388                     	CALL	_cons_newline
  1848 000010DD EB D3                           	JMP	L349
  1849 000010DF                                 L360:
  1850 000010DF FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1851 000010E5 8D 85 FFFFF534                  	LEA	EAX,DWORD [-2764+EBP]
  1852 000010EB 31 F6                           	XOR	ESI,ESI
  1853 000010ED 50                              	PUSH	EAX
  1854 000010EE E8 [00000000]                   	CALL	_myfread
  1855 000010F3 59                              	POP	ECX
  1856 000010F4 31 C0                           	XOR	EAX,EAX
  1857 000010F6 5F                              	POP	EDI
  1858 000010F7 39 D8                           	CMP	EAX,EBX
  1859 000010F9 7D 18                           	JGE	L344
  1860 000010FB                                 L330:
  1861 000010FB 8A 94 05 FFFFFB34               	MOV	DL,BYTE [-1228+EBP+EAX*1]
  1862 00001102 80 FA 20                        	CMP	DL,32
  1863 00001105 74 4B                           	JE	L327
  1864 00001107 88 94 05 FFFFF534               	MOV	BYTE [-2764+EBP+EAX*1],DL
  1865 0000110E                                 L325:
  1866 0000110E 40                              	INC	EAX
  1867 0000110F 39 D8                           	CMP	EAX,EBX
  1868 00001111 7C E8                           	JL	L330
  1869 00001113                                 L344:
  1870 00001113 4E                              	DEC	ESI
  1871 00001114 74 32                           	JE	L363
  1872 00001116                                 L331:
  1873 00001116 8D B5 FFFFF534                  	LEA	ESI,DWORD [-2764+EBP]
  1874 0000111C 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  1875 00001122 56                              	PUSH	ESI
  1876 00001123 68 [000002D6]                   	PUSH	LC65
  1877 00001128 53                              	PUSH	EBX
  1878 00001129 E8 [00000000]                   	CALL	_sprintf
  1879 0000112E 53                              	PUSH	EBX
  1880 0000112F E8 FFFFEECC                     	CALL	_debug_print
  1881 00001134 56                              	PUSH	ESI
  1882 00001135 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1883 0000113B E8 [00000000]                   	CALL	_myfwrite
  1884 00001140 83 C4 18                        	ADD	ESP,24
  1885 00001143 E9 FFFFFEC8                     	JMP	L319
  1886 00001148                                 L363:
  1887 00001148 C6 84 05 FFFFF534 00            	MOV	BYTE [-2764+EBP+EAX*1],0
  1888 00001150 EB C4                           	JMP	L331
  1889 00001152                                 L327:
  1890 00001152 80 BC 05 FFFFF534 00            	CMP	BYTE [-2764+EBP+EAX*1],0
  1891 0000115A 75 B2                           	JNE	L325
  1892 0000115C C6 84 05 FFFFF534 20            	MOV	BYTE [-2764+EBP+EAX*1],32
  1893 00001164 BE 00000001                     	MOV	ESI,1
  1894 00001169 EB A3                           	JMP	L325
  1895 0000116B                                 L359:
  1896 0000116B FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1897 00001171 8D 9D FFFFF534                  	LEA	EBX,DWORD [-2764+EBP]
  1898 00001177 53                              	PUSH	EBX
  1899 00001178 E8 [00000000]                   	CALL	_myfread
  1900 0000117D 68 [0000000A]                   	PUSH	LC1
  1901 00001182 53                              	PUSH	EBX
  1902 00001183 E8 [00000000]                   	CALL	_sprintf
  1903 00001188 8D 85 FFFFFB34                  	LEA	EAX,DWORD [-1228+EBP]
  1904 0000118E 50                              	PUSH	EAX
  1905 0000118F 53                              	PUSH	EBX
  1906 00001190 E8 [00000000]                   	CALL	_strcat
  1907 00001195 53                              	PUSH	EBX
  1908 00001196 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1909 0000119C E8 [00000000]                   	CALL	_myfwrite
  1910 000011A1 83 C4 20                        	ADD	ESP,32
  1911 000011A4 E9 FFFFFE67                     	JMP	L319
  1912 000011A9                                 L318:
  1913 000011A9 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1914 000011AF 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  1915 000011B5 53                              	PUSH	EBX
  1916 000011B6 E8 [00000000]                   	CALL	_myfread
  1917 000011BB 8D 85 FFFFFB34                  	LEA	EAX,DWORD [-1228+EBP]
  1918 000011C1 50                              	PUSH	EAX
  1919 000011C2 53                              	PUSH	EBX
  1920 000011C3 E8 [00000000]                   	CALL	_strcat
  1921 000011C8 68 [000002EB]                   	PUSH	LC63
  1922 000011CD E8 FFFFEE2E                     	CALL	_debug_print
  1923 000011D2 53                              	PUSH	EBX
  1924 000011D3 E8 FFFFEE28                     	CALL	_debug_print
  1925 000011D8 68 [00000316]                   	PUSH	LC64
  1926 000011DD E8 FFFFEE1E                     	CALL	_debug_print
  1927 000011E2 53                              	PUSH	EBX
  1928 000011E3 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  1929 000011E9 E8 [00000000]                   	CALL	_myfwrite
  1930 000011EE 83 C4 24                        	ADD	ESP,36
  1931 000011F1 E9 FFFFFE1A                     	JMP	L319
  1932 000011F6                                 L346:
  1933 000011F6 68 [00000318]                   	PUSH	LC62
  1934 000011FB E9 FFFFFD60                     	JMP	L357
  1935 00001200                                 L358:
  1936 00001200 41                              	INC	ECX
  1937 00001201 31 DB                           	XOR	EBX,EBX
  1938 00001203 89 8D FFFFF52C                  	MOV	DWORD [-2772+EBP],ECX
  1939 00001209 8A 04 11                        	MOV	AL,BYTE [ECX+EDX*1]
  1940 0000120C 3C 20                           	CMP	AL,32
  1941 0000120E 74 33                           	JE	L286
  1942 00001210 84 C0                           	TEST	AL,AL
  1943 00001212 74 2F                           	JE	L286
  1944 00001214                                 L290:
  1945 00001214 83 FB 09                        	CMP	EBX,9
  1946 00001217 0F 8F 0000026B                  	JG	L345
  1947 0000121D 8B 8D FFFFF52C                  	MOV	ECX,DWORD [-2772+EBP]
  1948 00001223 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  1949 00001226 8A 04 11                        	MOV	AL,BYTE [ECX+EDX*1]
  1950 00001229 41                              	INC	ECX
  1951 0000122A 88 84 1D FFFFFB74               	MOV	BYTE [-1164+EBP+EBX*1],AL
  1952 00001231 89 8D FFFFF52C                  	MOV	DWORD [-2772+EBP],ECX
  1953 00001237 8A 04 11                        	MOV	AL,BYTE [ECX+EDX*1]
  1954 0000123A 43                              	INC	EBX
  1955 0000123B 3C 20                           	CMP	AL,32
  1956 0000123D 74 04                           	JE	L286
  1957 0000123F 84 C0                           	TEST	AL,AL
  1958 00001241 75 D1                           	JNE	L290
  1959 00001243                                 L286:
  1960 00001243 FC                              	CLD
  1961 00001244 C6 84 1D FFFFFB74 00            	MOV	BYTE [-1164+EBP+EBX*1],0
  1962 0000124C 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  1963 00001252 BF [0000032F]                   	MOV	EDI,LC41
  1964 00001257 B9 00000005                     	MOV	ECX,5
  1965 0000125C F3                              	REPE
  1966 0000125D A6                              	CMPSB
  1967 0000125E 0F 84 0000020D                  	JE	L364
  1968 00001264                                 L291:
  1969 00001264 83 3D [00000004] 00             	CMP	DWORD [_setfdata],0
  1970 0000126B 75 13                           	JNE	L292
  1971 0000126D 80 BD FFFFF52B 08               	CMP	BYTE [-2773+EBP],8
  1972 00001274 74 0A                           	JE	L292
  1973 00001276 68 [00000334]                   	PUSH	LC43
  1974 0000127B E9 FFFFFCE0                     	JMP	L357
  1975 00001280                                 L292:
  1976 00001280 FC                              	CLD
  1977 00001281 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  1978 00001287 BF [00000021]                   	MOV	EDI,LC7
  1979 0000128C B9 00000004                     	MOV	ECX,4
  1980 00001291 F3                              	REPE
  1981 00001292 A6                              	CMPSB
  1982 00001293 0F 84 000001AF                  	JE	L365
  1983 00001299 FC                              	CLD
  1984 0000129A 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  1985 000012A0 BF [00000360]                   	MOV	EDI,LC45
  1986 000012A5 B9 00000004                     	MOV	ECX,4
  1987 000012AA F3                              	REPE
  1988 000012AB A6                              	CMPSB
  1989 000012AC 0F 84 00000183                  	JE	L366
  1990 000012B2 FC                              	CLD
  1991 000012B3 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  1992 000012B9 BF [00000364]                   	MOV	EDI,LC47
  1993 000012BE B9 00000004                     	MOV	ECX,4
  1994 000012C3 F3                              	REPE
  1995 000012C4 A6                              	CMPSB
  1996 000012C5 0F 84 00000153                  	JE	L367
  1997 000012CB FC                              	CLD
  1998 000012CC 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  1999 000012D2 BF [00000368]                   	MOV	EDI,LC49
  2000 000012D7 B9 00000005                     	MOV	ECX,5
  2001 000012DC F3                              	REPE
  2002 000012DD A6                              	CMPSB
  2003 000012DE 0F 84 000000D5                  	JE	L368
  2004 000012E4 FC                              	CLD
  2005 000012E5 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  2006 000012EB BF [0000036D]                   	MOV	EDI,LC54
  2007 000012F0 B9 00000006                     	MOV	ECX,6
  2008 000012F5 F3                              	REPE
  2009 000012F6 A6                              	CMPSB
  2010 000012F7 0F 84 00000093                  	JE	L369
  2011 000012FD FC                              	CLD
  2012 000012FE 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  2013 00001304 BF [00000373]                   	MOV	EDI,LC57
  2014 00001309 B9 00000005                     	MOV	ECX,5
  2015 0000130E F3                              	REPE
  2016 0000130F A6                              	CMPSB
  2017 00001310 74 3E                           	JE	L370
  2018 00001312 FC                              	CLD
  2019 00001313 8D B5 FFFFFB74                  	LEA	ESI,DWORD [-1164+EBP]
  2020 00001319 BF [0000032F]                   	MOV	EDI,LC41
  2021 0000131E B9 00000005                     	MOV	ECX,5
  2022 00001323 F3                              	REPE
  2023 00001324 A6                              	CMPSB
  2024 00001325 75 1F                           	JNE	L371
  2025 00001327                                 L294:
  2026 00001327 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  2027 0000132A 8B 95 FFFFF52C                  	MOV	EDX,DWORD [-2772+EBP]
  2028 00001330 80 3C 02 20                     	CMP	BYTE [EDX+EAX*1],32
  2029 00001334 0F 85 FFFFFC4B                  	JNE	L310
  2030 0000133A 42                              	INC	EDX
  2031 0000133B 89 95 FFFFF52C                  	MOV	DWORD [-2772+EBP],EDX
  2032 00001341 E9 FFFFFC3F                     	JMP	L310
  2033 00001346                                 L371:
  2034 00001346 68 [00000378]                   	PUSH	LC60
  2035 0000134B E9 FFFFFC10                     	JMP	L357
  2036 00001350                                 L370:
  2037 00001350 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  2038 00001356 E8 [00000000]                   	CALL	_myfsave
  2039 0000135B 5A                              	POP	EDX
  2040 0000135C 40                              	INC	EAX
  2041 0000135D 74 0A                           	JE	L372
  2042 0000135F 68 [00000389]                   	PUSH	LC59
  2043 00001364 E9 FFFFFBF7                     	JMP	L357
  2044 00001369                                 L372:
  2045 00001369 68 [000003A7]                   	PUSH	LC58
  2046 0000136E 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  2047 00001374 53                              	PUSH	EBX
  2048 00001375 E8 [00000000]                   	CALL	_sprintf
  2049 0000137A 53                              	PUSH	EBX
  2050 0000137B FF 75 08                        	PUSH	DWORD [8+EBP]
  2051 0000137E E8 FFFFF207                     	CALL	_cons_putstr
  2052 00001383 FF 75 08                        	PUSH	DWORD [8+EBP]
  2053 00001386 E8 FFFFF0DA                     	CALL	_cons_newline
  2054 0000138B 83 C4 14                        	ADD	ESP,20
  2055 0000138E EB 97                           	JMP	L294
  2056 00001390                                 L369:
  2057 00001390 68 [000003E5]                   	PUSH	LC55
  2058 00001395 E8 FFFFEC66                     	CALL	_debug_print
  2059 0000139A FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  2060 000013A0 E8 [00000000]                   	CALL	_myfclose
  2061 000013A5 68 [000003F6]                   	PUSH	LC56
  2062 000013AA C7 05 [00000004] 00000000       	MOV	DWORD [_setfdata],0
  2063 000013B4 E9 FFFFFBA7                     	JMP	L357
  2064 000013B9                                 L368:
  2065 000013B9 68 [0000040F]                   	PUSH	LC50
  2066 000013BE 8D B5 FFFFF934                  	LEA	ESI,DWORD [-1740+EBP]
  2067 000013C4 8D 9D FFFFFB84                  	LEA	EBX,DWORD [-1148+EBP]
  2068 000013CA E8 FFFFEC31                     	CALL	_debug_print
  2069 000013CF FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  2070 000013D5 56                              	PUSH	ESI
  2071 000013D6 E8 [00000000]                   	CALL	_myfread
  2072 000013DB A1 [00000004]                   	MOV	EAX,DWORD [_setfdata]
  2073 000013E0 0F B6 00                        	MOVZX	EAX,BYTE [EAX]
  2074 000013E3 50                              	PUSH	EAX
  2075 000013E4 68 [0000041F]                   	PUSH	LC51
  2076 000013E9 53                              	PUSH	EBX
  2077 000013EA E8 [00000000]                   	CALL	_sprintf
  2078 000013EF 53                              	PUSH	EBX
  2079 000013F0 E8 FFFFEC0B                     	CALL	_debug_print
  2080 000013F5 56                              	PUSH	ESI
  2081 000013F6 68 [0000043B]                   	PUSH	LC52
  2082 000013FB 53                              	PUSH	EBX
  2083 000013FC E8 [00000000]                   	CALL	_sprintf
  2084 00001401 83 C4 28                        	ADD	ESP,40
  2085 00001404 53                              	PUSH	EBX
  2086 00001405 FF 75 08                        	PUSH	DWORD [8+EBP]
  2087 00001408 E8 FFFFF17D                     	CALL	_cons_putstr
  2088 0000140D FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  2089 00001413 E8 [00000000]                   	CALL	_get_size_myfdata
  2090 00001418 59                              	POP	ECX
  2091 00001419 E9 FFFFFC2D                     	JMP	L351
  2092 0000141E                                 L367:
  2093 0000141E 68 [00000444]                   	PUSH	LC48
  2094 00001423 E8 FFFFEBD8                     	CALL	_debug_print
  2095 00001428 C6 85 FFFFF52B 04               	MOV	BYTE [-2773+EBP],4
  2096 0000142F                                 L347:
  2097 0000142F 5B                              	POP	EBX
  2098 00001430 E9 FFFFFEF2                     	JMP	L294
  2099 00001435                                 L366:
  2100 00001435 68 [00000453]                   	PUSH	LC46
  2101 0000143A E8 FFFFEBC1                     	CALL	_debug_print
  2102 0000143F C6 85 FFFFF52B 02               	MOV	BYTE [-2773+EBP],2
  2103 00001446 EB E7                           	JMP	L347
  2104 00001448                                 L365:
  2105 00001448 68 [00000465]                   	PUSH	LC44
  2106 0000144D E8 FFFFEBAE                     	CALL	_debug_print
  2107 00001452 68 [0000000A]                   	PUSH	LC1
  2108 00001457 FF 35 [00000004]                	PUSH	DWORD [_setfdata]
  2109 0000145D C6 85 FFFFF52B 01               	MOV	BYTE [-2773+EBP],1
  2110 00001464 E8 [00000000]                   	CALL	_myfwrite
  2111 00001469 83 C4 0C                        	ADD	ESP,12
  2112 0000146C E9 FFFFFEB6                     	JMP	L294
  2113 00001471                                 L364:
  2114 00001471 68 [00000476]                   	PUSH	LC42
  2115 00001476 E8 FFFFEB85                     	CALL	_debug_print
  2116 0000147B 5E                              	POP	ESI
  2117 0000147C C6 85 FFFFF52B 08               	MOV	BYTE [-2773+EBP],8
  2118 00001483 E9 FFFFFDDC                     	JMP	L291
  2119 00001488                                 L345:
  2120 00001488 68 [00000486]                   	PUSH	LC40
  2121 0000148D E9 FFFFFACE                     	JMP	L357
  2122 00001492                                 L283:
  2123 00001492 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  2124 00001495 FF 85 FFFFF52C                  	INC	DWORD [-2772+EBP]
  2125 0000149B 8B 85 FFFFF52C                  	MOV	EAX,DWORD [-2772+EBP]
  2126 000014A1 80 3C 08 20                     	CMP	BYTE [EAX+ECX*1],32
  2127 000014A5 74 EB                           	JE	L283
  2128 000014A7 E9 FFFFFA8A                     	JMP	L339
  2129                                          [SECTION .data]
  2130 0000049B                                 LC71:
  2131 0000049B 64 69 72 65 63 74 6F 72 79 20   	DB	"directory name shoule be within 8 letters.",0x0A,0x00
       000004A5 6E 61 6D 65 20 73 68 6F 75 6C 
       000004AF 65 20 62 65 20 77 69 74 68 69 
       000004B9 6E 20 38 20 6C 65 74 74 65 72 
       000004C3 73 2E 0A 00 
  2132 000004C7                                 LC72:
  2133 000004C7 74 68 69 73 20 64 69 72 65 63   	DB	"this directory name is already used, please use other name.",0x0A,0x00
       000004D1 74 6F 72 79 20 6E 61 6D 65 20 
       000004DB 69 73 20 61 6C 72 65 61 64 79 
       000004E5 20 75 73 65 64 2C 20 70 6C 65 
       000004EF 61 73 65 20 75 73 65 20 6F 74 
       000004F9 68 65 72 20 6E 61 6D 65 2E 0A 
       00000503 00 
  2134 00000504                                 LC73:
  2135 00000504 09 6E 61 6D 65 20 3D 20 25 73   	DB	0x09,"name = %s",0x0A,0x09,"ext = %s",0x0A,0x09,"type = 0x%02x",0x0A,0x00
       0000050E 0A 09 65 78 74 20 3D 20 25 73 
       00000518 0A 09 74 79 70 65 20 3D 20 30 
       00000522 78 25 30 32 78 0A 00 
  2136 00000529                                 LC74:
  2137 00000529 63 72 65 61 74 65 64 20 64 69   	DB	"created directory: name = %s",0x0A,0x00
       00000533 72 65 63 74 6F 72 79 3A 20 6E 
       0000053D 61 6D 65 20 3D 20 25 73 0A 00 
  2138 00000547                                 LC75:
  2139 00000547 09 63 68 69 6C 64 20 64 69 72   	DB	0x09,"child dir address = 0x%08x",0x0A,0x00
       00000551 20 61 64 64 72 65 73 73 20 3D 
       0000055B 20 30 78 25 30 38 78 0A 00 
  2140 00000564                                 LC76:
  2141 00000564 09 74 79 70 65 3D 30 78 25 30   	DB	0x09,"type=0x%02x",0x0A,0x00
       0000056E 32 78 0A 00 
  2142 00000572                                 LC77:
  2143 00000572 09 63 68 69 6C 64 20 64 69 6E   	DB	0x09,"child dinfo addr = 0x%08x",0x0A,0x00
       0000057C 66 6F 20 61 64 64 72 20 3D 20 
       00000586 30 78 25 30 38 78 0A 00 
  2144 0000058E                                 LC78:
  2145 0000058E 09 63 68 69 6C 64 20 64 69 6E   	DB	0x09,"child dinfo name = %s",0x0A,0x00
       00000598 66 6F 20 6E 61 6D 65 20 3D 20 
       000005A2 25 73 0A 00 
  2146 000005A6                                 LC79:
  2147 000005A6 09 63 68 69 6C 64 20 64 69 6E   	DB	0x09,"child dinfo parent addr = 0x%08x",0x0A,0x00
       000005B0 66 6F 20 70 61 72 65 6E 74 20 
       000005BA 61 64 64 72 20 3D 20 30 78 25 
       000005C4 30 38 78 0A 00 
  2148                                          [SECTION .text]
  2149 000014AC                                 	GLOBAL	_cmd_mkdir
  2150 000014AC                                 _cmd_mkdir:
  2151 000014AC 55                              	PUSH	EBP
  2152 000014AD 89 E5                           	MOV	EBP,ESP
  2153 000014AF 57                              	PUSH	EDI
  2154 000014B0 56                              	PUSH	ESI
  2155 000014B1 53                              	PUSH	EBX
  2156 000014B2 31 DB                           	XOR	EBX,EBX
  2157 000014B4 83 EC 48                        	SUB	ESP,72
  2158 000014B7 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  2159 000014BA 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  2160 000014BD 8D 70 06                        	LEA	ESI,DWORD [6+EAX]
  2161 000014C0 8B 52 14                        	MOV	EDX,DWORD [20+EDX]
  2162 000014C3 89 55 AC                        	MOV	DWORD [-84+EBP],EDX
  2163 000014C6 89 75 B0                        	MOV	DWORD [-80+EBP],ESI
  2164 000014C9 80 78 06 00                     	CMP	BYTE [6+EAX],0
  2165 000014CD 74 0A                           	JE	L400
  2166 000014CF                                 L378:
  2167 000014CF 43                              	INC	EBX
  2168 000014D0 8B 45 B0                        	MOV	EAX,DWORD [-80+EBP]
  2169 000014D3 80 3C 03 00                     	CMP	BYTE [EBX+EAX*1],0
  2170 000014D7 75 F6                           	JNE	L378
  2171 000014D9                                 L400:
  2172 000014D9 83 FB 08                        	CMP	EBX,8
  2173 000014DC 7E 27                           	JLE	L379
  2174 000014DE 68 [0000049B]                   	PUSH	LC71
  2175 000014E3 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2176 000014E6 53                              	PUSH	EBX
  2177 000014E7 E8 [00000000]                   	CALL	_sprintf
  2178 000014EC 53                              	PUSH	EBX
  2179 000014ED FF 75 08                        	PUSH	DWORD [8+EBP]
  2180 000014F0 E8 FFFFF095                     	CALL	_cons_putstr
  2181 000014F5                                 L407:
  2182 000014F5 FF 75 08                        	PUSH	DWORD [8+EBP]
  2183 000014F8 E8 FFFFEF68                     	CALL	_cons_newline
  2184 000014FD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2185 00001500 5B                              	POP	EBX
  2186 00001501 5E                              	POP	ESI
  2187 00001502 5F                              	POP	EDI
  2188 00001503 5D                              	POP	EBP
  2189 00001504 C3                              	RET
  2190 00001505                                 L379:
  2191 00001505 6A 32                           	PUSH	50
  2192 00001507 FF 75 AC                        	PUSH	DWORD [-84+EBP]
  2193 0000150A FF 75 B0                        	PUSH	DWORD [-80+EBP]
  2194 0000150D E8 [00000000]                   	CALL	_myfinfo_search
  2195 00001512 83 C4 0C                        	ADD	ESP,12
  2196 00001515 89 C6                           	MOV	ESI,EAX
  2197 00001517 85 C0                           	TEST	EAX,EAX
  2198 00001519 74 37                           	JE	L380
  2199 0000151B 68 [000004C7]                   	PUSH	LC72
  2200 00001520 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2201 00001523 53                              	PUSH	EBX
  2202 00001524 E8 [00000000]                   	CALL	_sprintf
  2203 00001529 53                              	PUSH	EBX
  2204 0000152A FF 75 08                        	PUSH	DWORD [8+EBP]
  2205 0000152D E8 FFFFF058                     	CALL	_cons_putstr
  2206 00001532 0F B6 46 0B                     	MOVZX	EAX,BYTE [11+ESI]
  2207 00001536 50                              	PUSH	EAX
  2208 00001537 8D 46 08                        	LEA	EAX,DWORD [8+ESI]
  2209 0000153A 50                              	PUSH	EAX
  2210 0000153B 56                              	PUSH	ESI
  2211 0000153C 68 [00000504]                   	PUSH	LC73
  2212 00001541 53                              	PUSH	EBX
  2213 00001542 E8 [00000000]                   	CALL	_sprintf
  2214 00001547 83 C4 24                        	ADD	ESP,36
  2215 0000154A                                 L406:
  2216 0000154A 53                              	PUSH	EBX
  2217 0000154B E8 FFFFEAB0                     	CALL	_debug_print
  2218 00001550 EB A3                           	JMP	L407
  2219 00001552                                 L380:
  2220 00001552 31 DB                           	XOR	EBX,EBX
  2221 00001554 8B 45 AC                        	MOV	EAX,DWORD [-84+EBP]
  2222 00001557                                 L387:
  2223 00001557 80 38 00                        	CMP	BYTE [EAX],0
  2224 0000155A 74 09                           	JE	L383
  2225 0000155C 43                              	INC	EBX
  2226 0000155D 83 C0 28                        	ADD	EAX,40
  2227 00001560 83 FB 31                        	CMP	EBX,49
  2228 00001563 7E F2                           	JLE	L387
  2229 00001565                                 L383:
  2230 00001565 8B 55 B0                        	MOV	EDX,DWORD [-80+EBP]
  2231 00001568 31 C9                           	XOR	ECX,ECX
  2232 0000156A 80 3A 00                        	CMP	BYTE [EDX],0
  2233 0000156D 74 29                           	JE	L403
  2234 0000156F                                 L393:
  2235 0000156F 8B 75 B0                        	MOV	ESI,DWORD [-80+EBP]
  2236 00001572 8A 14 31                        	MOV	DL,BYTE [ECX+ESI*1]
  2237 00001575 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
  2238 00001578 3C 19                           	CMP	AL,25
  2239 0000157A 77 06                           	JA	L392
  2240 0000157C 8D 42 E0                        	LEA	EAX,DWORD [-32+EDX]
  2241 0000157F 88 04 31                        	MOV	BYTE [ECX+ESI*1],AL
  2242 00001582                                 L392:
  2243 00001582 6B C3 28                        	IMUL	EAX,EBX,40
  2244 00001585 8B 75 B0                        	MOV	ESI,DWORD [-80+EBP]
  2245 00001588 03 45 AC                        	ADD	EAX,DWORD [-84+EBP]
  2246 0000158B 8A 14 31                        	MOV	DL,BYTE [ECX+ESI*1]
  2247 0000158E 88 14 01                        	MOV	BYTE [ECX+EAX*1],DL
  2248 00001591 41                              	INC	ECX
  2249 00001592 80 3C 31 00                     	CMP	BYTE [ECX+ESI*1],0
  2250 00001596 75 D7                           	JNE	L393
  2251 00001598                                 L403:
  2252 00001598 83 F9 07                        	CMP	ECX,7
  2253 0000159B 7F 10                           	JG	L405
  2254 0000159D                                 L398:
  2255 0000159D 6B C3 28                        	IMUL	EAX,EBX,40
  2256 000015A0 03 45 AC                        	ADD	EAX,DWORD [-84+EBP]
  2257 000015A3 C6 04 01 20                     	MOV	BYTE [ECX+EAX*1],32
  2258 000015A7 41                              	INC	ECX
  2259 000015A8 83 F9 07                        	CMP	ECX,7
  2260 000015AB 7E F0                           	JLE	L398
  2261 000015AD                                 L405:
  2262 000015AD 6B FB 28                        	IMUL	EDI,EBX,40
  2263 000015B0 8B 45 AC                        	MOV	EAX,DWORD [-84+EBP]
  2264 000015B3 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2265 000015B6 8D 34 38                        	LEA	ESI,DWORD [EAX+EDI*1]
  2266 000015B9 E8 [00000000]                   	CALL	_get_newdinfo
  2267 000015BE 8B 55 AC                        	MOV	EDX,DWORD [-84+EBP]
  2268 000015C1 89 46 20                        	MOV	DWORD [32+ESI],EAX
  2269 000015C4 8D 46 10                        	LEA	EAX,DWORD [16+ESI]
  2270 000015C7 C6 44 3A 0B 10                  	MOV	BYTE [11+EDX+EDI*1],16
  2271 000015CC C7 46 1C 00000028               	MOV	DWORD [28+ESI],40
  2272 000015D3 C7 46 24 00000000               	MOV	DWORD [36+ESI],0
  2273 000015DA 66 C7 40 0A 0000                	MOV	WORD [10+EAX],0
  2274 000015E0 66 C7 40 08 0000                	MOV	WORD [8+EAX],0
  2275 000015E6 56                              	PUSH	ESI
  2276 000015E7 68 [00000529]                   	PUSH	LC74
  2277 000015EC 53                              	PUSH	EBX
  2278 000015ED E8 [00000000]                   	CALL	_sprintf
  2279 000015F2 53                              	PUSH	EBX
  2280 000015F3 FF 75 08                        	PUSH	DWORD [8+EBP]
  2281 000015F6 E8 FFFFEF8F                     	CALL	_cons_putstr
  2282 000015FB FF 76 20                        	PUSH	DWORD [32+ESI]
  2283 000015FE 68 [00000547]                   	PUSH	LC75
  2284 00001603 53                              	PUSH	EBX
  2285 00001604 E8 [00000000]                   	CALL	_sprintf
  2286 00001609 83 C4 20                        	ADD	ESP,32
  2287 0000160C 53                              	PUSH	EBX
  2288 0000160D E8 FFFFE9EE                     	CALL	_debug_print
  2289 00001612 8B 55 AC                        	MOV	EDX,DWORD [-84+EBP]
  2290 00001615 0F B6 44 3A 0B                  	MOVZX	EAX,BYTE [11+EDX+EDI*1]
  2291 0000161A 50                              	PUSH	EAX
  2292 0000161B 68 [00000564]                   	PUSH	LC76
  2293 00001620 53                              	PUSH	EBX
  2294 00001621 E8 [00000000]                   	CALL	_sprintf
  2295 00001626 53                              	PUSH	EBX
  2296 00001627 E8 FFFFE9D4                     	CALL	_debug_print
  2297 0000162C 8B 76 20                        	MOV	ESI,DWORD [32+ESI]
  2298 0000162F 89 B6 000007DC                  	MOV	DWORD [2012+ESI],ESI
  2299 00001635 8D BE 000007D0                  	LEA	EDI,DWORD [2000+ESI]
  2300 0000163B FF 75 B0                        	PUSH	DWORD [-80+EBP]
  2301 0000163E 57                              	PUSH	EDI
  2302 0000163F E8 [00000000]                   	CALL	_sprintf
  2303 00001644 8B 55 AC                        	MOV	EDX,DWORD [-84+EBP]
  2304 00001647 8B 82 000007DC                  	MOV	EAX,DWORD [2012+EDX]
  2305 0000164D 89 86 000007D8                  	MOV	DWORD [2008+ESI],EAX
  2306 00001653 FF B6 000007DC                  	PUSH	DWORD [2012+ESI]
  2307 00001659 68 [00000572]                   	PUSH	LC77
  2308 0000165E 53                              	PUSH	EBX
  2309 0000165F E8 [00000000]                   	CALL	_sprintf
  2310 00001664 83 C4 28                        	ADD	ESP,40
  2311 00001667 53                              	PUSH	EBX
  2312 00001668 E8 FFFFE993                     	CALL	_debug_print
  2313 0000166D 57                              	PUSH	EDI
  2314 0000166E 68 [0000058E]                   	PUSH	LC78
  2315 00001673 53                              	PUSH	EBX
  2316 00001674 E8 [00000000]                   	CALL	_sprintf
  2317 00001679 53                              	PUSH	EBX
  2318 0000167A E8 FFFFE981                     	CALL	_debug_print
  2319 0000167F FF B6 000007D8                  	PUSH	DWORD [2008+ESI]
  2320 00001685 68 [000005A6]                   	PUSH	LC79
  2321 0000168A 53                              	PUSH	EBX
  2322 0000168B E8 [00000000]                   	CALL	_sprintf
  2323 00001690 83 C4 20                        	ADD	ESP,32
  2324 00001693 E9 FFFFFEB2                     	JMP	L406
  2325                                          [SECTION .data]
  2326 000005C9                                 LC82:
  2327 000005C9 74 68 69 73 20 66 69 6C 65 20   	DB	"this file name is already used, please use other name.",0x0A,0x00
       000005D3 6E 61 6D 65 20 69 73 20 61 6C 
       000005DD 72 65 61 64 79 20 75 73 65 64 
       000005E7 2C 20 70 6C 65 61 73 65 20 75 
       000005F1 73 65 20 6F 74 68 65 72 20 6E 
       000005FB 61 6D 65 2E 0A 00 
  2328 00000601                                 LC83:
  2329 00000601 63 72 65 61 74 65 64 20 66 69   	DB	"created file name = %s[EOF]",0x0A,0x00
       0000060B 6C 65 20 6E 61 6D 65 20 3D 20 
       00000615 25 73 5B 45 4F 46 5D 0A 00 
  2330 0000061E                                 LC84:
  2331 0000061E 66 69 6C 65 20 6E 61 6D 65 20   	DB	"file name = %s",0x0A,0x00
       00000628 3D 20 25 73 0A 00 
  2332 0000062E                                 LC85:
  2333 0000062E 66 69 6C 65 20 74 79 70 65 3D   	DB	"file type=0x%02x",0x0A,0x00
       00000638 30 78 25 30 32 78 0A 00 
  2334 00000640                                 LC80:
  2335 00000640 66 69 6C 65 20 6E 61 6D 65 20   	DB	"file name should be within 8 letters,",0x0A,0x00
       0000064A 73 68 6F 75 6C 64 20 62 65 20 
       00000654 77 69 74 68 69 6E 20 38 20 6C 
       0000065E 65 74 74 65 72 73 2C 0A 00 
  2336 00000667                                 LC81:
  2337 00000667 61 6E 64 20 65 78 74 65 6E 73   	DB	"and extension should be within 3 letters.",0x0A,0x00
       00000671 69 6F 6E 20 73 68 6F 75 6C 64 
       0000067B 20 62 65 20 77 69 74 68 69 6E 
       00000685 20 33 20 6C 65 74 74 65 72 73 
       0000068F 2E 0A 00 
  2338                                          [SECTION .text]
  2339 00001698                                 	GLOBAL	_cmd_mkfile
  2340 00001698                                 _cmd_mkfile:
  2341 00001698 55                              	PUSH	EBP
  2342 00001699 31 C9                           	XOR	ECX,ECX
  2343 0000169B 89 E5                           	MOV	EBP,ESP
  2344 0000169D 57                              	PUSH	EDI
  2345 0000169E 56                              	PUSH	ESI
  2346 0000169F 53                              	PUSH	EBX
  2347 000016A0 81 EC 00000454                  	SUB	ESP,1108
  2348 000016A6 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2349 000016A9 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
  2350 000016AC 83 C6 07                        	ADD	ESI,7
  2351 000016AF 8B 78 14                        	MOV	EDI,DWORD [20+EAX]
  2352 000016B2                                 L413:
  2353 000016B2 C6 44 0D A4 20                  	MOV	BYTE [-92+EBP+ECX*1],32
  2354 000016B7 41                              	INC	ECX
  2355 000016B8 83 F9 0A                        	CMP	ECX,10
  2356 000016BB 7E F5                           	JLE	L413
  2357 000016BD 31 C9                           	XOR	ECX,ECX
  2358 000016BF 31 DB                           	XOR	EBX,EBX
  2359 000016C1 80 3E 00                        	CMP	BYTE [ESI],0
  2360 000016C4 74 2F                           	JE	L443
  2361 000016C6                                 L422:
  2362 000016C6 83 F9 0A                        	CMP	ECX,10
  2363 000016C9 0F 8F 00000185                  	JG	L449
  2364 000016CF 8A 14 33                        	MOV	DL,BYTE [EBX+ESI*1]
  2365 000016D2 80 FA 2E                        	CMP	DL,46
  2366 000016D5 0F 84 00000166                  	JE	L451
  2367 000016DB                                 L419:
  2368 000016DB 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
  2369 000016DE 88 54 0D A4                     	MOV	BYTE [-92+EBP+ECX*1],DL
  2370 000016E2 3C 19                           	CMP	AL,25
  2371 000016E4 77 07                           	JA	L421
  2372 000016E6 8D 42 E0                        	LEA	EAX,DWORD [-32+EDX]
  2373 000016E9 88 44 0D A4                     	MOV	BYTE [-92+EBP+ECX*1],AL
  2374 000016ED                                 L421:
  2375 000016ED 41                              	INC	ECX
  2376 000016EE                                 L416:
  2377 000016EE 43                              	INC	EBX
  2378 000016EF 80 3C 33 00                     	CMP	BYTE [EBX+ESI*1],0
  2379 000016F3 75 D1                           	JNE	L422
  2380 000016F5                                 L443:
  2381 000016F5 6A 32                           	PUSH	50
  2382 000016F7 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
  2383 000016FA 57                              	PUSH	EDI
  2384 000016FB 50                              	PUSH	EAX
  2385 000016FC E8 [00000000]                   	CALL	_myfinfo_search
  2386 00001701 83 C4 0C                        	ADD	ESP,12
  2387 00001704 89 C6                           	MOV	ESI,EAX
  2388 00001706 85 C0                           	TEST	EAX,EAX
  2389 00001708 74 50                           	JE	L423
  2390 0000170A 68 [000005C9]                   	PUSH	LC82
  2391 0000170F 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2392 00001712 53                              	PUSH	EBX
  2393 00001713 E8 [00000000]                   	CALL	_sprintf
  2394 00001718 53                              	PUSH	EBX
  2395 00001719 FF 75 08                        	PUSH	DWORD [8+EBP]
  2396 0000171C E8 FFFFEE69                     	CALL	_cons_putstr
  2397 00001721 0F B6 46 0B                     	MOVZX	EAX,BYTE [11+ESI]
  2398 00001725 50                              	PUSH	EAX
  2399 00001726 8D 46 08                        	LEA	EAX,DWORD [8+ESI]
  2400 00001729 50                              	PUSH	EAX
  2401 0000172A 56                              	PUSH	ESI
  2402 0000172B 68 [00000504]                   	PUSH	LC73
  2403 00001730 53                              	PUSH	EBX
  2404 00001731 E8 [00000000]                   	CALL	_sprintf
  2405 00001736 83 C4 24                        	ADD	ESP,36
  2406 00001739 53                              	PUSH	EBX
  2407 0000173A FF 75 08                        	PUSH	DWORD [8+EBP]
  2408 0000173D E8 FFFFEE48                     	CALL	_cons_putstr
  2409 00001742 FF 75 08                        	PUSH	DWORD [8+EBP]
  2410 00001745 E8 FFFFED1B                     	CALL	_cons_newline
  2411 0000174A                                 L450:
  2412 0000174A FF 75 08                        	PUSH	DWORD [8+EBP]
  2413 0000174D E8 FFFFED13                     	CALL	_cons_newline
  2414 00001752 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2415 00001755 5B                              	POP	EBX
  2416 00001756 5E                              	POP	ESI
  2417 00001757 5F                              	POP	EDI
  2418 00001758 5D                              	POP	EBP
  2419 00001759 C3                              	RET
  2420 0000175A                                 L423:
  2421 0000175A 31 DB                           	XOR	EBX,EBX
  2422 0000175C 89 F8                           	MOV	EAX,EDI
  2423 0000175E                                 L429:
  2424 0000175E 80 38 00                        	CMP	BYTE [EAX],0
  2425 00001761 74 09                           	JE	L425
  2426 00001763 43                              	INC	EBX
  2427 00001764 83 C0 28                        	ADD	EAX,40
  2428 00001767 83 FB 31                        	CMP	EBX,49
  2429 0000176A 7E F2                           	JLE	L429
  2430 0000176C                                 L425:
  2431 0000176C 31 C9                           	XOR	ECX,ECX
  2432 0000176E                                 L434:
  2433 0000176E 6B C3 28                        	IMUL	EAX,EBX,40
  2434 00001771 01 F8                           	ADD	EAX,EDI
  2435 00001773 8A 54 0D A4                     	MOV	DL,BYTE [-92+EBP+ECX*1]
  2436 00001777 88 14 01                        	MOV	BYTE [ECX+EAX*1],DL
  2437 0000177A 41                              	INC	ECX
  2438 0000177B 83 F9 07                        	CMP	ECX,7
  2439 0000177E 7E EE                           	JLE	L434
  2440 00001780 31 C9                           	XOR	ECX,ECX
  2441 00001782                                 L439:
  2442 00001782 6B D3 28                        	IMUL	EDX,EBX,40
  2443 00001785 89 D6                           	MOV	ESI,EDX
  2444 00001787 89 95 FFFFFBA0                  	MOV	DWORD [-1120+EBP],EDX
  2445 0000178D 01 FE                           	ADD	ESI,EDI
  2446 0000178F 8A 44 0D AC                     	MOV	AL,BYTE [-84+EBP+ECX*1]
  2447 00001793 88 44 31 08                     	MOV	BYTE [8+ECX+ESI*1],AL
  2448 00001797 41                              	INC	ECX
  2449 00001798 83 F9 02                        	CMP	ECX,2
  2450 0000179B 7E E5                           	JLE	L439
  2451 0000179D 8D 46 10                        	LEA	EAX,DWORD [16+ESI]
  2452 000017A0 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2453 000017A3 C6 44 17 0B 20                  	MOV	BYTE [11+EDI+EDX*1],32
  2454 000017A8 66 C7 40 0A 0000                	MOV	WORD [10+EAX],0
  2455 000017AE 66 C7 40 08 0000                	MOV	WORD [8+EAX],0
  2456 000017B4 C7 46 1C 00000000               	MOV	DWORD [28+ESI],0
  2457 000017BB C6 85 FFFFFBA4 FF               	MOV	BYTE [-1116+EBP],-1
  2458 000017C2 8B 87 000007DC                  	MOV	EAX,DWORD [2012+EDI]
  2459 000017C8 89 85 FFFFFBB8                  	MOV	DWORD [-1096+EBP],EAX
  2460 000017CE 8D 85 FFFFFBA4                  	LEA	EAX,DWORD [-1116+EBP]
  2461 000017D4 50                              	PUSH	EAX
  2462 000017D5 E8 [00000000]                   	CALL	_get_newfdata
  2463 000017DA C6 00 01                        	MOV	BYTE [EAX],1
  2464 000017DD 89 40 10                        	MOV	DWORD [16+EAX],EAX
  2465 000017E0 8B 97 000007DC                  	MOV	EDX,DWORD [2012+EDI]
  2466 000017E6 89 46 24                        	MOV	DWORD [36+ESI],EAX
  2467 000017E9 89 50 14                        	MOV	DWORD [20+EAX],EDX
  2468 000017EC 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
  2469 000017EF 50                              	PUSH	EAX
  2470 000017F0 68 [00000601]                   	PUSH	LC83
  2471 000017F5 53                              	PUSH	EBX
  2472 000017F6 E8 [00000000]                   	CALL	_sprintf
  2473 000017FB 53                              	PUSH	EBX
  2474 000017FC FF 75 08                        	PUSH	DWORD [8+EBP]
  2475 000017FF E8 FFFFED86                     	CALL	_cons_putstr
  2476 00001804 56                              	PUSH	ESI
  2477 00001805 68 [0000061E]                   	PUSH	LC84
  2478 0000180A 53                              	PUSH	EBX
  2479 0000180B E8 [00000000]                   	CALL	_sprintf
  2480 00001810 83 C4 24                        	ADD	ESP,36
  2481 00001813 53                              	PUSH	EBX
  2482 00001814 FF 75 08                        	PUSH	DWORD [8+EBP]
  2483 00001817 E8 FFFFED6E                     	CALL	_cons_putstr
  2484 0000181C 8B 95 FFFFFBA0                  	MOV	EDX,DWORD [-1120+EBP]
  2485 00001822 0F B6 44 17 0B                  	MOVZX	EAX,BYTE [11+EDI+EDX*1]
  2486 00001827 50                              	PUSH	EAX
  2487 00001828 68 [0000062E]                   	PUSH	LC85
  2488 0000182D 53                              	PUSH	EBX
  2489 0000182E E8 [00000000]                   	CALL	_sprintf
  2490 00001833 53                              	PUSH	EBX
  2491 00001834 FF 75 08                        	PUSH	DWORD [8+EBP]
  2492 00001837 E8 FFFFED4E                     	CALL	_cons_putstr
  2493 0000183C E9 FFFFFF09                     	JMP	L450
  2494 00001841                                 L451:
  2495 00001841 83 F9 08                        	CMP	ECX,8
  2496 00001844 0F 8F FFFFFE91                  	JG	L419
  2497 0000184A B9 00000008                     	MOV	ECX,8
  2498 0000184F E9 FFFFFE9A                     	JMP	L416
  2499 00001854                                 L449:
  2500 00001854 68 [00000640]                   	PUSH	LC80
  2501 00001859 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2502 0000185C 53                              	PUSH	EBX
  2503 0000185D E8 [00000000]                   	CALL	_sprintf
  2504 00001862 53                              	PUSH	EBX
  2505 00001863 FF 75 08                        	PUSH	DWORD [8+EBP]
  2506 00001866 E8 FFFFED1F                     	CALL	_cons_putstr
  2507 0000186B 68 [00000667]                   	PUSH	LC81
  2508 00001870 53                              	PUSH	EBX
  2509 00001871 E8 [00000000]                   	CALL	_sprintf
  2510 00001876 53                              	PUSH	EBX
  2511 00001877 FF 75 08                        	PUSH	DWORD [8+EBP]
  2512 0000187A E8 FFFFED0B                     	CALL	_cons_putstr
  2513 0000187F 83 C4 20                        	ADD	ESP,32
  2514 00001882 E9 FFFFFEC3                     	JMP	L450
  2515                                          [SECTION .data]
  2516 00000692                                 LC86:
  2517 00000692 20 20 20 20 6C 6F 67 20 63 6F   	DB	"    log cons",0x0A,"mem:%d %d",0x0A,"sht:%d %d",0x0A,0x00
       0000069C 6E 73 0A 6D 65 6D 3A 25 64 20 
       000006A6 25 64 0A 73 68 74 3A 25 64 20 
       000006B0 25 64 0A 00 
  2518                                          [SECTION .text]
  2519 00001887                                 	GLOBAL	_cmd_setlog
  2520 00001887                                 _cmd_setlog:
  2521 00001887 55                              	PUSH	EBP
  2522 00001888 89 E5                           	MOV	EBP,ESP
  2523 0000188A 53                              	PUSH	EBX
  2524 0000188B 83 EC 70                        	SUB	ESP,112
  2525 0000188E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2526 00001891 8D 5D 8C                        	LEA	EBX,DWORD [-116+EBP]
  2527 00001894 A3 [00000ABC]                   	MOV	DWORD [_log],EAX
  2528 00001899 FF 30                           	PUSH	DWORD [EAX]
  2529 0000189B FF 30                           	PUSH	DWORD [EAX]
  2530 0000189D 8D 45 08                        	LEA	EAX,DWORD [8+EBP]
  2531 000018A0 50                              	PUSH	EAX
  2532 000018A1 68 [00000ABC]                   	PUSH	_log
  2533 000018A6 68 [00000692]                   	PUSH	LC86
  2534 000018AB 53                              	PUSH	EBX
  2535 000018AC E8 [00000000]                   	CALL	_sprintf
  2536 000018B1 53                              	PUSH	EBX
  2537 000018B2 FF 35 [00000ABC]                	PUSH	DWORD [_log]
  2538 000018B8 E8 FFFFECFB                     	CALL	_cons_putstr0
  2539 000018BD 83 C4 20                        	ADD	ESP,32
  2540 000018C0 FF 35 [00000ABC]                	PUSH	DWORD [_log]
  2541 000018C6 E8 FFFFEB9A                     	CALL	_cons_newline
  2542 000018CB 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  2543 000018CE C9                              	LEAVE
  2544 000018CF C3                              	RET
  2545                                          [SECTION .data]
  2546 000006B4                                 LC87:
  2547 000006B4 66 72 65 65 73 20 20 25 64 0A   	DB	"frees  %d",0x0A,0x00
       000006BE 00 
  2548 000006BF                                 LC89:
  2549 000006BF 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       000006C9 4D 42 0A 66 72 65 65 20 25 64 
       000006D3 4B 42 0A 0A 00 
  2550 000006D8                                 LC88:
  2551 000006D8 28 25 64 29 20 73 69 7A 65 3D   	DB	"(%d) size=%dKB addr=0x%x",0x0A,0x00
       000006E2 25 64 4B 42 20 61 64 64 72 3D 
       000006EC 30 78 25 78 0A 00 
  2552                                          [SECTION .text]
  2553 000018D0                                 	GLOBAL	_cmd_mem
  2554 000018D0                                 _cmd_mem:
  2555 000018D0 55                              	PUSH	EBP
  2556 000018D1 89 E5                           	MOV	EBP,ESP
  2557 000018D3 57                              	PUSH	EDI
  2558 000018D4 56                              	PUSH	ESI
  2559 000018D5 31 F6                           	XOR	ESI,ESI
  2560 000018D7 53                              	PUSH	EBX
  2561 000018D8 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2562 000018DB 83 EC 40                        	SUB	ESP,64
  2563 000018DE FF 35 003C0000                  	PUSH	DWORD [3932160]
  2564 000018E4 68 [000006B4]                   	PUSH	LC87
  2565 000018E9 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
  2566 000018EC 53                              	PUSH	EBX
  2567 000018ED E8 [00000000]                   	CALL	_sprintf
  2568 000018F2 53                              	PUSH	EBX
  2569 000018F3 57                              	PUSH	EDI
  2570 000018F4 E8 FFFFECBF                     	CALL	_cons_putstr0
  2571 000018F9 83 C4 14                        	ADD	ESP,20
  2572 000018FC 3B 35 003C0000                  	CMP	ESI,DWORD [3932160]
  2573 00001902 72 3B                           	JB	L458
  2574 00001904                                 L460:
  2575 00001904 68 003C0000                     	PUSH	3932160
  2576 00001909 E8 [00000000]                   	CALL	_memman_total
  2577 0000190E BA 00100000                     	MOV	EDX,1048576
  2578 00001913 C1 E8 0A                        	SHR	EAX,10
  2579 00001916 89 D3                           	MOV	EBX,EDX
  2580 00001918 89 04 24                        	MOV	DWORD [ESP],EAX
  2581 0000191B 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  2582 0000191E 99                              	CDQ
  2583 0000191F F7 FB                           	IDIV	EBX
  2584 00001921 50                              	PUSH	EAX
  2585 00001922 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2586 00001925 68 [000006BF]                   	PUSH	LC89
  2587 0000192A 53                              	PUSH	EBX
  2588 0000192B E8 [00000000]                   	CALL	_sprintf
  2589 00001930 53                              	PUSH	EBX
  2590 00001931 57                              	PUSH	EDI
  2591 00001932 E8 FFFFEC81                     	CALL	_cons_putstr0
  2592 00001937 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2593 0000193A 5B                              	POP	EBX
  2594 0000193B 5E                              	POP	ESI
  2595 0000193C 5F                              	POP	EDI
  2596 0000193D 5D                              	POP	EBP
  2597 0000193E C3                              	RET
  2598 0000193F                                 L458:
  2599 0000193F FF 34 F5 003C0010               	PUSH	DWORD [3932176+ESI*8]
  2600 00001946 8B 04 F5 003C0014               	MOV	EAX,DWORD [3932180+ESI*8]
  2601 0000194D 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  2602 00001950 C1 E8 0A                        	SHR	EAX,10
  2603 00001953 50                              	PUSH	EAX
  2604 00001954 56                              	PUSH	ESI
  2605 00001955 46                              	INC	ESI
  2606 00001956 68 [000006D8]                   	PUSH	LC88
  2607 0000195B 53                              	PUSH	EBX
  2608 0000195C E8 [00000000]                   	CALL	_sprintf
  2609 00001961 53                              	PUSH	EBX
  2610 00001962 57                              	PUSH	EDI
  2611 00001963 E8 FFFFEC22                     	CALL	_cons_putstr
  2612 00001968 83 C4 1C                        	ADD	ESP,28
  2613 0000196B 3B 35 003C0000                  	CMP	ESI,DWORD [3932160]
  2614 00001971 72 CC                           	JB	L458
  2615 00001973 EB 8F                           	JMP	L460
  2616 00001975                                 	GLOBAL	_cmd_memmap
  2617 00001975                                 _cmd_memmap:
  2618 00001975 55                              	PUSH	EBP
  2619 00001976 89 E5                           	MOV	EBP,ESP
  2620 00001978 53                              	PUSH	EBX
  2621 00001979 83 EC 40                        	SUB	ESP,64
  2622 0000197C 68 003C0000                     	PUSH	3932160
  2623 00001981 E8 [00000000]                   	CALL	_memman_total
  2624 00001986 BA 00100000                     	MOV	EDX,1048576
  2625 0000198B C1 E8 0A                        	SHR	EAX,10
  2626 0000198E 89 D3                           	MOV	EBX,EDX
  2627 00001990 89 04 24                        	MOV	DWORD [ESP],EAX
  2628 00001993 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  2629 00001996 99                              	CDQ
  2630 00001997 F7 FB                           	IDIV	EBX
  2631 00001999 50                              	PUSH	EAX
  2632 0000199A 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
  2633 0000199D 68 [000006BF]                   	PUSH	LC89
  2634 000019A2 53                              	PUSH	EBX
  2635 000019A3 E8 [00000000]                   	CALL	_sprintf
  2636 000019A8 53                              	PUSH	EBX
  2637 000019A9 FF 75 08                        	PUSH	DWORD [8+EBP]
  2638 000019AC E8 FFFFEC07                     	CALL	_cons_putstr0
  2639 000019B1 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  2640 000019B4 C9                              	LEAVE
  2641 000019B5 C3                              	RET
  2642                                          [SECTION .data]
  2643 000006F2                                 LC90:
  2644 000006F2 6C 6F 67 20 74 65 73 74 00      	DB	"log test",0x00
  2645                                          [SECTION .text]
  2646 000019B6                                 	GLOBAL	_cmd_log
  2647 000019B6                                 _cmd_log:
  2648 000019B6 55                              	PUSH	EBP
  2649 000019B7 89 E5                           	MOV	EBP,ESP
  2650 000019B9 53                              	PUSH	EBX
  2651 000019BA 83 EC 70                        	SUB	ESP,112
  2652 000019BD 8D 5D 8C                        	LEA	EBX,DWORD [-116+EBP]
  2653 000019C0 68 [000006F2]                   	PUSH	LC90
  2654 000019C5 53                              	PUSH	EBX
  2655 000019C6 E8 [00000000]                   	CALL	_sprintf
  2656 000019CB 53                              	PUSH	EBX
  2657 000019CC FF 35 [00000ABC]                	PUSH	DWORD [_log]
  2658 000019D2 E8 FFFFEBE1                     	CALL	_cons_putstr0
  2659 000019D7 FF 35 [00000ABC]                	PUSH	DWORD [_log]
  2660 000019DD E8 FFFFEA83                     	CALL	_cons_newline
  2661 000019E2 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  2662 000019E5 C9                              	LEAVE
  2663 000019E6 C3                              	RET
  2664                                          [SECTION .data]
  2665 000006FB                                 LC91:
  2666 000006FB 66 69 6C 65 6E 61 6D 65 3D 25   	DB	"filename=%s",0x0A,0x00
       00000705 73 0A 00 
  2667 00000708                                 LC92:
  2668 00000708 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       00000712 6F 75 6E 64 2E 0A 00 
  2669                                          [SECTION .text]
  2670 000019E7                                 	GLOBAL	_cmd_cat
  2671 000019E7                                 _cmd_cat:
  2672 000019E7 55                              	PUSH	EBP
  2673 000019E8 89 E5                           	MOV	EBP,ESP
  2674 000019EA 57                              	PUSH	EDI
  2675 000019EB 56                              	PUSH	ESI
  2676 000019EC 53                              	PUSH	EBX
  2677 000019ED 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  2678 000019F0 83 EC 20                        	SUB	ESP,32
  2679 000019F3 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
  2680 000019F6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  2681 000019F9 6A 32                           	PUSH	50
  2682 000019FB 83 C0 04                        	ADD	EAX,4
  2683 000019FE FF 77 14                        	PUSH	DWORD [20+EDI]
  2684 00001A01 50                              	PUSH	EAX
  2685 00001A02 E8 [00000000]                   	CALL	_myfinfo_search
  2686 00001A07 89 C6                           	MOV	ESI,EAX
  2687 00001A09 50                              	PUSH	EAX
  2688 00001A0A 68 [000006FB]                   	PUSH	LC91
  2689 00001A0F 53                              	PUSH	EBX
  2690 00001A10 E8 [00000000]                   	CALL	_sprintf
  2691 00001A15 53                              	PUSH	EBX
  2692 00001A16 57                              	PUSH	EDI
  2693 00001A17 E8 FFFFEB6E                     	CALL	_cons_putstr
  2694 00001A1C 83 C4 20                        	ADD	ESP,32
  2695 00001A1F 85 F6                           	TEST	ESI,ESI
  2696 00001A21 74 51                           	JE	L464
  2697 00001A23 FF 76 1C                        	PUSH	DWORD [28+ESI]
  2698 00001A26 68 003C0000                     	PUSH	3932160
  2699 00001A2B E8 [00000000]                   	CALL	_memman_alloc_4k
  2700 00001A30 68 00103E00                     	PUSH	1064448
  2701 00001A35 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2702 00001A38 50                              	PUSH	EAX
  2703 00001A39 89 C3                           	MOV	EBX,EAX
  2704 00001A3B FF 76 1C                        	PUSH	DWORD [28+ESI]
  2705 00001A3E 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
  2706 00001A42 50                              	PUSH	EAX
  2707 00001A43 E8 [00000000]                   	CALL	_file_loadfile
  2708 00001A48 FF 76 1C                        	PUSH	DWORD [28+ESI]
  2709 00001A4B 53                              	PUSH	EBX
  2710 00001A4C 57                              	PUSH	EDI
  2711 00001A4D E8 FFFFEB94                     	CALL	_cons_putstr1
  2712 00001A52 83 C4 28                        	ADD	ESP,40
  2713 00001A55 FF 76 1C                        	PUSH	DWORD [28+ESI]
  2714 00001A58 53                              	PUSH	EBX
  2715 00001A59 68 003C0000                     	PUSH	3932160
  2716 00001A5E E8 [00000000]                   	CALL	_memman_free_4k
  2717 00001A63 83 C4 0C                        	ADD	ESP,12
  2718 00001A66                                 L465:
  2719 00001A66 57                              	PUSH	EDI
  2720 00001A67 E8 FFFFE9F9                     	CALL	_cons_newline
  2721 00001A6C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2722 00001A6F 5B                              	POP	EBX
  2723 00001A70 5E                              	POP	ESI
  2724 00001A71 5F                              	POP	EDI
  2725 00001A72 5D                              	POP	EBP
  2726 00001A73 C3                              	RET
  2727 00001A74                                 L464:
  2728 00001A74 68 [00000708]                   	PUSH	LC92
  2729 00001A79 57                              	PUSH	EDI
  2730 00001A7A E8 FFFFEB39                     	CALL	_cons_putstr0
  2731 00001A7F 58                              	POP	EAX
  2732 00001A80 5A                              	POP	EDX
  2733 00001A81 EB E3                           	JMP	L465
  2734 00001A83                                 	GLOBAL	_cmd_cls
  2735 00001A83                                 _cmd_cls:
  2736 00001A83 55                              	PUSH	EBP
  2737 00001A84 89 E5                           	MOV	EBP,ESP
  2738 00001A86 57                              	PUSH	EDI
  2739 00001A87 56                              	PUSH	ESI
  2740 00001A88 BE 0000001C                     	MOV	ESI,28
  2741 00001A8D 53                              	PUSH	EBX
  2742 00001A8E 51                              	PUSH	ECX
  2743 00001A8F 51                              	PUSH	ECX
  2744 00001A90 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2745 00001A93 8B 18                           	MOV	EBX,DWORD [EAX]
  2746 00001A95 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
  2747 00001A98 8B 53 04                        	MOV	EDX,DWORD [4+EBX]
  2748 00001A9B 83 EA 10                        	SUB	EDX,16
  2749 00001A9E 89 55 F0                        	MOV	DWORD [-16+EBP],EDX
  2750 00001AA1 8D 50 DB                        	LEA	EDX,DWORD [-37+EAX]
  2751 00001AA4 83 E8 09                        	SUB	EAX,9
  2752 00001AA7 89 55 EC                        	MOV	DWORD [-20+EBP],EDX
  2753 00001AAA 39 C6                           	CMP	ESI,EAX
  2754 00001AAC 7D 2E                           	JGE	L478
  2755 00001AAE                                 L476:
  2756 00001AAE 8B 7D F0                        	MOV	EDI,DWORD [-16+EBP]
  2757 00001AB1 B9 00000008                     	MOV	ECX,8
  2758 00001AB6 83 C7 08                        	ADD	EDI,8
  2759 00001AB9 39 F9                           	CMP	ECX,EDI
  2760 00001ABB 7D 14                           	JGE	L480
  2761 00001ABD                                 L475:
  2762 00001ABD 89 F0                           	MOV	EAX,ESI
  2763 00001ABF 8B 13                           	MOV	EDX,DWORD [EBX]
  2764 00001AC1 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
  2765 00001AC5 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
  2766 00001AC8 41                              	INC	ECX
  2767 00001AC9 39 F9                           	CMP	ECX,EDI
  2768 00001ACB C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
  2769 00001ACF 7C EC                           	JL	L475
  2770 00001AD1                                 L480:
  2771 00001AD1 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  2772 00001AD4 46                              	INC	ESI
  2773 00001AD5 83 C0 1C                        	ADD	EAX,28
  2774 00001AD8 39 C6                           	CMP	ESI,EAX
  2775 00001ADA 7C D2                           	JL	L476
  2776 00001ADC                                 L478:
  2777 00001ADC 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  2778 00001ADF 83 C0 1C                        	ADD	EAX,28
  2779 00001AE2 50                              	PUSH	EAX
  2780 00001AE3 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  2781 00001AE6 83 C0 08                        	ADD	EAX,8
  2782 00001AE9 50                              	PUSH	EAX
  2783 00001AEA 6A 1C                           	PUSH	28
  2784 00001AEC 6A 08                           	PUSH	8
  2785 00001AEE 53                              	PUSH	EBX
  2786 00001AEF E8 [00000000]                   	CALL	_sheet_refresh
  2787 00001AF4 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2788 00001AF7 C7 40 08 0000001C               	MOV	DWORD [8+EAX],28
  2789 00001AFE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2790 00001B01 5B                              	POP	EBX
  2791 00001B02 5E                              	POP	ESI
  2792 00001B03 5F                              	POP	EDI
  2793 00001B04 5D                              	POP	EBP
  2794 00001B05 C3                              	RET
  2795 00001B06                                 	GLOBAL	_cmd_logcls
  2796 00001B06                                 _cmd_logcls:
  2797 00001B06 55                              	PUSH	EBP
  2798 00001B07 89 E5                           	MOV	EBP,ESP
  2799 00001B09 57                              	PUSH	EDI
  2800 00001B0A 56                              	PUSH	ESI
  2801 00001B0B BE 0000001C                     	MOV	ESI,28
  2802 00001B10 53                              	PUSH	EBX
  2803 00001B11 53                              	PUSH	EBX
  2804 00001B12 53                              	PUSH	EBX
  2805 00001B13 A1 [00000ABC]                   	MOV	EAX,DWORD [_log]
  2806 00001B18 8B 18                           	MOV	EBX,DWORD [EAX]
  2807 00001B1A 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  2808 00001B1D 83 E8 10                        	SUB	EAX,16
  2809 00001B20 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  2810 00001B23 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
  2811 00001B26 8D 50 DB                        	LEA	EDX,DWORD [-37+EAX]
  2812 00001B29 83 E8 09                        	SUB	EAX,9
  2813 00001B2C 89 55 EC                        	MOV	DWORD [-20+EBP],EDX
  2814 00001B2F 39 C6                           	CMP	ESI,EAX
  2815 00001B31 7D 2E                           	JGE	L493
  2816 00001B33                                 L491:
  2817 00001B33 8B 7D F0                        	MOV	EDI,DWORD [-16+EBP]
  2818 00001B36 B9 00000008                     	MOV	ECX,8
  2819 00001B3B 83 C7 08                        	ADD	EDI,8
  2820 00001B3E 39 F9                           	CMP	ECX,EDI
  2821 00001B40 7D 14                           	JGE	L495
  2822 00001B42                                 L490:
  2823 00001B42 89 F0                           	MOV	EAX,ESI
  2824 00001B44 8B 13                           	MOV	EDX,DWORD [EBX]
  2825 00001B46 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
  2826 00001B4A 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
  2827 00001B4D 41                              	INC	ECX
  2828 00001B4E 39 F9                           	CMP	ECX,EDI
  2829 00001B50 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
  2830 00001B54 7C EC                           	JL	L490
  2831 00001B56                                 L495:
  2832 00001B56 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  2833 00001B59 46                              	INC	ESI
  2834 00001B5A 83 C0 1C                        	ADD	EAX,28
  2835 00001B5D 39 C6                           	CMP	ESI,EAX
  2836 00001B5F 7C D2                           	JL	L491
  2837 00001B61                                 L493:
  2838 00001B61 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  2839 00001B64 83 C0 1C                        	ADD	EAX,28
  2840 00001B67 50                              	PUSH	EAX
  2841 00001B68 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  2842 00001B6B 83 C0 08                        	ADD	EAX,8
  2843 00001B6E 50                              	PUSH	EAX
  2844 00001B6F 6A 1C                           	PUSH	28
  2845 00001B71 6A 08                           	PUSH	8
  2846 00001B73 53                              	PUSH	EBX
  2847 00001B74 E8 [00000000]                   	CALL	_sheet_refresh
  2848 00001B79 A1 [00000ABC]                   	MOV	EAX,DWORD [_log]
  2849 00001B7E C7 40 08 0000001C               	MOV	DWORD [8+EAX],28
  2850 00001B85 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2851 00001B88 5B                              	POP	EBX
  2852 00001B89 5E                              	POP	ESI
  2853 00001B8A 5F                              	POP	EDI
  2854 00001B8B 5D                              	POP	EBP
  2855 00001B8C C3                              	RET
  2856                                          [SECTION .data]
  2857 00000719                                 LC93:
  2858 00000719 42 4C 4F 43 4B 5F 53 49 5A 45   	DB	"BLOCK_SIZE = %d",0x0A,0x00
       00000723 20 3D 20 25 64 0A 00 
  2859 0000072A                                 LC94:
  2860 0000072A 73 69 7A 65 6F 66 28 73 74 72   	DB	"sizeof(struct HEAD) = %d",0x0A,0x00
       00000734 75 63 74 20 48 45 41 44 29 20 
       0000073E 3D 20 25 64 0A 00 
  2861 00000744                                 LC95:
  2862 00000744 42 4F 44 59 5F 53 49 5A 45 20   	DB	"BODY_SIZE = BLOCK_SIZE - sizeof(struct HEAD) = %d",0x0A,0x00
       0000074E 3D 20 42 4C 4F 43 4B 5F 53 49 
       00000758 5A 45 20 2D 20 73 69 7A 65 6F 
       00000762 66 28 73 74 72 75 63 74 20 48 
       0000076C 45 41 44 29 20 3D 20 25 64 0A 
       00000776 00 
  2863                                          [SECTION .text]
  2864 00001B8D                                 	GLOBAL	_cmd_test
  2865 00001B8D                                 _cmd_test:
  2866 00001B8D 55                              	PUSH	EBP
  2867 00001B8E 89 E5                           	MOV	EBP,ESP
  2868 00001B90 53                              	PUSH	EBX
  2869 00001B91 83 EC 70                        	SUB	ESP,112
  2870 00001B94 8D 5D 8C                        	LEA	EBX,DWORD [-116+EBP]
  2871 00001B97 68 00000400                     	PUSH	1024
  2872 00001B9C 68 [00000719]                   	PUSH	LC93
  2873 00001BA1 53                              	PUSH	EBX
  2874 00001BA2 E8 [00000000]                   	CALL	_sprintf
  2875 00001BA7 53                              	PUSH	EBX
  2876 00001BA8 E8 FFFFE453                     	CALL	_debug_print
  2877 00001BAD 6A 1C                           	PUSH	28
  2878 00001BAF 68 [0000072A]                   	PUSH	LC94
  2879 00001BB4 53                              	PUSH	EBX
  2880 00001BB5 E8 [00000000]                   	CALL	_sprintf
  2881 00001BBA 53                              	PUSH	EBX
  2882 00001BBB E8 FFFFE440                     	CALL	_debug_print
  2883 00001BC0 83 C4 20                        	ADD	ESP,32
  2884 00001BC3 68 000003E4                     	PUSH	996
  2885 00001BC8 68 [00000744]                   	PUSH	LC95
  2886 00001BCD 53                              	PUSH	EBX
  2887 00001BCE E8 [00000000]                   	CALL	_sprintf
  2888 00001BD3 53                              	PUSH	EBX
  2889 00001BD4 E8 FFFFE427                     	CALL	_debug_print
  2890 00001BD9 FF 75 08                        	PUSH	DWORD [8+EBP]
  2891 00001BDC E8 FFFFE884                     	CALL	_cons_newline
  2892 00001BE1 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  2893 00001BE4 C9                              	LEAVE
  2894 00001BE5 C3                              	RET
  2895                                          [SECTION .data]
  2896 00000777                                 LC96:
  2897 00000777 09 66 69 6E 66 6F 20 61 64 64   	DB	0x09,"finfo addr = 0x%08x",0x0A,0x00
       00000781 72 20 3D 20 30 78 25 30 38 78 
       0000078B 0A 00 
  2898 0000078D                                 LC99:
  2899 0000078D 09 6E 61 6D 65 3D 25 73 5B 45   	DB	0x09,"name=%s[EOF]",0x0A,0x09,"ext=%s[EOF]",0x0A,0x09,"clustno=%d",0x0A,0x09,"date=%d",0x0A,0x09,"size=%d[byte]",0x0A,0x09,"time=%d",0x0A,0x09,"type=0x%02x",0x0A,0x00
       00000797 4F 46 5D 0A 09 65 78 74 3D 25 
       000007A1 73 5B 45 4F 46 5D 0A 09 63 6C 
       000007AB 75 73 74 6E 6F 3D 25 64 0A 09 
       000007B5 64 61 74 65 3D 25 64 0A 09 73 
       000007BF 69 7A 65 3D 25 64 5B 62 79 74 
       000007C9 65 5D 0A 09 74 69 6D 65 3D 25 
       000007D3 64 0A 09 74 79 70 65 3D 30 78 
       000007DD 25 30 32 78 0A 00 
  2900 000007E3                                 LC100:
  2901 000007E3 09 64 65 74 61 69 6C 20 66 69   	DB	0x09,"detail file type: ",0x00
       000007ED 6C 65 20 74 79 70 65 3A 20 00 
  2902 000007F7                                 LC105:
  2903 000007F7 25 73 0A 00                     	DB	"%s",0x0A,0x00
  2904 000007FB                                 LC104:
  2905 000007FB 25 73 20 6F 74 68 65 72 20 00   	DB	"%s other ",0x00
  2906 00000805                                 LC103:
  2907 00000805 25 73 20 73 79 73 74 65 6D 20   	DB	"%s system ",0x00
       0000080F 00 
  2908 00000810                                 LC102:
  2909 00000810 25 73 20 66 69 6C 65 20 00      	DB	"%s file ",0x00
  2910 00000819                                 LC101:
  2911 00000819 25 73 20 64 69 72 65 63 74 6F   	DB	"%s directory/readonly ",0x00
       00000823 72 79 2F 72 65 61 64 6F 6E 6C 
       0000082D 79 20 00 
  2912 00000830                                 LC97:
  2913 00000830 09 25 73 20 77 61 73 20 6E 6F   	DB	0x09,"%s was not found.",0x0A,0x00
       0000083A 74 20 66 6F 75 6E 64 2E 0A 00 
  2914 00000844                                 LC98:
  2915 00000844 09 66 69 6E 66 6F 20 6E 75 6D   	DB	0x09,"finfo number was %d.",0x0A,0x00
       0000084E 62 65 72 20 77 61 73 20 25 64 
       00000858 2E 0A 00 
  2916                                          [SECTION .text]
  2917 00001BE6                                 	GLOBAL	_cmd_show
  2918 00001BE6                                 _cmd_show:
  2919 00001BE6 55                              	PUSH	EBP
  2920 00001BE7 89 E5                           	MOV	EBP,ESP
  2921 00001BE9 57                              	PUSH	EDI
  2922 00001BEA 56                              	PUSH	ESI
  2923 00001BEB 53                              	PUSH	EBX
  2924 00001BEC 8D B5 FFFFFF54                  	LEA	ESI,DWORD [-172+EBP]
  2925 00001BF2 81 EC 000000A0                  	SUB	ESP,160
  2926 00001BF8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2927 00001BFB 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
  2928 00001BFE 6A 32                           	PUSH	50
  2929 00001C00 83 C7 05                        	ADD	EDI,5
  2930 00001C03 FF 70 14                        	PUSH	DWORD [20+EAX]
  2931 00001C06 57                              	PUSH	EDI
  2932 00001C07 E8 [00000000]                   	CALL	_myfinfo_search
  2933 00001C0C 89 C3                           	MOV	EBX,EAX
  2934 00001C0E 50                              	PUSH	EAX
  2935 00001C0F 68 [00000777]                   	PUSH	LC96
  2936 00001C14 56                              	PUSH	ESI
  2937 00001C15 E8 [00000000]                   	CALL	_sprintf
  2938 00001C1A 56                              	PUSH	ESI
  2939 00001C1B FF 75 08                        	PUSH	DWORD [8+EBP]
  2940 00001C1E E8 FFFFE967                     	CALL	_cons_putstr
  2941 00001C23 83 C4 20                        	ADD	ESP,32
  2942 00001C26 85 DB                           	TEST	EBX,EBX
  2943 00001C28 0F 84 000000D0                  	JE	L505
  2944 00001C2E 0F B6 43 0B                     	MOVZX	EAX,BYTE [11+EBX]
  2945 00001C32 50                              	PUSH	EAX
  2946 00001C33 0F B7 43 16                     	MOVZX	EAX,WORD [22+EBX]
  2947 00001C37 50                              	PUSH	EAX
  2948 00001C38 FF 73 1C                        	PUSH	DWORD [28+EBX]
  2949 00001C3B 0F B7 43 18                     	MOVZX	EAX,WORD [24+EBX]
  2950 00001C3F 50                              	PUSH	EAX
  2951 00001C40 0F B7 43 1A                     	MOVZX	EAX,WORD [26+EBX]
  2952 00001C44 50                              	PUSH	EAX
  2953 00001C45 8D 43 08                        	LEA	EAX,DWORD [8+EBX]
  2954 00001C48 50                              	PUSH	EAX
  2955 00001C49 53                              	PUSH	EBX
  2956 00001C4A 68 [0000078D]                   	PUSH	LC99
  2957 00001C4F 56                              	PUSH	ESI
  2958 00001C50 E8 [00000000]                   	CALL	_sprintf
  2959 00001C55 83 C4 24                        	ADD	ESP,36
  2960 00001C58 56                              	PUSH	ESI
  2961 00001C59 FF 75 08                        	PUSH	DWORD [8+EBP]
  2962 00001C5C E8 FFFFE929                     	CALL	_cons_putstr
  2963 00001C61 8A 5B 0B                        	MOV	BL,BYTE [11+EBX]
  2964 00001C64 59                              	POP	ECX
  2965 00001C65 5F                              	POP	EDI
  2966 00001C66 68 [000007E3]                   	PUSH	LC100
  2967 00001C6B 56                              	PUSH	ESI
  2968 00001C6C E8 [00000000]                   	CALL	_sprintf
  2969 00001C71 5F                              	POP	EDI
  2970 00001C72 88 D8                           	MOV	AL,BL
  2971 00001C74 5A                              	POP	EDX
  2972 00001C75 83 E0 10                        	AND	EAX,16
  2973 00001C78 84 C0                           	TEST	AL,AL
  2974 00001C7A 75 6E                           	JNE	L506
  2975 00001C7C                                 L500:
  2976 00001C7C 88 D8                           	MOV	AL,BL
  2977 00001C7E 83 E0 20                        	AND	EAX,32
  2978 00001C81 84 C0                           	TEST	AL,AL
  2979 00001C83 75 54                           	JNE	L507
  2980 00001C85                                 L501:
  2981 00001C85 88 D8                           	MOV	AL,BL
  2982 00001C87 83 E0 40                        	AND	EAX,64
  2983 00001C8A 84 C0                           	TEST	AL,AL
  2984 00001C8C 75 3A                           	JNE	L508
  2985 00001C8E                                 L502:
  2986 00001C8E 84 DB                           	TEST	BL,BL
  2987 00001C90 78 25                           	JS	L509
  2988 00001C92                                 L503:
  2989 00001C92 56                              	PUSH	ESI
  2990 00001C93 68 [000007F7]                   	PUSH	LC105
  2991 00001C98 56                              	PUSH	ESI
  2992 00001C99 E8 [00000000]                   	CALL	_sprintf
  2993 00001C9E 56                              	PUSH	ESI
  2994 00001C9F FF 75 08                        	PUSH	DWORD [8+EBP]
  2995 00001CA2 E8 FFFFE911                     	CALL	_cons_putstr0
  2996 00001CA7                                 L504:
  2997 00001CA7 FF 75 08                        	PUSH	DWORD [8+EBP]
  2998 00001CAA E8 FFFFE7B6                     	CALL	_cons_newline
  2999 00001CAF 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3000 00001CB2 5B                              	POP	EBX
  3001 00001CB3 5E                              	POP	ESI
  3002 00001CB4 5F                              	POP	EDI
  3003 00001CB5 5D                              	POP	EBP
  3004 00001CB6 C3                              	RET
  3005 00001CB7                                 L509:
  3006 00001CB7 56                              	PUSH	ESI
  3007 00001CB8 68 [000007FB]                   	PUSH	LC104
  3008 00001CBD 56                              	PUSH	ESI
  3009 00001CBE E8 [00000000]                   	CALL	_sprintf
  3010 00001CC3 83 C4 0C                        	ADD	ESP,12
  3011 00001CC6 EB CA                           	JMP	L503
  3012 00001CC8                                 L508:
  3013 00001CC8 56                              	PUSH	ESI
  3014 00001CC9 68 [00000805]                   	PUSH	LC103
  3015 00001CCE 56                              	PUSH	ESI
  3016 00001CCF E8 [00000000]                   	CALL	_sprintf
  3017 00001CD4 83 C4 0C                        	ADD	ESP,12
  3018 00001CD7 EB B5                           	JMP	L502
  3019 00001CD9                                 L507:
  3020 00001CD9 56                              	PUSH	ESI
  3021 00001CDA 68 [00000810]                   	PUSH	LC102
  3022 00001CDF 56                              	PUSH	ESI
  3023 00001CE0 E8 [00000000]                   	CALL	_sprintf
  3024 00001CE5 83 C4 0C                        	ADD	ESP,12
  3025 00001CE8 EB 9B                           	JMP	L501
  3026 00001CEA                                 L506:
  3027 00001CEA 56                              	PUSH	ESI
  3028 00001CEB 68 [00000819]                   	PUSH	LC101
  3029 00001CF0 56                              	PUSH	ESI
  3030 00001CF1 E8 [00000000]                   	CALL	_sprintf
  3031 00001CF6 83 C4 0C                        	ADD	ESP,12
  3032 00001CF9 E9 FFFFFF7E                     	JMP	L500
  3033 00001CFE                                 L505:
  3034 00001CFE 57                              	PUSH	EDI
  3035 00001CFF 68 [00000830]                   	PUSH	LC97
  3036 00001D04 56                              	PUSH	ESI
  3037 00001D05 E8 [00000000]                   	CALL	_sprintf
  3038 00001D0A 56                              	PUSH	ESI
  3039 00001D0B FF 75 08                        	PUSH	DWORD [8+EBP]
  3040 00001D0E E8 FFFFE877                     	CALL	_cons_putstr
  3041 00001D13 6A 00                           	PUSH	0
  3042 00001D15 68 [00000844]                   	PUSH	LC98
  3043 00001D1A 56                              	PUSH	ESI
  3044 00001D1B E8 [00000000]                   	CALL	_sprintf
  3045 00001D20 83 C4 20                        	ADD	ESP,32
  3046 00001D23 56                              	PUSH	ESI
  3047 00001D24 FF 75 08                        	PUSH	DWORD [8+EBP]
  3048 00001D27 E8 FFFFE85E                     	CALL	_cons_putstr
  3049 00001D2C E9 FFFFFF76                     	JMP	L504
  3050                                          [SECTION .data]
  3051 0000085B                                 LC106:
  3052 0000085B 66 69 6E 66 6F 20 61 64 64 72   	DB	"finfo addr = 0x%08x",0x0A,0x00
       00000865 20 3D 20 30 78 25 30 38 78 0A 
       0000086F 00 
  3053 00000870                                 LC107:
  3054 00000870 66 64 61 74 61 20 61 64 64 72   	DB	"fdata addr = 0x%08x",0x0A,0x00
       0000087A 20 3D 20 30 78 25 30 38 78 0A 
       00000884 00 
  3055 00000885                                 LC108:
  3056 00000885 68 65 61 64 2E 64 61 74 61 5F   	DB	"head.data_addr=0x%08x",0x0A,0x00
       0000088F 61 64 64 72 3D 30 78 25 30 38 
       00000899 78 0A 00 
  3057 0000089C                                 LC109:
  3058 0000089C 68 65 61 64 2E 64 69 72 5F 61   	DB	"head.dir_addr=0x%08x",0x0A,0x00
       000008A6 64 64 72 3D 30 78 25 30 38 78 
       000008B0 0A 00 
  3059 000008B2                                 LC110:
  3060 000008B2 68 65 61 64 2E 73 74 61 74 3D   	DB	"head.stat=0x%02x",0x0A,0x00
       000008BC 30 78 25 30 32 78 0A 00 
  3061 000008C4                                 LC111:
  3062 000008C4 5B 45 4F 46 5D 0A 00            	DB	"[EOF]",0x0A,0x00
  3063 000008CB                                 LC112:
  3064 000008CB 73 69 7A 65 3A 20 25 64 0A 00   	DB	"size: %d",0x0A,0x00
  3065 000008D5                                 LC113:
  3066 000008D5 09 74 68 69 73 20 69 73 20 6E   	DB	0x09,"this is not file.",0x0A,0x00
       000008DF 6F 74 20 66 69 6C 65 2E 0A 00 
  3067                                          [SECTION .text]
  3068 00001D31                                 	GLOBAL	_cmd_fview
  3069 00001D31                                 _cmd_fview:
  3070 00001D31 55                              	PUSH	EBP
  3071 00001D32 89 E5                           	MOV	EBP,ESP
  3072 00001D34 57                              	PUSH	EDI
  3073 00001D35 56                              	PUSH	ESI
  3074 00001D36 53                              	PUSH	EBX
  3075 00001D37 8D 9D FFFFFF64                  	LEA	EBX,DWORD [-156+EBP]
  3076 00001D3D 81 EC 00000090                  	SUB	ESP,144
  3077 00001D43 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  3078 00001D46 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
  3079 00001D49 6A 32                           	PUSH	50
  3080 00001D4B 83 C7 06                        	ADD	EDI,6
  3081 00001D4E FF 70 14                        	PUSH	DWORD [20+EAX]
  3082 00001D51 57                              	PUSH	EDI
  3083 00001D52 E8 [00000000]                   	CALL	_myfinfo_search
  3084 00001D57 89 C6                           	MOV	ESI,EAX
  3085 00001D59 50                              	PUSH	EAX
  3086 00001D5A 68 [0000085B]                   	PUSH	LC106
  3087 00001D5F 53                              	PUSH	EBX
  3088 00001D60 E8 [00000000]                   	CALL	_sprintf
  3089 00001D65 53                              	PUSH	EBX
  3090 00001D66 E8 FFFFE295                     	CALL	_debug_print
  3091 00001D6B 83 C4 1C                        	ADD	ESP,28
  3092 00001D6E 85 F6                           	TEST	ESI,ESI
  3093 00001D70 0F 84 000000DE                  	JE	L515
  3094 00001D76 8B 46 24                        	MOV	EAX,DWORD [36+ESI]
  3095 00001D79 85 C0                           	TEST	EAX,EAX
  3096 00001D7B 0F 84 000000B2                  	JE	L513
  3097 00001D81 50                              	PUSH	EAX
  3098 00001D82 68 [00000870]                   	PUSH	LC107
  3099 00001D87 53                              	PUSH	EBX
  3100 00001D88 E8 [00000000]                   	CALL	_sprintf
  3101 00001D8D 53                              	PUSH	EBX
  3102 00001D8E E8 FFFFE26D                     	CALL	_debug_print
  3103 00001D93 8B 46 24                        	MOV	EAX,DWORD [36+ESI]
  3104 00001D96 FF 70 10                        	PUSH	DWORD [16+EAX]
  3105 00001D99 68 [00000885]                   	PUSH	LC108
  3106 00001D9E 53                              	PUSH	EBX
  3107 00001D9F E8 [00000000]                   	CALL	_sprintf
  3108 00001DA4 53                              	PUSH	EBX
  3109 00001DA5 E8 FFFFE256                     	CALL	_debug_print
  3110 00001DAA 8B 46 24                        	MOV	EAX,DWORD [36+ESI]
  3111 00001DAD 83 C4 20                        	ADD	ESP,32
  3112 00001DB0 FF 70 14                        	PUSH	DWORD [20+EAX]
  3113 00001DB3 68 [0000089C]                   	PUSH	LC109
  3114 00001DB8 53                              	PUSH	EBX
  3115 00001DB9 E8 [00000000]                   	CALL	_sprintf
  3116 00001DBE 53                              	PUSH	EBX
  3117 00001DBF E8 FFFFE23C                     	CALL	_debug_print
  3118 00001DC4 8B 46 24                        	MOV	EAX,DWORD [36+ESI]
  3119 00001DC7 0F B6 00                        	MOVZX	EAX,BYTE [EAX]
  3120 00001DCA 50                              	PUSH	EAX
  3121 00001DCB 68 [000008B2]                   	PUSH	LC110
  3122 00001DD0 53                              	PUSH	EBX
  3123 00001DD1 E8 [00000000]                   	CALL	_sprintf
  3124 00001DD6 53                              	PUSH	EBX
  3125 00001DD7 E8 FFFFE224                     	CALL	_debug_print
  3126 00001DDC 83 C4 20                        	ADD	ESP,32
  3127 00001DDF FF 76 24                        	PUSH	DWORD [36+ESI]
  3128 00001DE2 53                              	PUSH	EBX
  3129 00001DE3 E8 [00000000]                   	CALL	_myfread
  3130 00001DE8 53                              	PUSH	EBX
  3131 00001DE9 FF 75 08                        	PUSH	DWORD [8+EBP]
  3132 00001DEC E8 FFFFE799                     	CALL	_cons_putstr
  3133 00001DF1 68 [000008C4]                   	PUSH	LC111
  3134 00001DF6 FF 75 08                        	PUSH	DWORD [8+EBP]
  3135 00001DF9 E8 FFFFE78C                     	CALL	_cons_putstr
  3136 00001DFE FF 76 24                        	PUSH	DWORD [36+ESI]
  3137 00001E01 E8 [00000000]                   	CALL	_get_size_myfdata
  3138 00001E06 89 04 24                        	MOV	DWORD [ESP],EAX
  3139 00001E09 68 [000008CB]                   	PUSH	LC112
  3140 00001E0E 53                              	PUSH	EBX
  3141 00001E0F E8 [00000000]                   	CALL	_sprintf
  3142 00001E14 83 C4 24                        	ADD	ESP,36
  3143 00001E17 53                              	PUSH	EBX
  3144 00001E18 FF 75 08                        	PUSH	DWORD [8+EBP]
  3145 00001E1B E8 FFFFE76A                     	CALL	_cons_putstr
  3146 00001E20 FF 75 08                        	PUSH	DWORD [8+EBP]
  3147 00001E23 E8 FFFFE63D                     	CALL	_cons_newline
  3148 00001E28 83 C4 0C                        	ADD	ESP,12
  3149 00001E2B                                 L510:
  3150 00001E2B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3151 00001E2E 5B                              	POP	EBX
  3152 00001E2F 5E                              	POP	ESI
  3153 00001E30 5F                              	POP	EDI
  3154 00001E31 5D                              	POP	EBP
  3155 00001E32 C3                              	RET
  3156 00001E33                                 L513:
  3157 00001E33 68 [000008D5]                   	PUSH	LC113
  3158 00001E38 53                              	PUSH	EBX
  3159 00001E39 E8 [00000000]                   	CALL	_sprintf
  3160 00001E3E 53                              	PUSH	EBX
  3161 00001E3F FF 75 08                        	PUSH	DWORD [8+EBP]
  3162 00001E42 E8 FFFFE743                     	CALL	_cons_putstr
  3163 00001E47 FF 75 08                        	PUSH	DWORD [8+EBP]
  3164 00001E4A E8 FFFFE616                     	CALL	_cons_newline
  3165 00001E4F 83 C4 14                        	ADD	ESP,20
  3166 00001E52 EB D7                           	JMP	L510
  3167 00001E54                                 L515:
  3168 00001E54 57                              	PUSH	EDI
  3169 00001E55 68 [00000830]                   	PUSH	LC97
  3170 00001E5A 53                              	PUSH	EBX
  3171 00001E5B E8 [00000000]                   	CALL	_sprintf
  3172 00001E60 53                              	PUSH	EBX
  3173 00001E61 FF 75 08                        	PUSH	DWORD [8+EBP]
  3174 00001E64 E8 FFFFE721                     	CALL	_cons_putstr
  3175 00001E69 6A 00                           	PUSH	0
  3176 00001E6B 68 [00000844]                   	PUSH	LC98
  3177 00001E70 53                              	PUSH	EBX
  3178 00001E71 E8 [00000000]                   	CALL	_sprintf
  3179 00001E76 83 C4 20                        	ADD	ESP,32
  3180 00001E79 53                              	PUSH	EBX
  3181 00001E7A FF 75 08                        	PUSH	DWORD [8+EBP]
  3182 00001E7D E8 FFFFE708                     	CALL	_cons_putstr
  3183 00001E82 FF 75 08                        	PUSH	DWORD [8+EBP]
  3184 00001E85 E8 FFFFE5DB                     	CALL	_cons_newline
  3185 00001E8A EB 9F                           	JMP	L510
  3186                                          [SECTION .data]
  3187 000008E9                                 LC114:
  3188 000008E9 52 4F 4F 54 20 20 20 20 00      	DB	"ROOT    ",0x00
  3189 000008F2                                 LC116:
  3190 000008F2 6D 61 6B 65 20 66 69 6C 65 73   	DB	"make filesystem!",0x0A,0x00
       000008FC 79 73 74 65 6D 21 0A 00 
  3191 00000904                                 LC115:
  3192 00000904 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       0000090E 78 74 20 20 20 25 37 64 0A 00 
  3193                                          [SECTION .text]
  3194 00001E8C                                 	GLOBAL	_cmd_mkfs
  3195 00001E8C                                 _cmd_mkfs:
  3196 00001E8C 55                              	PUSH	EBP
  3197 00001E8D 89 E5                           	MOV	EBP,ESP
  3198 00001E8F 57                              	PUSH	EDI
  3199 00001E90 56                              	PUSH	ESI
  3200 00001E91 31 FF                           	XOR	EDI,EDI
  3201 00001E93 53                              	PUSH	EBX
  3202 00001E94 8D 45 E4                        	LEA	EAX,DWORD [-28+EBP]
  3203 00001E97 81 EC 00000800                  	SUB	ESP,2048
  3204 00001E9D 8D 75 F4                        	LEA	ESI,DWORD [-12+EBP]
  3205 00001EA0 68 [000008E9]                   	PUSH	LC114
  3206 00001EA5 50                              	PUSH	EAX
  3207 00001EA6 E8 [00000000]                   	CALL	_sprintf
  3208 00001EAB 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  3209 00001EAE C7 45 EC 00000000               	MOV	DWORD [-20+EBP],0
  3210 00001EB5 C7 45 F0 00400000               	MOV	DWORD [-16+EBP],4194304
  3211 00001EBC C7 40 14 00400000               	MOV	DWORD [20+EAX],4194304
  3212 00001EC3 59                              	POP	ECX
  3213 00001EC4 5B                              	POP	EBX
  3214 00001EC5 31 DB                           	XOR	EBX,EBX
  3215 00001EC7                                 L544:
  3216 00001EC7 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
  3217 00001ECD 84 C0                           	TEST	AL,AL
  3218 00001ECF 74 19                           	JE	L518
  3219 00001ED1 3C E5                           	CMP	AL,-27
  3220 00001ED3 74 09                           	JE	L519
  3221 00001ED5 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
  3222 00001EDC 74 49                           	JE	L554
  3223 00001EDE                                 L519:
  3224 00001EDE 47                              	INC	EDI
  3225 00001EDF 83 C3 20                        	ADD	EBX,32
  3226 00001EE2 83 C6 28                        	ADD	ESI,40
  3227 00001EE5 83 FF 09                        	CMP	EDI,9
  3228 00001EE8 7E DD                           	JLE	L544
  3229 00001EEA                                 L518:
  3230 00001EEA FC                              	CLD
  3231 00001EEB 8D B5 FFFFF814                  	LEA	ESI,DWORD [-2028+EBP]
  3232 00001EF1 BF 00400000                     	MOV	EDI,4194304
  3233 00001EF6 B9 000001F8                     	MOV	ECX,504
  3234 00001EFB 8D 9D FFFFF7F4                  	LEA	EBX,DWORD [-2060+EBP]
  3235 00001F01 F3                              	REP
  3236 00001F02 A5                              	MOVSD
  3237 00001F03 68 [000008F2]                   	PUSH	LC116
  3238 00001F08 53                              	PUSH	EBX
  3239 00001F09 E8 [00000000]                   	CALL	_sprintf
  3240 00001F0E 53                              	PUSH	EBX
  3241 00001F0F FF 75 08                        	PUSH	DWORD [8+EBP]
  3242 00001F12 E8 FFFFE6A1                     	CALL	_cons_putstr0
  3243 00001F17 FF 75 08                        	PUSH	DWORD [8+EBP]
  3244 00001F1A E8 FFFFE546                     	CALL	_cons_newline
  3245 00001F1F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3246 00001F22 5B                              	POP	EBX
  3247 00001F23 5E                              	POP	ESI
  3248 00001F24 5F                              	POP	EDI
  3249 00001F25 5D                              	POP	EBP
  3250 00001F26 C3                              	RET
  3251 00001F27                                 L554:
  3252 00001F27 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
  3253 00001F2D 68 [00000904]                   	PUSH	LC115
  3254 00001F32 8D 85 FFFFF7F4                  	LEA	EAX,DWORD [-2060+EBP]
  3255 00001F38 50                              	PUSH	EAX
  3256 00001F39 E8 [00000000]                   	CALL	_sprintf
  3257 00001F3E 8D 8B 00102600                  	LEA	ECX,DWORD [1058304+EBX]
  3258 00001F44 31 D2                           	XOR	EDX,EDX
  3259 00001F46 83 C4 0C                        	ADD	ESP,12
  3260 00001F49                                 L528:
  3261 00001F49 8A 01                           	MOV	AL,BYTE [ECX]
  3262 00001F4B 41                              	INC	ECX
  3263 00001F4C 88 84 15 FFFFF7F4               	MOV	BYTE [-2060+EBP+EDX*1],AL
  3264 00001F53 42                              	INC	EDX
  3265 00001F54 83 FA 07                        	CMP	EDX,7
  3266 00001F57 7E F0                           	JLE	L528
  3267 00001F59 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
  3268 00001F5F 31 D2                           	XOR	EDX,EDX
  3269 00001F61 88 85 FFFFF7FD                  	MOV	BYTE [-2051+EBP],AL
  3270 00001F67 8D 8E FFFFF828                  	LEA	ECX,DWORD [-2008+ESI]
  3271 00001F6D 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
  3272 00001F73 88 85 FFFFF7FE                  	MOV	BYTE [-2050+EBP],AL
  3273 00001F79 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
  3274 00001F7F 88 85 FFFFF7FF                  	MOV	BYTE [-2049+EBP],AL
  3275 00001F85 66 8B 83 0010261A               	MOV	AX,WORD [1058330+EBX]
  3276 00001F8C 66 89 86 FFFFF83A               	MOV	WORD [-1990+ESI],AX
  3277 00001F93 66 8B 83 00102618               	MOV	AX,WORD [1058328+EBX]
  3278 00001F9A 66 89 86 FFFFF838               	MOV	WORD [-1992+ESI],AX
  3279 00001FA1                                 L533:
  3280 00001FA1 8A 84 13 00102608               	MOV	AL,BYTE [1058312+EBX+EDX*1]
  3281 00001FA8 42                              	INC	EDX
  3282 00001FA9 88 01                           	MOV	BYTE [ECX],AL
  3283 00001FAB 41                              	INC	ECX
  3284 00001FAC 83 FA 02                        	CMP	EDX,2
  3285 00001FAF 7E F0                           	JLE	L533
  3286 00001FB1 31 D2                           	XOR	EDX,EDX
  3287 00001FB3 8D 8B 00102600                  	LEA	ECX,DWORD [1058304+EBX]
  3288 00001FB9                                 L538:
  3289 00001FB9 8A 01                           	MOV	AL,BYTE [ECX]
  3290 00001FBB 41                              	INC	ECX
  3291 00001FBC 88 84 32 FFFFF820               	MOV	BYTE [-2016+EDX+ESI*1],AL
  3292 00001FC3 42                              	INC	EDX
  3293 00001FC4 83 FA 07                        	CMP	EDX,7
  3294 00001FC7 7E F0                           	JLE	L538
  3295 00001FC9 31 D2                           	XOR	EDX,EDX
  3296 00001FCB 8D 8E FFFFF82C                  	LEA	ECX,DWORD [-2004+ESI]
  3297 00001FD1                                 L543:
  3298 00001FD1 8A 84 13 0010260C               	MOV	AL,BYTE [1058316+EBX+EDX*1]
  3299 00001FD8 42                              	INC	EDX
  3300 00001FD9 88 01                           	MOV	BYTE [ECX],AL
  3301 00001FDB 41                              	INC	ECX
  3302 00001FDC 83 FA 09                        	CMP	EDX,9
  3303 00001FDF 7E F0                           	JLE	L543
  3304 00001FE1 8B 83 0010261C                  	MOV	EAX,DWORD [1058332+EBX]
  3305 00001FE7 89 86 FFFFF83C                  	MOV	DWORD [-1988+ESI],EAX
  3306 00001FED 66 8B 83 00102616               	MOV	AX,WORD [1058326+EBX]
  3307 00001FF4 66 89 86 FFFFF836               	MOV	WORD [-1994+ESI],AX
  3308 00001FFB 8A 83 0010260B                  	MOV	AL,BYTE [1058315+EBX]
  3309 00002001 88 86 FFFFF82B                  	MOV	BYTE [-2005+ESI],AL
  3310 00002007 8D 85 FFFFF7F4                  	LEA	EAX,DWORD [-2060+EBP]
  3311 0000200D 50                              	PUSH	EAX
  3312 0000200E FF 75 08                        	PUSH	DWORD [8+EBP]
  3313 00002011 E8 FFFFE5A2                     	CALL	_cons_putstr0
  3314 00002016 58                              	POP	EAX
  3315 00002017 5A                              	POP	EDX
  3316 00002018 E9 FFFFFEC1                     	JMP	L519
  3317                                          [SECTION .data]
  3318 00000918                                 LC117:
  3319 00000918 64 69 72 65 63 74 6F 72 79 20   	DB	"directory name",0x09,"%s",0x0A,0x00
       00000922 6E 61 6D 65 09 25 73 0A 00 
  3320 0000092B                                 LC118:
  3321 0000092B 63 75 72 72 65 6E 74 20 64 69   	DB	"current dir addr",0x09
       00000935 72 20 61 64 64 72 09 
  3322 0000093C 30 78 25 30 38 78 0A 00         	DB	"0x%08x",0x0A,0x00
  3323 00000944                                 LC119:
  3324 00000944 70 61 72 65 6E 74 20 64 69 72   	DB	"parent dir addr",0x09
       0000094E 20 61 64 64 72 09 
  3325 00000954 30 78 25 30 38 78 0A 00         	DB	"0x%08x",0x0A,0x00
  3326 0000095C                                 LC122:
  3327 0000095C 74 68 69 73 20 64 69 72 65 63   	DB	"this directory has no file...",0x0A,0x00
       00000966 74 6F 72 79 20 68 61 73 20 6E 
       00000970 6F 20 66 69 6C 65 2E 2E 2E 0A 
       0000097A 00 
  3328 0000097B                                 LC121:
  3329 0000097B 66 69 6C 65 6E 61 6D 65 20 20   	DB	"filename    ",0x09,"%7d [DIR]",0x0A,0x00
       00000985 20 20 09 25 37 64 20 5B 44 49 
       0000098F 52 5D 0A 00 
  3330 00000993                                 LC120:
  3331 00000993 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext",0x09,"%7d [FILE]",0x0A,0x00
       0000099D 78 74 09 25 37 64 20 5B 46 49 
       000009A7 4C 45 5D 0A 00 
  3332                                          [SECTION .text]
  3333 0000201D                                 	GLOBAL	_cmd_dir
  3334 0000201D                                 _cmd_dir:
  3335 0000201D 55                              	PUSH	EBP
  3336 0000201E 89 E5                           	MOV	EBP,ESP
  3337 00002020 57                              	PUSH	EDI
  3338 00002021 56                              	PUSH	ESI
  3339 00002022 53                              	PUSH	EBX
  3340 00002023 8D 75 B4                        	LEA	ESI,DWORD [-76+EBP]
  3341 00002026 83 EC 40                        	SUB	ESP,64
  3342 00002029 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
  3343 0000202C 8B 5F 14                        	MOV	EBX,DWORD [20+EDI]
  3344 0000202F 8D 83 000007D0                  	LEA	EAX,DWORD [2000+EBX]
  3345 00002035 50                              	PUSH	EAX
  3346 00002036 68 [00000918]                   	PUSH	LC117
  3347 0000203B 56                              	PUSH	ESI
  3348 0000203C E8 [00000000]                   	CALL	_sprintf
  3349 00002041 56                              	PUSH	ESI
  3350 00002042 57                              	PUSH	EDI
  3351 00002043 E8 FFFFE542                     	CALL	_cons_putstr
  3352 00002048 FF B3 000007DC                  	PUSH	DWORD [2012+EBX]
  3353 0000204E 68 [0000092B]                   	PUSH	LC118
  3354 00002053 56                              	PUSH	ESI
  3355 00002054 E8 [00000000]                   	CALL	_sprintf
  3356 00002059 83 C4 20                        	ADD	ESP,32
  3357 0000205C 56                              	PUSH	ESI
  3358 0000205D E8 FFFFDF9E                     	CALL	_debug_print
  3359 00002062 FF B3 000007D8                  	PUSH	DWORD [2008+EBX]
  3360 00002068 68 [00000944]                   	PUSH	LC119
  3361 0000206D 56                              	PUSH	ESI
  3362 0000206E E8 [00000000]                   	CALL	_sprintf
  3363 00002073 56                              	PUSH	ESI
  3364 00002074 31 F6                           	XOR	ESI,ESI
  3365 00002076 E8 FFFFDF85                     	CALL	_debug_print
  3366 0000207B 83 C4 14                        	ADD	ESP,20
  3367 0000207E                                 L575:
  3368 0000207E 8A 03                           	MOV	AL,BYTE [EBX]
  3369 00002080 84 C0                           	TEST	AL,AL
  3370 00002082 74 1E                           	JE	L557
  3371 00002084 3C E5                           	CMP	AL,-27
  3372 00002086 74 11                           	JE	L558
  3373 00002088 8A 43 0B                        	MOV	AL,BYTE [11+EBX]
  3374 0000208B A9 00000018                     	TEST	EAX,24
  3375 00002090 74 6D                           	JE	L583
  3376 00002092 83 E0 10                        	AND	EAX,16
  3377 00002095 84 C0                           	TEST	AL,AL
  3378 00002097 75 35                           	JNE	L584
  3379 00002099                                 L558:
  3380 00002099 46                              	INC	ESI
  3381 0000209A 83 C3 28                        	ADD	EBX,40
  3382 0000209D 83 FE 31                        	CMP	ESI,49
  3383 000020A0 7E DC                           	JLE	L575
  3384 000020A2                                 L557:
  3385 000020A2 85 F6                           	TEST	ESI,ESI
  3386 000020A4 74 0E                           	JE	L585
  3387 000020A6                                 L576:
  3388 000020A6 57                              	PUSH	EDI
  3389 000020A7 E8 FFFFE3B9                     	CALL	_cons_newline
  3390 000020AC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3391 000020AF 5B                              	POP	EBX
  3392 000020B0 5E                              	POP	ESI
  3393 000020B1 5F                              	POP	EDI
  3394 000020B2 5D                              	POP	EBP
  3395 000020B3 C3                              	RET
  3396 000020B4                                 L585:
  3397 000020B4 68 [0000095C]                   	PUSH	LC122
  3398 000020B9 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
  3399 000020BC 53                              	PUSH	EBX
  3400 000020BD E8 [00000000]                   	CALL	_sprintf
  3401 000020C2 53                              	PUSH	EBX
  3402 000020C3 57                              	PUSH	EDI
  3403 000020C4 E8 FFFFE4C1                     	CALL	_cons_putstr
  3404 000020C9 83 C4 10                        	ADD	ESP,16
  3405 000020CC EB D8                           	JMP	L576
  3406 000020CE                                 L584:
  3407 000020CE FF 73 1C                        	PUSH	DWORD [28+EBX]
  3408 000020D1 68 [0000097B]                   	PUSH	LC121
  3409 000020D6 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
  3410 000020D9 50                              	PUSH	EAX
  3411 000020DA E8 [00000000]                   	CALL	_sprintf
  3412 000020DF 83 C4 0C                        	ADD	ESP,12
  3413 000020E2 31 D2                           	XOR	EDX,EDX
  3414 000020E4                                 L574:
  3415 000020E4 8A 04 1A                        	MOV	AL,BYTE [EDX+EBX*1]
  3416 000020E7 88 44 15 B4                     	MOV	BYTE [-76+EBP+EDX*1],AL
  3417 000020EB 42                              	INC	EDX
  3418 000020EC 83 FA 07                        	CMP	EDX,7
  3419 000020EF 7E F3                           	JLE	L574
  3420 000020F1                                 L582:
  3421 000020F1 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
  3422 000020F4 50                              	PUSH	EAX
  3423 000020F5 57                              	PUSH	EDI
  3424 000020F6 E8 FFFFE48F                     	CALL	_cons_putstr
  3425 000020FB 58                              	POP	EAX
  3426 000020FC 5A                              	POP	EDX
  3427 000020FD EB 9A                           	JMP	L558
  3428 000020FF                                 L583:
  3429 000020FF FF 73 1C                        	PUSH	DWORD [28+EBX]
  3430 00002102 68 [00000993]                   	PUSH	LC120
  3431 00002107 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
  3432 0000210A 50                              	PUSH	EAX
  3433 0000210B E8 [00000000]                   	CALL	_sprintf
  3434 00002110 83 C4 0C                        	ADD	ESP,12
  3435 00002113 31 D2                           	XOR	EDX,EDX
  3436 00002115                                 L567:
  3437 00002115 8A 04 1A                        	MOV	AL,BYTE [EDX+EBX*1]
  3438 00002118 88 44 15 B4                     	MOV	BYTE [-76+EBP+EDX*1],AL
  3439 0000211C 42                              	INC	EDX
  3440 0000211D 83 FA 07                        	CMP	EDX,7
  3441 00002120 7E F3                           	JLE	L567
  3442 00002122 8A 43 08                        	MOV	AL,BYTE [8+EBX]
  3443 00002125 88 45 BD                        	MOV	BYTE [-67+EBP],AL
  3444 00002128 8A 43 09                        	MOV	AL,BYTE [9+EBX]
  3445 0000212B 88 45 BE                        	MOV	BYTE [-66+EBP],AL
  3446 0000212E 8A 43 0A                        	MOV	AL,BYTE [10+EBX]
  3447 00002131 88 45 BF                        	MOV	BYTE [-65+EBP],AL
  3448 00002134 EB BB                           	JMP	L582
  3449                                          [SECTION .data]
  3450 000009AC                                 LC123:
  3451 000009AC 66 69 6C 65 74 79 70 65 3D 30   	DB	"filetype=0x%02x",0x0A,0x00
       000009B6 78 25 30 32 78 0A 00 
  3452                                          [SECTION .text]
  3453 00002136                                 	GLOBAL	_cmd_fddir
  3454 00002136                                 _cmd_fddir:
  3455 00002136 55                              	PUSH	EBP
  3456 00002137 89 E5                           	MOV	EBP,ESP
  3457 00002139 57                              	PUSH	EDI
  3458 0000213A 56                              	PUSH	ESI
  3459 0000213B 31 FF                           	XOR	EDI,EDI
  3460 0000213D 53                              	PUSH	EBX
  3461 0000213E 31 F6                           	XOR	ESI,ESI
  3462 00002140 83 EC 20                        	SUB	ESP,32
  3463 00002143                                 L599:
  3464 00002143 8A 86 00102600                  	MOV	AL,BYTE [1058304+ESI]
  3465 00002149 84 C0                           	TEST	AL,AL
  3466 0000214B 74 16                           	JE	L588
  3467 0000214D 3C E5                           	CMP	AL,-27
  3468 0000214F 74 09                           	JE	L589
  3469 00002151 F6 86 0010260B 18               	TEST	BYTE [1058315+ESI],24
  3470 00002158 74 19                           	JE	L603
  3471 0000215A                                 L589:
  3472 0000215A 47                              	INC	EDI
  3473 0000215B 83 C6 20                        	ADD	ESI,32
  3474 0000215E 83 FF 31                        	CMP	EDI,49
  3475 00002161 7E E0                           	JLE	L599
  3476 00002163                                 L588:
  3477 00002163 FF 75 08                        	PUSH	DWORD [8+EBP]
  3478 00002166 E8 FFFFE2FA                     	CALL	_cons_newline
  3479 0000216B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3480 0000216E 5B                              	POP	EBX
  3481 0000216F 5E                              	POP	ESI
  3482 00002170 5F                              	POP	EDI
  3483 00002171 5D                              	POP	EBP
  3484 00002172 C3                              	RET
  3485 00002173                                 L603:
  3486 00002173 FF B6 0010261C                  	PUSH	DWORD [1058332+ESI]
  3487 00002179 68 [00000904]                   	PUSH	LC115
  3488 0000217E 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
  3489 00002181 50                              	PUSH	EAX
  3490 00002182 E8 [00000000]                   	CALL	_sprintf
  3491 00002187 8D 96 00102600                  	LEA	EDX,DWORD [1058304+ESI]
  3492 0000218D 31 C9                           	XOR	ECX,ECX
  3493 0000218F 83 C4 0C                        	ADD	ESP,12
  3494 00002192                                 L598:
  3495 00002192 8A 02                           	MOV	AL,BYTE [EDX]
  3496 00002194 42                              	INC	EDX
  3497 00002195 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
  3498 00002199 41                              	INC	ECX
  3499 0000219A 83 F9 07                        	CMP	ECX,7
  3500 0000219D 7E F3                           	JLE	L598
  3501 0000219F 8A 86 00102608                  	MOV	AL,BYTE [1058312+ESI]
  3502 000021A5 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  3503 000021A8 88 45 DD                        	MOV	BYTE [-35+EBP],AL
  3504 000021AB 8A 86 00102609                  	MOV	AL,BYTE [1058313+ESI]
  3505 000021B1 88 45 DE                        	MOV	BYTE [-34+EBP],AL
  3506 000021B4 8A 86 0010260A                  	MOV	AL,BYTE [1058314+ESI]
  3507 000021BA 53                              	PUSH	EBX
  3508 000021BB FF 75 08                        	PUSH	DWORD [8+EBP]
  3509 000021BE 88 45 DF                        	MOV	BYTE [-33+EBP],AL
  3510 000021C1 E8 FFFFE3F2                     	CALL	_cons_putstr0
  3511 000021C6 0F B6 86 0010260B               	MOVZX	EAX,BYTE [1058315+ESI]
  3512 000021CD 50                              	PUSH	EAX
  3513 000021CE 68 [000009AC]                   	PUSH	LC123
  3514 000021D3 53                              	PUSH	EBX
  3515 000021D4 E8 [00000000]                   	CALL	_sprintf
  3516 000021D9 53                              	PUSH	EBX
  3517 000021DA FF 75 08                        	PUSH	DWORD [8+EBP]
  3518 000021DD E8 FFFFE3D6                     	CALL	_cons_putstr0
  3519 000021E2 83 C4 1C                        	ADD	ESP,28
  3520 000021E5 E9 FFFFFF70                     	JMP	L589
  3521 000021EA                                 	GLOBAL	_cmd_exit
  3522 000021EA                                 _cmd_exit:
  3523 000021EA 55                              	PUSH	EBP
  3524 000021EB 89 E5                           	MOV	EBP,ESP
  3525 000021ED 57                              	PUSH	EDI
  3526 000021EE 56                              	PUSH	ESI
  3527 000021EF 53                              	PUSH	EBX
  3528 000021F0 50                              	PUSH	EAX
  3529 000021F1 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  3530 000021F4 E8 [00000000]                   	CALL	_task_now
  3531 000021F9 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  3532 000021FF 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  3533 00002205 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  3534 00002208 83 3B 00                        	CMP	DWORD [EBX],0
  3535 0000220B 74 09                           	JE	L605
  3536 0000220D FF 73 10                        	PUSH	DWORD [16+EBX]
  3537 00002210 E8 [00000000]                   	CALL	_timer_cancel
  3538 00002215 58                              	POP	EAX
  3539 00002216                                 L605:
  3540 00002216 68 00002D00                     	PUSH	11520
  3541 0000221B FF 75 0C                        	PUSH	DWORD [12+EBP]
  3542 0000221E 68 003C0000                     	PUSH	3932160
  3543 00002223 E8 [00000000]                   	CALL	_memman_free_4k
  3544 00002228 E8 [00000000]                   	CALL	_io_cli
  3545 0000222D 8B 03                           	MOV	EAX,DWORD [EBX]
  3546 0000222F 83 C4 0C                        	ADD	ESP,12
  3547 00002232 85 C0                           	TEST	EAX,EAX
  3548 00002234 74 2E                           	JE	L606
  3549 00002236 29 F0                           	SUB	EAX,ESI
  3550 00002238 2D 00000414                     	SUB	EAX,1044
  3551 0000223D C1 F8 03                        	SAR	EAX,3
  3552 00002240 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  3553 00002246 05 00000300                     	ADD	EAX,768
  3554 0000224B                                 L611:
  3555 0000224B 50                              	PUSH	EAX
  3556 0000224C 57                              	PUSH	EDI
  3557 0000224D E8 [00000000]                   	CALL	_fifo32_put
  3558 00002252 5B                              	POP	EBX
  3559 00002253 5E                              	POP	ESI
  3560 00002254 E8 [00000000]                   	CALL	_io_sti
  3561 00002259                                 L608:
  3562 00002259 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  3563 0000225C E8 [00000000]                   	CALL	_task_sleep
  3564 00002261 59                              	POP	ECX
  3565 00002262 EB F5                           	JMP	L608
  3566 00002264                                 L606:
  3567 00002264 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  3568 00002267 2B 05 [00000000]                	SUB	EAX,DWORD [_taskctl]
  3569 0000226D 2D 00000FF8                     	SUB	EAX,4088
  3570 00002272 C1 F8 06                        	SAR	EAX,6
  3571 00002275 69 C0 AAAAAAAB                  	IMUL	EAX,EAX,-1431655765
  3572 0000227B 05 00000400                     	ADD	EAX,1024
  3573 00002280 EB C9                           	JMP	L611
  3574 00002282                                 	GLOBAL	_cmd_start
  3575 00002282                                 _cmd_start:
  3576 00002282 55                              	PUSH	EBP
  3577 00002283 89 E5                           	MOV	EBP,ESP
  3578 00002285 57                              	PUSH	EDI
  3579 00002286 56                              	PUSH	ESI
  3580 00002287 53                              	PUSH	EBX
  3581 00002288 57                              	PUSH	EDI
  3582 00002289 57                              	PUSH	EDI
  3583 0000228A 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  3584 0000228D 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
  3585 00002290 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  3586 00002296 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  3587 00002299 FF 75 10                        	PUSH	DWORD [16+EBP]
  3588 0000229C 56                              	PUSH	ESI
  3589 0000229D E8 [00000000]                   	CALL	_open_console
  3590 000022A2 89 C3                           	MOV	EBX,EAX
  3591 000022A4 8B 40 24                        	MOV	EAX,DWORD [36+EAX]
  3592 000022A7 83 C0 10                        	ADD	EAX,16
  3593 000022AA 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  3594 000022AD 6A 04                           	PUSH	4
  3595 000022AF 6A 20                           	PUSH	32
  3596 000022B1 53                              	PUSH	EBX
  3597 000022B2 E8 [00000000]                   	CALL	_sheet_slide
  3598 000022B7 FF 76 10                        	PUSH	DWORD [16+ESI]
  3599 000022BA 53                              	PUSH	EBX
  3600 000022BB BB 00000006                     	MOV	EBX,6
  3601 000022C0 E8 [00000000]                   	CALL	_sheet_updown
  3602 000022C5 83 C4 1C                        	ADD	ESP,28
  3603 000022C8 80 7F 06 00                     	CMP	BYTE [6+EDI],0
  3604 000022CC 75 21                           	JNE	L617
  3605 000022CE                                 L619:
  3606 000022CE 68 0000010A                     	PUSH	266
  3607 000022D3 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  3608 000022D6 E8 [00000000]                   	CALL	_fifo32_put
  3609 000022DB 58                              	POP	EAX
  3610 000022DC 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  3611 000022DF 5A                              	POP	EDX
  3612 000022E0 89 45 08                        	MOV	DWORD [8+EBP],EAX
  3613 000022E3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3614 000022E6 5B                              	POP	EBX
  3615 000022E7 5E                              	POP	ESI
  3616 000022E8 5F                              	POP	EDI
  3617 000022E9 5D                              	POP	EBP
  3618 000022EA E9 FFFFE176                     	JMP	_cons_newline
  3619 000022EF                                 L617:
  3620 000022EF 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
  3621 000022F3 05 00000100                     	ADD	EAX,256
  3622 000022F8 43                              	INC	EBX
  3623 000022F9 50                              	PUSH	EAX
  3624 000022FA FF 75 EC                        	PUSH	DWORD [-20+EBP]
  3625 000022FD E8 [00000000]                   	CALL	_fifo32_put
  3626 00002302 80 3C 3B 00                     	CMP	BYTE [EBX+EDI*1],0
  3627 00002306 59                              	POP	ECX
  3628 00002307 5E                              	POP	ESI
  3629 00002308 75 E5                           	JNE	L617
  3630 0000230A EB C2                           	JMP	L619
  3631 0000230C                                 	GLOBAL	_cmd_ncst
  3632 0000230C                                 _cmd_ncst:
  3633 0000230C 55                              	PUSH	EBP
  3634 0000230D 89 E5                           	MOV	EBP,ESP
  3635 0000230F 57                              	PUSH	EDI
  3636 00002310 56                              	PUSH	ESI
  3637 00002311 BE 00000005                     	MOV	ESI,5
  3638 00002316 53                              	PUSH	EBX
  3639 00002317 51                              	PUSH	ECX
  3640 00002318 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  3641 0000231B 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  3642 0000231E 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  3643 00002321 FF 75 10                        	PUSH	DWORD [16+EBP]
  3644 00002324 6A 00                           	PUSH	0
  3645 00002326 E8 [00000000]                   	CALL	_open_constask
  3646 0000232B 80 7B 05 00                     	CMP	BYTE [5+EBX],0
  3647 0000232F 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
  3648 00002332 58                              	POP	EAX
  3649 00002333 5A                              	POP	EDX
  3650 00002334 75 1F                           	JNE	L625
  3651 00002336                                 L627:
  3652 00002336 68 0000010A                     	PUSH	266
  3653 0000233B 57                              	PUSH	EDI
  3654 0000233C E8 [00000000]                   	CALL	_fifo32_put
  3655 00002341 58                              	POP	EAX
  3656 00002342 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  3657 00002345 5A                              	POP	EDX
  3658 00002346 89 45 08                        	MOV	DWORD [8+EBP],EAX
  3659 00002349 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3660 0000234C 5B                              	POP	EBX
  3661 0000234D 5E                              	POP	ESI
  3662 0000234E 5F                              	POP	EDI
  3663 0000234F 5D                              	POP	EBP
  3664 00002350 E9 FFFFE110                     	JMP	_cons_newline
  3665 00002355                                 L625:
  3666 00002355 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
  3667 00002359 05 00000100                     	ADD	EAX,256
  3668 0000235E 46                              	INC	ESI
  3669 0000235F 50                              	PUSH	EAX
  3670 00002360 57                              	PUSH	EDI
  3671 00002361 E8 [00000000]                   	CALL	_fifo32_put
  3672 00002366 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
  3673 0000236A 59                              	POP	ECX
  3674 0000236B 58                              	POP	EAX
  3675 0000236C 75 E7                           	JNE	L625
  3676 0000236E EB C6                           	JMP	L627
  3677                                          [SECTION .data]
  3678 000009BD                                 LC124:
  3679 000009BD 6D 6F 64 65 20 6E 75 6D 62 65   	DB	"mode number error.",0x0A,0x00
       000009C7 72 20 65 72 72 6F 72 2E 0A 00 
  3680                                          [SECTION .text]
  3681 00002370                                 	GLOBAL	_cmd_langmode
  3682 00002370                                 _cmd_langmode:
  3683 00002370 55                              	PUSH	EBP
  3684 00002371 89 E5                           	MOV	EBP,ESP
  3685 00002373 56                              	PUSH	ESI
  3686 00002374 53                              	PUSH	EBX
  3687 00002375 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  3688 00002378 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
  3689 0000237B E8 [00000000]                   	CALL	_task_now
  3690 00002380 8A 53 09                        	MOV	DL,BYTE [9+EBX]
  3691 00002383 83 EA 30                        	SUB	EDX,48
  3692 00002386 80 FA 02                        	CMP	DL,2
  3693 00002389 77 14                           	JA	L629
  3694 0000238B 88 90 000000BC                  	MOV	BYTE [188+EAX],DL
  3695 00002391                                 L630:
  3696 00002391 89 75 08                        	MOV	DWORD [8+EBP],ESI
  3697 00002394 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  3698 00002397 5B                              	POP	EBX
  3699 00002398 5E                              	POP	ESI
  3700 00002399 5D                              	POP	EBP
  3701 0000239A E9 FFFFE0C6                     	JMP	_cons_newline
  3702 0000239F                                 L629:
  3703 0000239F 68 [000009BD]                   	PUSH	LC124
  3704 000023A4 56                              	PUSH	ESI
  3705 000023A5 E8 FFFFE20E                     	CALL	_cons_putstr0
  3706 000023AA 5B                              	POP	EBX
  3707 000023AB 58                              	POP	EAX
  3708 000023AC EB E3                           	JMP	L630
  3709                                          [SECTION .data]
  3710 000009D1                                 LC125:
  3711 000009D1 48 61 72 69 00                  	DB	"Hari",0x00
  3712 000009D6                                 LC126:
  3713 000009D6 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       000009E0 66 6F 72 6D 61 74 20 65 72 72 
       000009EA 6F 72 2E 0A 00 
  3714                                          [SECTION .text]
  3715 000023AE                                 	GLOBAL	_cmd_app
  3716 000023AE                                 _cmd_app:
  3717 000023AE 55                              	PUSH	EBP
  3718 000023AF 89 E5                           	MOV	EBP,ESP
  3719 000023B1 57                              	PUSH	EDI
  3720 000023B2 56                              	PUSH	ESI
  3721 000023B3 31 F6                           	XOR	ESI,ESI
  3722 000023B5 53                              	PUSH	EBX
  3723 000023B6 83 EC 34                        	SUB	ESP,52
  3724 000023B9 8B 5D 10                        	MOV	EBX,DWORD [16+EBP]
  3725 000023BC E8 [00000000]                   	CALL	_task_now
  3726 000023C1 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
  3727 000023C4                                 L637:
  3728 000023C4 8A 04 1E                        	MOV	AL,BYTE [ESI+EBX*1]
  3729 000023C7 3C 20                           	CMP	AL,32
  3730 000023C9 7E 0A                           	JLE	L633
  3731 000023CB 88 44 35 D4                     	MOV	BYTE [-44+EBP+ESI*1],AL
  3732 000023CF 46                              	INC	ESI
  3733 000023D0 83 FE 0C                        	CMP	ESI,12
  3734 000023D3 7E EF                           	JLE	L637
  3735 000023D5                                 L633:
  3736 000023D5 68 000000E0                     	PUSH	224
  3737 000023DA 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  3738 000023DD 68 00102600                     	PUSH	1058304
  3739 000023E2 53                              	PUSH	EBX
  3740 000023E3 C6 44 35 D4 00                  	MOV	BYTE [-44+EBP+ESI*1],0
  3741 000023E8 E8 [00000000]                   	CALL	_file_search
  3742 000023ED 83 C4 0C                        	ADD	ESP,12
  3743 000023F0 89 C2                           	MOV	EDX,EAX
  3744 000023F2 85 C0                           	TEST	EAX,EAX
  3745 000023F4 0F 84 000001B6                  	JE	L667
  3746 000023FA                                 L666:
  3747 000023FA 8B 42 1C                        	MOV	EAX,DWORD [28+EDX]
  3748 000023FD 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  3749 00002400 8D 45 D0                        	LEA	EAX,DWORD [-48+EBP]
  3750 00002403 FF 75 0C                        	PUSH	DWORD [12+EBP]
  3751 00002406 50                              	PUSH	EAX
  3752 00002407 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  3753 0000240B 50                              	PUSH	EAX
  3754 0000240C E8 [00000000]                   	CALL	_file_loadfile2
  3755 00002411 83 C4 0C                        	ADD	ESP,12
  3756 00002414 83 7D D0 23                     	CMP	DWORD [-48+EBP],35
  3757 00002418 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
  3758 0000241B 7E 1C                           	JLE	L640
  3759 0000241D 89 C6                           	MOV	ESI,EAX
  3760 0000241F BF [000009D1]                   	MOV	EDI,LC125
  3761 00002424 FC                              	CLD
  3762 00002425 83 C6 04                        	ADD	ESI,4
  3763 00002428 B9 00000004                     	MOV	ECX,4
  3764 0000242D F3                              	REPE
  3765 0000242E A6                              	CMPSB
  3766 0000242F 75 08                           	JNE	L640
  3767 00002431 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
  3768 00002434 80 38 00                        	CMP	BYTE [EAX],0
  3769 00002437 74 34                           	JE	L668
  3770 00002439                                 L640:
  3771 00002439 68 [000009D6]                   	PUSH	LC126
  3772 0000243E FF 75 08                        	PUSH	DWORD [8+EBP]
  3773 00002441 E8 FFFFE172                     	CALL	_cons_putstr0
  3774 00002446 58                              	POP	EAX
  3775 00002447 5A                              	POP	EDX
  3776 00002448                                 L658:
  3777 00002448 FF 75 D0                        	PUSH	DWORD [-48+EBP]
  3778 0000244B FF 75 CC                        	PUSH	DWORD [-52+EBP]
  3779 0000244E 68 003C0000                     	PUSH	3932160
  3780 00002453 E8 [00000000]                   	CALL	_memman_free_4k
  3781 00002458 FF 75 08                        	PUSH	DWORD [8+EBP]
  3782 0000245B E8 FFFFE005                     	CALL	_cons_newline
  3783 00002460 B8 00000001                     	MOV	EAX,1
  3784 00002465                                 L631:
  3785 00002465 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3786 00002468 5B                              	POP	EBX
  3787 00002469 5E                              	POP	ESI
  3788 0000246A 5F                              	POP	EDI
  3789 0000246B 5D                              	POP	EBP
  3790 0000246C C3                              	RET
  3791 0000246D                                 L668:
  3792 0000246D 8B 10                           	MOV	EDX,DWORD [EAX]
  3793 0000246F 8B 40 0C                        	MOV	EAX,DWORD [12+EAX]
  3794 00002472 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
  3795 00002475 89 45 C0                        	MOV	DWORD [-64+EBP],EAX
  3796 00002478 8B 55 CC                        	MOV	EDX,DWORD [-52+EBP]
  3797 0000247B 8B 5A 10                        	MOV	EBX,DWORD [16+EDX]
  3798 0000247E 8B 72 14                        	MOV	ESI,DWORD [20+EDX]
  3799 00002481 FF 75 C4                        	PUSH	DWORD [-60+EBP]
  3800 00002484 68 003C0000                     	PUSH	3932160
  3801 00002489 E8 [00000000]                   	CALL	_memman_alloc_4k
  3802 0000248E 89 C7                           	MOV	EDI,EAX
  3803 00002490 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  3804 00002493 89 B8 000000A8                  	MOV	DWORD [168+EAX],EDI
  3805 00002499 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
  3806 0000249C 68 000040FA                     	PUSH	16634
  3807 000024A1 48                              	DEC	EAX
  3808 000024A2 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  3809 000024A5 50                              	PUSH	EAX
  3810 000024A6 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  3811 000024A9 05 00000094                     	ADD	EAX,148
  3812 000024AE 50                              	PUSH	EAX
  3813 000024AF E8 [00000000]                   	CALL	_set_segmdesc
  3814 000024B4 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
  3815 000024B7 68 000040F2                     	PUSH	16626
  3816 000024BC 48                              	DEC	EAX
  3817 000024BD 57                              	PUSH	EDI
  3818 000024BE 50                              	PUSH	EAX
  3819 000024BF 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  3820 000024C2 05 0000009C                     	ADD	EAX,156
  3821 000024C7 50                              	PUSH	EAX
  3822 000024C8 E8 [00000000]                   	CALL	_set_segmdesc
  3823 000024CD 83 C4 28                        	ADD	ESP,40
  3824 000024D0 85 DB                           	TEST	EBX,EBX
  3825 000024D2 7E 16                           	JLE	L661
  3826 000024D4 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
  3827 000024D7 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
  3828 000024DA 01 F9                           	ADD	ECX,EDI
  3829 000024DC 8D 14 30                        	LEA	EDX,DWORD [EAX+ESI*1]
  3830 000024DF 89 DE                           	MOV	ESI,EBX
  3831 000024E1                                 L645:
  3832 000024E1 8A 02                           	MOV	AL,BYTE [EDX]
  3833 000024E3 42                              	INC	EDX
  3834 000024E4 88 01                           	MOV	BYTE [ECX],AL
  3835 000024E6 41                              	INC	ECX
  3836 000024E7 4E                              	DEC	ESI
  3837 000024E8 75 F7                           	JNE	L645
  3838 000024EA                                 L661:
  3839 000024EA 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  3840 000024ED BE 000000FF                     	MOV	ESI,255
  3841 000024F2 83 C0 30                        	ADD	EAX,48
  3842 000024F5 50                              	PUSH	EAX
  3843 000024F6 6A 0C                           	PUSH	12
  3844 000024F8 FF 75 C0                        	PUSH	DWORD [-64+EBP]
  3845 000024FB 6A 04                           	PUSH	4
  3846 000024FD 6A 1B                           	PUSH	27
  3847 000024FF E8 [00000000]                   	CALL	_start_app
  3848 00002504 8B 1D 00000FE4                  	MOV	EBX,DWORD [4068]
  3849 0000250A 83 C4 14                        	ADD	ESP,20
  3850 0000250D 81 C3 00000414                  	ADD	EBX,1044
  3851 00002513                                 L651:
  3852 00002513 8B 43 1C                        	MOV	EAX,DWORD [28+EBX]
  3853 00002516 83 E0 11                        	AND	EAX,17
  3854 00002519 83 F8 11                        	CMP	EAX,17
  3855 0000251C 74 7A                           	JE	L669
  3856 0000251E                                 L648:
  3857 0000251E 83 C3 28                        	ADD	EBX,40
  3858 00002521 4E                              	DEC	ESI
  3859 00002522 79 EF                           	JNS	L651
  3860 00002524 31 DB                           	XOR	EBX,EBX
  3861 00002526 BE 00000007                     	MOV	ESI,7
  3862 0000252B                                 L657:
  3863 0000252B 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  3864 0000252E 8B 82 000000B0                  	MOV	EAX,DWORD [176+EDX]
  3865 00002534 83 3C 18 00                     	CMP	DWORD [EAX+EBX*1],0
  3866 00002538 75 32                           	JNE	L670
  3867 0000253A                                 L654:
  3868 0000253A 83 C3 0C                        	ADD	EBX,12
  3869 0000253D 4E                              	DEC	ESI
  3870 0000253E 79 EB                           	JNS	L657
  3871 00002540 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  3872 00002543 83 C0 10                        	ADD	EAX,16
  3873 00002546 50                              	PUSH	EAX
  3874 00002547 E8 [00000000]                   	CALL	_timer_cancelall
  3875 0000254C FF 75 C4                        	PUSH	DWORD [-60+EBP]
  3876 0000254F 57                              	PUSH	EDI
  3877 00002550 68 003C0000                     	PUSH	3932160
  3878 00002555 E8 [00000000]                   	CALL	_memman_free_4k
  3879 0000255A 83 C4 10                        	ADD	ESP,16
  3880 0000255D 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  3881 00002560 C6 80 000000BD 00               	MOV	BYTE [189+EAX],0
  3882 00002567 E9 FFFFFEDC                     	JMP	L658
  3883 0000256C                                 L670:
  3884 0000256C FF 74 18 04                     	PUSH	DWORD [4+EAX+EBX*1]
  3885 00002570 8B 82 000000B0                  	MOV	EAX,DWORD [176+EDX]
  3886 00002576 FF 34 18                        	PUSH	DWORD [EAX+EBX*1]
  3887 00002579 68 003C0000                     	PUSH	3932160
  3888 0000257E E8 [00000000]                   	CALL	_memman_free_4k
  3889 00002583 83 C4 0C                        	ADD	ESP,12
  3890 00002586 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  3891 00002589 8B 82 000000B0                  	MOV	EAX,DWORD [176+EDX]
  3892 0000258F C7 04 18 00000000               	MOV	DWORD [EAX+EBX*1],0
  3893 00002596 EB A2                           	JMP	L654
  3894 00002598                                 L669:
  3895 00002598 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  3896 0000259B 39 53 24                        	CMP	DWORD [36+EBX],EDX
  3897 0000259E 0F 85 FFFFFF7A                  	JNE	L648
  3898 000025A4 53                              	PUSH	EBX
  3899 000025A5 E8 [00000000]                   	CALL	_sheet_free
  3900 000025AA 59                              	POP	ECX
  3901 000025AB E9 FFFFFF6E                     	JMP	L648
  3902 000025B0                                 L667:
  3903 000025B0 80 7C 35 D3 2E                  	CMP	BYTE [-45+EBP+ESI*1],46
  3904 000025B5 74 2E                           	JE	L638
  3905 000025B7 68 000000E0                     	PUSH	224
  3906 000025BC 68 00102600                     	PUSH	1058304
  3907 000025C1 53                              	PUSH	EBX
  3908 000025C2 C6 44 35 D4 2E                  	MOV	BYTE [-44+EBP+ESI*1],46
  3909 000025C7 C6 44 35 D5 48                  	MOV	BYTE [-43+EBP+ESI*1],72
  3910 000025CC C6 44 35 D6 52                  	MOV	BYTE [-42+EBP+ESI*1],82
  3911 000025D1 C6 44 35 D7 42                  	MOV	BYTE [-41+EBP+ESI*1],66
  3912 000025D6 C6 44 35 D8 00                  	MOV	BYTE [-40+EBP+ESI*1],0
  3913 000025DB E8 [00000000]                   	CALL	_file_search
  3914 000025E0 83 C4 0C                        	ADD	ESP,12
  3915 000025E3 89 C2                           	MOV	EDX,EAX
  3916 000025E5                                 L638:
  3917 000025E5 85 D2                           	TEST	EDX,EDX
  3918 000025E7 0F 85 FFFFFE0D                  	JNE	L666
  3919 000025ED 31 C0                           	XOR	EAX,EAX
  3920 000025EF E9 FFFFFE71                     	JMP	L631
  3921 000025F4                                 	GLOBAL	_hrb_api
  3922 000025F4                                 _hrb_api:
  3923 000025F4 55                              	PUSH	EBP
  3924 000025F5 89 E5                           	MOV	EBP,ESP
  3925 000025F7 57                              	PUSH	EDI
  3926 000025F8 56                              	PUSH	ESI
  3927 000025F9 53                              	PUSH	EBX
  3928 000025FA 83 EC 18                        	SUB	ESP,24
  3929 000025FD 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
  3930 00002600 8B 7D 20                        	MOV	EDI,DWORD [32+EBP]
  3931 00002603 E8 [00000000]                   	CALL	_task_now
  3932 00002608 8B 0D 00000FE4                  	MOV	ECX,DWORD [4068]
  3933 0000260E 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  3934 00002611 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  3935 00002614 8B 80 000000A8                  	MOV	EAX,DWORD [168+EAX]
  3936 0000261A 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  3937 0000261D 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
  3938 00002620 A1 00000FEC                     	MOV	EAX,DWORD [4076]
  3939 00002625 89 45 E0                        	MOV	DWORD [-32+EBP],EAX
  3940 00002628 8B 9A 000000A4                  	MOV	EBX,DWORD [164+EDX]
  3941 0000262E 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
  3942 00002631 48                              	DEC	EAX
  3943 00002632 83 F8 1D                        	CMP	EAX,29
  3944 00002635 77 17                           	JA	L672
  3945 00002637 FF 24 85 [000009F0]             	JMP	DWORD [L754+EAX*4]
  3946                                          [SECTION .data]
  3947 000009EF 00                              	ALIGNB	4
  3948 000009F0                                 L754:
  3949 000009F0 [0000263E]                      	DD	L673
  3950 000009F4 [00002658]                      	DD	L674
  3951 000009F8 [00002669]                      	DD	L675
  3952 000009FC [00002679]                      	DD	L676
  3953 00000A00 [00002681]                      	DD	L677
  3954 00000A04 [00002707]                      	DD	L678
  3955 00000A08 [0000275B]                      	DD	L680
  3956 00000A0C [000027A1]                      	DD	L682
  3957 00000A10 [000027C2]                      	DD	L683
  3958 00000A14 [000027DD]                      	DD	L684
  3959 00000A18 [000027F8]                      	DD	L685
  3960 00000A1C [00002836]                      	DD	L687
  3961 00000A20 [00002848]                      	DD	L688
  3962 00000A24 [00002899]                      	DD	L692
  3963 00000A28 [000028A7]                      	DD	L694
  3964 00000A2C [00002991]                      	DD	L705
  3965 00000A30 [000029A2]                      	DD	L706
  3966 00000A34 [000029BF]                      	DD	L707
  3967 00000A38 [000029CF]                      	DD	L708
  3968 00000A3C [000029DC]                      	DD	L709
  3969 00000A40 [00002A4F]                      	DD	L712
  3970 00000A44 [00002AD2]                      	DD	L721
  3971 00000A48 [00002AEF]                      	DD	L722
  3972 00000A4C [00002B39]                      	DD	L730
  3973 00000A50 [00002B69]                      	DD	L736
  3974 00000A54 [00002B98]                      	DD	L743
  3975 00000A58 [00002BC2]                      	DD	L749
  3976 00000A5C [0000264E]                      	DD	L672
  3977 00000A60 [0000264E]                      	DD	L672
  3978 00000A64 [0000264E]                      	DD	L672
  3979                                          [SECTION .text]
  3980 0000263E                                 L673:
  3981 0000263E 6A 01                           	PUSH	1
  3982 00002640 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  3983 00002644 50                              	PUSH	EAX
  3984 00002645 53                              	PUSH	EBX
  3985 00002646 E8 FFFFDD5F                     	CALL	_cons_putchar
  3986 0000264B                                 L759:
  3987 0000264B 83 C4 0C                        	ADD	ESP,12
  3988 0000264E                                 L672:
  3989 0000264E 31 C0                           	XOR	EAX,EAX
  3990 00002650                                 L671:
  3991 00002650 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  3992 00002653 5B                              	POP	EBX
  3993 00002654 5E                              	POP	ESI
  3994 00002655 5F                              	POP	EDI
  3995 00002656 5D                              	POP	EBP
  3996 00002657 C3                              	RET
  3997 00002658                                 L674:
  3998 00002658 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  3999 0000265B 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
  4000 0000265E 50                              	PUSH	EAX
  4001 0000265F 53                              	PUSH	EBX
  4002 00002660 E8 FFFFDF53                     	CALL	_cons_putstr0
  4003 00002665                                 L762:
  4004 00002665 5E                              	POP	ESI
  4005 00002666 5F                              	POP	EDI
  4006 00002667 EB E5                           	JMP	L672
  4007 00002669                                 L675:
  4008 00002669 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4009 0000266C 57                              	PUSH	EDI
  4010 0000266D 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
  4011 00002670 50                              	PUSH	EAX
  4012 00002671 53                              	PUSH	EBX
  4013 00002672 E8 FFFFDF6F                     	CALL	_cons_putstr1
  4014 00002677 EB D2                           	JMP	L759
  4015 00002679                                 L676:
  4016 00002679 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  4017 0000267C 83 C0 30                        	ADD	EAX,48
  4018 0000267F EB CF                           	JMP	L671
  4019 00002681                                 L677:
  4020 00002681 FF 75 E8                        	PUSH	DWORD [-24+EBP]
  4021 00002684 E8 [00000000]                   	CALL	_sheet_alloc
  4022 00002689 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  4023 0000268C 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
  4024 0000268F 03 5D EC                        	ADD	EBX,DWORD [-20+EBP]
  4025 00002692 89 50 24                        	MOV	DWORD [36+EAX],EDX
  4026 00002695 83 48 1C 10                     	OR	DWORD [28+EAX],16
  4027 00002699 FF 75 24                        	PUSH	DWORD [36+EBP]
  4028 0000269C FF 75 08                        	PUSH	DWORD [8+EBP]
  4029 0000269F FF 75 0C                        	PUSH	DWORD [12+EBP]
  4030 000026A2 53                              	PUSH	EBX
  4031 000026A3 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
  4032 000026A6 50                              	PUSH	EAX
  4033 000026A7 E8 [00000000]                   	CALL	_sheet_setbuf
  4034 000026AC 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  4035 000026AF 6A 00                           	PUSH	0
  4036 000026B1 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
  4037 000026B4 50                              	PUSH	EAX
  4038 000026B5 FF 75 08                        	PUSH	DWORD [8+EBP]
  4039 000026B8 FF 75 0C                        	PUSH	DWORD [12+EBP]
  4040 000026BB 53                              	PUSH	EBX
  4041 000026BC BB 00000002                     	MOV	EBX,2
  4042 000026C1 E8 [00000000]                   	CALL	_make_window8
  4043 000026C6 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
  4044 000026C9 83 C4 2C                        	ADD	ESP,44
  4045 000026CC 8B 41 0C                        	MOV	EAX,DWORD [12+ECX]
  4046 000026CF 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  4047 000026D2 99                              	CDQ
  4048 000026D3 F7 FB                           	IDIV	EBX
  4049 000026D5 50                              	PUSH	EAX
  4050 000026D6 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  4051 000026D9 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  4052 000026DC 99                              	CDQ
  4053 000026DD F7 FB                           	IDIV	EBX
  4054 000026DF 83 E0 FC                        	AND	EAX,-4
  4055 000026E2 50                              	PUSH	EAX
  4056 000026E3 FF 75 E4                        	PUSH	DWORD [-28+EBP]
  4057 000026E6 E8 [00000000]                   	CALL	_sheet_slide
  4058 000026EB 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
  4059 000026EE FF 71 10                        	PUSH	DWORD [16+ECX]
  4060 000026F1 FF 75 E4                        	PUSH	DWORD [-28+EBP]
  4061 000026F4 E8 [00000000]                   	CALL	_sheet_updown
  4062 000026F9 8B 5D E4                        	MOV	EBX,DWORD [-28+EBP]
  4063 000026FC 89 5D 44                        	MOV	DWORD [68+EBP],EBX
  4064 000026FF                                 L763:
  4065 000026FF 83 C4 14                        	ADD	ESP,20
  4066 00002702 E9 FFFFFF47                     	JMP	L672
  4067 00002707                                 L678:
  4068 00002707 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4069 0000270A 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  4070 0000270D 83 E0 FE                        	AND	EAX,-2
  4071 00002710 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
  4072 00002713 8D 04 32                        	LEA	EAX,DWORD [EDX+ESI*1]
  4073 00002716 50                              	PUSH	EAX
  4074 00002717 8B 4D E4                        	MOV	ECX,DWORD [-28+EBP]
  4075 0000271A 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  4076 0000271E 50                              	PUSH	EAX
  4077 0000271F FF 75 08                        	PUSH	DWORD [8+EBP]
  4078 00002722 FF 75 0C                        	PUSH	DWORD [12+EBP]
  4079 00002725 FF 71 04                        	PUSH	DWORD [4+ECX]
  4080 00002728 FF 31                           	PUSH	DWORD [ECX]
  4081 0000272A E8 [00000000]                   	CALL	_putfonts8_asc
  4082 0000272F 83 C4 18                        	ADD	ESP,24
  4083 00002732 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  4084 00002739 0F 85 FFFFFF0F                  	JNE	L672
  4085 0000273F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  4086 00002742 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  4087 00002745 83 C0 10                        	ADD	EAX,16
  4088 00002748 50                              	PUSH	EAX
  4089 00002749 8D 04 FB                        	LEA	EAX,DWORD [EBX+EDI*8]
  4090 0000274C 50                              	PUSH	EAX
  4091 0000274D FF 75 08                        	PUSH	DWORD [8+EBP]
  4092 00002750 53                              	PUSH	EBX
  4093 00002751                                 L764:
  4094 00002751 FF 75 E4                        	PUSH	DWORD [-28+EBP]
  4095 00002754                                 L761:
  4096 00002754 E8 [00000000]                   	CALL	_sheet_refresh
  4097 00002759 EB A4                           	JMP	L763
  4098 0000275B                                 L680:
  4099 0000275B FF 75 08                        	PUSH	DWORD [8+EBP]
  4100 0000275E 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4101 00002761 89 F2                           	MOV	EDX,ESI
  4102 00002763 FF 75 0C                        	PUSH	DWORD [12+EBP]
  4103 00002766 83 E0 FE                        	AND	EAX,-2
  4104 00002769 57                              	PUSH	EDI
  4105 0000276A 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
  4106 0000276D FF 75 24                        	PUSH	DWORD [36+EBP]
  4107 00002770 8B 4D E4                        	MOV	ECX,DWORD [-28+EBP]
  4108 00002773 0F B6 C2                        	MOVZX	EAX,DL
  4109 00002776 50                              	PUSH	EAX
  4110 00002777 FF 71 04                        	PUSH	DWORD [4+ECX]
  4111 0000277A FF 31                           	PUSH	DWORD [ECX]
  4112 0000277C E8 [00000000]                   	CALL	_boxfill8
  4113 00002781 83 C4 1C                        	ADD	ESP,28
  4114 00002784 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  4115 0000278B 0F 85 FFFFFEBD                  	JNE	L672
  4116 00002791                                 L691:
  4117 00002791 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  4118 00002794 40                              	INC	EAX
  4119 00002795 50                              	PUSH	EAX
  4120 00002796 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  4121 00002799 40                              	INC	EAX
  4122 0000279A 50                              	PUSH	EAX
  4123 0000279B 57                              	PUSH	EDI
  4124 0000279C FF 75 24                        	PUSH	DWORD [36+EBP]
  4125 0000279F EB B0                           	JMP	L764
  4126 000027A1                                 L682:
  4127 000027A1 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  4128 000027A4 83 E7 F0                        	AND	EDI,-16
  4129 000027A7 03 5D EC                        	ADD	EBX,DWORD [-20+EBP]
  4130 000027AA 53                              	PUSH	EBX
  4131 000027AB E8 [00000000]                   	CALL	_memman_init
  4132 000027B0 57                              	PUSH	EDI
  4133 000027B1 FF 75 24                        	PUSH	DWORD [36+EBP]
  4134 000027B4 53                              	PUSH	EBX
  4135 000027B5 E8 [00000000]                   	CALL	_memman_free
  4136 000027BA 83 C4 10                        	ADD	ESP,16
  4137 000027BD E9 FFFFFE8C                     	JMP	L672
  4138 000027C2                                 L683:
  4139 000027C2 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
  4140 000027C5 83 E0 F0                        	AND	EAX,-16
  4141 000027C8 50                              	PUSH	EAX
  4142 000027C9 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4143 000027CC 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
  4144 000027CF 50                              	PUSH	EAX
  4145 000027D0 E8 [00000000]                   	CALL	_memman_alloc
  4146 000027D5 89 45 44                        	MOV	DWORD [68+EBP],EAX
  4147 000027D8 E9 FFFFFE88                     	JMP	L762
  4148 000027DD                                 L684:
  4149 000027DD 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
  4150 000027E0 83 E0 F0                        	AND	EAX,-16
  4151 000027E3 50                              	PUSH	EAX
  4152 000027E4 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4153 000027E7 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
  4154 000027EA FF 75 24                        	PUSH	DWORD [36+EBP]
  4155 000027ED 50                              	PUSH	EAX
  4156 000027EE E8 [00000000]                   	CALL	_memman_free
  4157 000027F3 E9 FFFFFE53                     	JMP	L759
  4158 000027F8                                 L685:
  4159 000027F8 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  4160 000027FB 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  4161 000027FE 83 E3 FE                        	AND	EBX,-2
  4162 00002801 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  4163 00002804 89 5D E4                        	MOV	DWORD [-28+EBP],EBX
  4164 00002807 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
  4165 0000280B 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  4166 0000280E 8B 0B                           	MOV	ECX,DWORD [EBX]
  4167 00002810 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  4168 00002813 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  4169 0000281A 0F 85 FFFFFE2E                  	JNE	L672
  4170 00002820 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  4171 00002823 40                              	INC	EAX
  4172 00002824 50                              	PUSH	EAX
  4173 00002825 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  4174 00002828 40                              	INC	EAX
  4175 00002829 50                              	PUSH	EAX
  4176 0000282A FF 75 08                        	PUSH	DWORD [8+EBP]
  4177 0000282D FF 75 0C                        	PUSH	DWORD [12+EBP]
  4178 00002830 53                              	PUSH	EBX
  4179 00002831 E9 FFFFFF1E                     	JMP	L761
  4180 00002836                                 L687:
  4181 00002836 FF 75 08                        	PUSH	DWORD [8+EBP]
  4182 00002839 FF 75 0C                        	PUSH	DWORD [12+EBP]
  4183 0000283C 57                              	PUSH	EDI
  4184 0000283D FF 75 24                        	PUSH	DWORD [36+EBP]
  4185 00002840 FF 75 18                        	PUSH	DWORD [24+EBP]
  4186 00002843 E9 FFFFFF0C                     	JMP	L761
  4187 00002848                                 L688:
  4188 00002848 56                              	PUSH	ESI
  4189 00002849 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4190 0000284C FF 75 08                        	PUSH	DWORD [8+EBP]
  4191 0000284F FF 75 0C                        	PUSH	DWORD [12+EBP]
  4192 00002852 57                              	PUSH	EDI
  4193 00002853 83 E0 FE                        	AND	EAX,-2
  4194 00002856 FF 75 24                        	PUSH	DWORD [36+EBP]
  4195 00002859 50                              	PUSH	EAX
  4196 0000285A 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
  4197 0000285D E8 00000401                     	CALL	_hrb_api_linewin
  4198 00002862 83 C4 18                        	ADD	ESP,24
  4199 00002865 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  4200 0000286C 0F 85 FFFFFDDC                  	JNE	L672
  4201 00002872 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  4202 00002875 3B 45 0C                        	CMP	EAX,DWORD [12+EBP]
  4203 00002878 7E 09                           	JLE	L690
  4204 0000287A 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  4205 0000287D 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  4206 00002880 89 55 24                        	MOV	DWORD [36+EBP],EDX
  4207 00002883                                 L690:
  4208 00002883 3B 7D 08                        	CMP	EDI,DWORD [8+EBP]
  4209 00002886 0F 8E FFFFFF05                  	JLE	L691
  4210 0000288C 89 FE                           	MOV	ESI,EDI
  4211 0000288E 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
  4212 00002891 89 75 08                        	MOV	DWORD [8+EBP],ESI
  4213 00002894 E9 FFFFFEF8                     	JMP	L691
  4214 00002899                                 L692:
  4215 00002899 FF 75 18                        	PUSH	DWORD [24+EBP]
  4216 0000289C E8 [00000000]                   	CALL	_sheet_free
  4217 000028A1                                 L760:
  4218 000028A1 5B                              	POP	EBX
  4219 000028A2 E9 FFFFFDA7                     	JMP	L672
  4220 000028A7                                 L694:
  4221 000028A7 E8 [00000000]                   	CALL	_io_cli
  4222 000028AC 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  4223 000028AF 83 C0 10                        	ADD	EAX,16
  4224 000028B2 50                              	PUSH	EAX
  4225 000028B3 E8 [00000000]                   	CALL	_fifo32_status
  4226 000028B8 5A                              	POP	EDX
  4227 000028B9 85 C0                           	TEST	EAX,EAX
  4228 000028BB 75 13                           	JNE	L697
  4229 000028BD 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  4230 000028C1 0F 84 000000B9                  	JE	L698
  4231 000028C7 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  4232 000028CA E8 [00000000]                   	CALL	_task_sleep
  4233 000028CF 58                              	POP	EAX
  4234 000028D0                                 L697:
  4235 000028D0 8B 7D F0                        	MOV	EDI,DWORD [-16+EBP]
  4236 000028D3 83 C7 10                        	ADD	EDI,16
  4237 000028D6 57                              	PUSH	EDI
  4238 000028D7 E8 [00000000]                   	CALL	_fifo32_get
  4239 000028DC 89 C6                           	MOV	ESI,EAX
  4240 000028DE E8 [00000000]                   	CALL	_io_sti
  4241 000028E3 58                              	POP	EAX
  4242 000028E4 83 FE 01                        	CMP	ESI,1
  4243 000028E7 7E 75                           	JLE	L765
  4244 000028E9                                 L700:
  4245 000028E9 83 FE 02                        	CMP	ESI,2
  4246 000028EC 74 67                           	JE	L766
  4247 000028EE                                 L701:
  4248 000028EE 83 FE 03                        	CMP	ESI,3
  4249 000028F1 74 59                           	JE	L767
  4250 000028F3                                 L702:
  4251 000028F3 83 FE 04                        	CMP	ESI,4
  4252 000028F6 74 16                           	JE	L768
  4253 000028F8                                 L703:
  4254 000028F8 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
  4255 000028FE 81 FE 000000FF                  	CMP	ESI,255
  4256 00002904 7E A1                           	JLE	L694
  4257 00002906                                 L758:
  4258 00002906 89 45 44                        	MOV	DWORD [68+EBP],EAX
  4259 00002909 E9 FFFFFD40                     	JMP	L672
  4260 0000290E                                 L768:
  4261 0000290E FF 73 10                        	PUSH	DWORD [16+EBX]
  4262 00002911 E8 [00000000]                   	CALL	_timer_cancel
  4263 00002916 E8 [00000000]                   	CALL	_io_cli
  4264 0000291B 8B 03                           	MOV	EAX,DWORD [EBX]
  4265 0000291D 2B 45 E8                        	SUB	EAX,DWORD [-24+EBP]
  4266 00002920 2D 00000414                     	SUB	EAX,1044
  4267 00002925 C1 F8 03                        	SAR	EAX,3
  4268 00002928 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  4269 0000292E 05 000007E8                     	ADD	EAX,2024
  4270 00002933 50                              	PUSH	EAX
  4271 00002934 FF 75 E0                        	PUSH	DWORD [-32+EBP]
  4272 00002937 E8 [00000000]                   	CALL	_fifo32_put
  4273 0000293C C7 03 00000000                  	MOV	DWORD [EBX],0
  4274 00002942 E8 [00000000]                   	CALL	_io_sti
  4275 00002947 83 C4 0C                        	ADD	ESP,12
  4276 0000294A EB AC                           	JMP	L703
  4277 0000294C                                 L767:
  4278 0000294C C7 43 0C FFFFFFFF               	MOV	DWORD [12+EBX],-1
  4279 00002953 EB 9E                           	JMP	L702
  4280 00002955                                 L766:
  4281 00002955 C7 43 0C 00000007               	MOV	DWORD [12+EBX],7
  4282 0000295C EB 90                           	JMP	L701
  4283 0000295E                                 L765:
  4284 0000295E 83 3B 00                        	CMP	DWORD [EBX],0
  4285 00002961 74 86                           	JE	L700
  4286 00002963 6A 01                           	PUSH	1
  4287 00002965 57                              	PUSH	EDI
  4288 00002966 FF 73 10                        	PUSH	DWORD [16+EBX]
  4289 00002969 E8 [00000000]                   	CALL	_timer_init
  4290 0000296E 6A 32                           	PUSH	50
  4291 00002970 FF 73 10                        	PUSH	DWORD [16+EBX]
  4292 00002973 E8 [00000000]                   	CALL	_timer_settime
  4293 00002978 83 C4 14                        	ADD	ESP,20
  4294 0000297B E9 FFFFFF69                     	JMP	L700
  4295 00002980                                 L698:
  4296 00002980 E8 [00000000]                   	CALL	_io_sti
  4297 00002985 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  4298 0000298C E9 FFFFFCBD                     	JMP	L672
  4299 00002991                                 L705:
  4300 00002991 E8 [00000000]                   	CALL	_timer_alloc
  4301 00002996 89 45 44                        	MOV	DWORD [68+EBP],EAX
  4302 00002999 C6 40 09 01                     	MOV	BYTE [9+EAX],1
  4303 0000299D E9 FFFFFCAC                     	JMP	L672
  4304 000029A2                                 L706:
  4305 000029A2 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  4306 000029A5 05 00000100                     	ADD	EAX,256
  4307 000029AA 50                              	PUSH	EAX
  4308 000029AB 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  4309 000029AE 83 C0 10                        	ADD	EAX,16
  4310 000029B1 50                              	PUSH	EAX
  4311 000029B2 FF 75 18                        	PUSH	DWORD [24+EBP]
  4312 000029B5 E8 [00000000]                   	CALL	_timer_init
  4313 000029BA E9 FFFFFC8C                     	JMP	L759
  4314 000029BF                                 L707:
  4315 000029BF FF 75 24                        	PUSH	DWORD [36+EBP]
  4316 000029C2 FF 75 18                        	PUSH	DWORD [24+EBP]
  4317 000029C5 E8 [00000000]                   	CALL	_timer_settime
  4318 000029CA E9 FFFFFC96                     	JMP	L762
  4319 000029CF                                 L708:
  4320 000029CF FF 75 18                        	PUSH	DWORD [24+EBP]
  4321 000029D2 E8 [00000000]                   	CALL	_timer_free
  4322 000029D7 E9 FFFFFEC5                     	JMP	L760
  4323 000029DC                                 L709:
  4324 000029DC 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  4325 000029DF 85 D2                           	TEST	EDX,EDX
  4326 000029E1 75 19                           	JNE	L710
  4327 000029E3 6A 61                           	PUSH	97
  4328 000029E5 E8 [00000000]                   	CALL	_io_in8
  4329 000029EA 89 C6                           	MOV	ESI,EAX
  4330 000029EC 83 E6 0D                        	AND	ESI,13
  4331 000029EF 56                              	PUSH	ESI
  4332 000029F0 6A 61                           	PUSH	97
  4333 000029F2 E8 [00000000]                   	CALL	_io_out8
  4334 000029F7 E9 FFFFFC4F                     	JMP	L759
  4335 000029FC                                 L710:
  4336 000029FC B9 471E7B60                     	MOV	ECX,1193180000
  4337 00002A01 89 D3                           	MOV	EBX,EDX
  4338 00002A03 89 C8                           	MOV	EAX,ECX
  4339 00002A05 68 000000B6                     	PUSH	182
  4340 00002A0A 99                              	CDQ
  4341 00002A0B F7 FB                           	IDIV	EBX
  4342 00002A0D 6A 43                           	PUSH	67
  4343 00002A0F 89 C6                           	MOV	ESI,EAX
  4344 00002A11 E8 [00000000]                   	CALL	_io_out8
  4345 00002A16 89 F0                           	MOV	EAX,ESI
  4346 00002A18 C1 FE 08                        	SAR	ESI,8
  4347 00002A1B 25 000000FF                     	AND	EAX,255
  4348 00002A20 50                              	PUSH	EAX
  4349 00002A21 6A 42                           	PUSH	66
  4350 00002A23 E8 [00000000]                   	CALL	_io_out8
  4351 00002A28 56                              	PUSH	ESI
  4352 00002A29 6A 42                           	PUSH	66
  4353 00002A2B E8 [00000000]                   	CALL	_io_out8
  4354 00002A30 6A 61                           	PUSH	97
  4355 00002A32 E8 [00000000]                   	CALL	_io_in8
  4356 00002A37 89 C6                           	MOV	ESI,EAX
  4357 00002A39 83 CE 03                        	OR	ESI,3
  4358 00002A3C 83 E6 0F                        	AND	ESI,15
  4359 00002A3F 56                              	PUSH	ESI
  4360 00002A40 6A 61                           	PUSH	97
  4361 00002A42 E8 [00000000]                   	CALL	_io_out8
  4362 00002A47 83 C4 24                        	ADD	ESP,36
  4363 00002A4A E9 FFFFFBFF                     	JMP	L672
  4364 00002A4F                                 L712:
  4365 00002A4F 31 F6                           	XOR	ESI,ESI
  4366 00002A51 31 C0                           	XOR	EAX,EAX
  4367 00002A53                                 L718:
  4368 00002A53 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  4369 00002A56 8B 91 000000B0                  	MOV	EDX,DWORD [176+ECX]
  4370 00002A5C 83 3C 02 00                     	CMP	DWORD [EDX+EAX*1],0
  4371 00002A60 74 09                           	JE	L714
  4372 00002A62 46                              	INC	ESI
  4373 00002A63 83 C0 0C                        	ADD	EAX,12
  4374 00002A66 83 FE 07                        	CMP	ESI,7
  4375 00002A69 7E E8                           	JLE	L718
  4376 00002A6B                                 L714:
  4377 00002A6B 6B C6 0C                        	IMUL	EAX,ESI,12
  4378 00002A6E C7 45 44 00000000               	MOV	DWORD [68+EBP],0
  4379 00002A75 8D 1C 10                        	LEA	EBX,DWORD [EAX+EDX*1]
  4380 00002A78 83 FE 07                        	CMP	ESI,7
  4381 00002A7B 0F 8F FFFFFBCD                  	JG	L672
  4382 00002A81 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4383 00002A84 68 000000E0                     	PUSH	224
  4384 00002A89 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
  4385 00002A8C 68 00102600                     	PUSH	1058304
  4386 00002A91 50                              	PUSH	EAX
  4387 00002A92 E8 [00000000]                   	CALL	_file_search
  4388 00002A97 83 C4 0C                        	ADD	ESP,12
  4389 00002A9A 89 C2                           	MOV	EDX,EAX
  4390 00002A9C 85 C0                           	TEST	EAX,EAX
  4391 00002A9E 0F 84 FFFFFBAA                  	JE	L672
  4392 00002AA4 89 5D 44                        	MOV	DWORD [68+EBP],EBX
  4393 00002AA7 8B 40 1C                        	MOV	EAX,DWORD [28+EAX]
  4394 00002AAA 89 43 04                        	MOV	DWORD [4+EBX],EAX
  4395 00002AAD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  4396 00002AB0 C7 43 08 00000000               	MOV	DWORD [8+EBX],0
  4397 00002AB7 FF B0 000000B4                  	PUSH	DWORD [180+EAX]
  4398 00002ABD 8D 43 04                        	LEA	EAX,DWORD [4+EBX]
  4399 00002AC0 50                              	PUSH	EAX
  4400 00002AC1 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  4401 00002AC5 50                              	PUSH	EAX
  4402 00002AC6 E8 [00000000]                   	CALL	_file_loadfile2
  4403 00002ACB 89 03                           	MOV	DWORD [EBX],EAX
  4404 00002ACD E9 FFFFFB79                     	JMP	L759
  4405 00002AD2                                 L721:
  4406 00002AD2 8B 5D 24                        	MOV	EBX,DWORD [36+EBP]
  4407 00002AD5 FF 73 04                        	PUSH	DWORD [4+EBX]
  4408 00002AD8 FF 33                           	PUSH	DWORD [EBX]
  4409 00002ADA 68 003C0000                     	PUSH	3932160
  4410 00002ADF E8 [00000000]                   	CALL	_memman_free_4k
  4411 00002AE4 C7 03 00000000                  	MOV	DWORD [EBX],0
  4412 00002AEA E9 FFFFFB5C                     	JMP	L759
  4413 00002AEF                                 L722:
  4414 00002AEF 8B 5D 24                        	MOV	EBX,DWORD [36+EBP]
  4415 00002AF2 85 FF                           	TEST	EDI,EDI
  4416 00002AF4 74 33                           	JE	L757
  4417 00002AF6 83 FF 01                        	CMP	EDI,1
  4418 00002AF9 74 36                           	JE	L769
  4419 00002AFB 83 FF 02                        	CMP	EDI,2
  4420 00002AFE 74 23                           	JE	L770
  4421 00002B00                                 L724:
  4422 00002B00 83 7B 08 00                     	CMP	DWORD [8+EBX],0
  4423 00002B04 78 14                           	JS	L771
  4424 00002B06                                 L728:
  4425 00002B06 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  4426 00002B09 39 43 08                        	CMP	DWORD [8+EBX],EAX
  4427 00002B0C 0F 8E FFFFFB3C                  	JLE	L672
  4428 00002B12 89 43 08                        	MOV	DWORD [8+EBX],EAX
  4429 00002B15 E9 FFFFFB34                     	JMP	L672
  4430 00002B1A                                 L771:
  4431 00002B1A C7 43 08 00000000               	MOV	DWORD [8+EBX],0
  4432 00002B21 EB E3                           	JMP	L728
  4433 00002B23                                 L770:
  4434 00002B23 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  4435 00002B26 01 45 18                        	ADD	DWORD [24+EBP],EAX
  4436 00002B29                                 L757:
  4437 00002B29 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  4438 00002B2C 89 53 08                        	MOV	DWORD [8+EBX],EDX
  4439 00002B2F EB CF                           	JMP	L724
  4440 00002B31                                 L769:
  4441 00002B31 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
  4442 00002B34 01 4B 08                        	ADD	DWORD [8+EBX],ECX
  4443 00002B37 EB C7                           	JMP	L724
  4444 00002B39                                 L730:
  4445 00002B39 8B 5D 24                        	MOV	EBX,DWORD [36+EBP]
  4446 00002B3C 85 FF                           	TEST	EDI,EDI
  4447 00002B3E 75 08                           	JNE	L731
  4448 00002B40 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
  4449 00002B43 E9 FFFFFDBE                     	JMP	L758
  4450 00002B48                                 L731:
  4451 00002B48 83 FF 01                        	CMP	EDI,1
  4452 00002B4B 74 14                           	JE	L772
  4453 00002B4D 83 FF 02                        	CMP	EDI,2
  4454 00002B50 0F 85 FFFFFAF8                  	JNE	L672
  4455 00002B56 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
  4456 00002B59 2B 43 04                        	SUB	EAX,DWORD [4+EBX]
  4457 00002B5C E9 FFFFFDA5                     	JMP	L758
  4458 00002B61                                 L772:
  4459 00002B61 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
  4460 00002B64 E9 FFFFFD9D                     	JMP	L758
  4461 00002B69                                 L736:
  4462 00002B69 31 F6                           	XOR	ESI,ESI
  4463 00002B6B 8B 5D 24                        	MOV	EBX,DWORD [36+EBP]
  4464 00002B6E 39 FE                           	CMP	ESI,EDI
  4465 00002B70 7D 1E                           	JGE	L745
  4466 00002B72                                 L742:
  4467 00002B72 8B 4B 08                        	MOV	ECX,DWORD [8+EBX]
  4468 00002B75 3B 4B 04                        	CMP	ECX,DWORD [4+EBX]
  4469 00002B78 74 16                           	JE	L745
  4470 00002B7A 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  4471 00002B7D 8B 13                           	MOV	EDX,DWORD [EBX]
  4472 00002B7F 03 45 EC                        	ADD	EAX,DWORD [-20+EBP]
  4473 00002B82 8A 14 11                        	MOV	DL,BYTE [ECX+EDX*1]
  4474 00002B85 88 14 06                        	MOV	BYTE [ESI+EAX*1],DL
  4475 00002B88 46                              	INC	ESI
  4476 00002B89 FF 43 08                        	INC	DWORD [8+EBX]
  4477 00002B8C 39 FE                           	CMP	ESI,EDI
  4478 00002B8E 7C E2                           	JL	L742
  4479 00002B90                                 L745:
  4480 00002B90 89 75 44                        	MOV	DWORD [68+EBP],ESI
  4481 00002B93 E9 FFFFFAB6                     	JMP	L672
  4482 00002B98                                 L743:
  4483 00002B98 31 F6                           	XOR	ESI,ESI
  4484 00002B9A                                 L744:
  4485 00002B9A 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  4486 00002B9D 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  4487 00002BA0 03 55 EC                        	ADD	EDX,DWORD [-20+EBP]
  4488 00002BA3 8B 81 000000B8                  	MOV	EAX,DWORD [184+ECX]
  4489 00002BA9 8A 04 06                        	MOV	AL,BYTE [ESI+EAX*1]
  4490 00002BAC 88 04 16                        	MOV	BYTE [ESI+EDX*1],AL
  4491 00002BAF 8B 81 000000B8                  	MOV	EAX,DWORD [184+ECX]
  4492 00002BB5 80 3C 06 00                     	CMP	BYTE [ESI+EAX*1],0
  4493 00002BB9 74 D5                           	JE	L745
  4494 00002BBB 39 FE                           	CMP	ESI,EDI
  4495 00002BBD 7D D1                           	JGE	L745
  4496 00002BBF 46                              	INC	ESI
  4497 00002BC0 EB D8                           	JMP	L744
  4498 00002BC2                                 L749:
  4499 00002BC2 8B 5D F0                        	MOV	EBX,DWORD [-16+EBP]
  4500 00002BC5 0F B6 83 000000BC               	MOVZX	EAX,BYTE [188+EBX]
  4501 00002BCC E9 FFFFFD35                     	JMP	L758
  4502                                          [SECTION .data]
  4503 00000A68                                 LC127:
  4504 00000A68 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       00000A72 20 53 74 61 63 6B 20 45 78 63 
       00000A7C 65 70 74 69 6F 6E 2E 0A 00 
  4505 00000A85                                 LC128:
  4506 00000A85 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       00000A8F 0A 00 
  4507                                          [SECTION .text]
  4508 00002BD1                                 	GLOBAL	_inthandler0c
  4509 00002BD1                                 _inthandler0c:
  4510 00002BD1 55                              	PUSH	EBP
  4511 00002BD2 89 E5                           	MOV	EBP,ESP
  4512 00002BD4 57                              	PUSH	EDI
  4513 00002BD5 56                              	PUSH	ESI
  4514 00002BD6 53                              	PUSH	EBX
  4515 00002BD7 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  4516 00002BDA 83 EC 20                        	SUB	ESP,32
  4517 00002BDD E8 [00000000]                   	CALL	_task_now
  4518 00002BE2 89 C6                           	MOV	ESI,EAX
  4519 00002BE4 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  4520 00002BEA 83 C6 30                        	ADD	ESI,48
  4521 00002BED 68 [00000A68]                   	PUSH	LC127
  4522 00002BF2 57                              	PUSH	EDI
  4523 00002BF3 E8 FFFFD9C0                     	CALL	_cons_putstr0
  4524 00002BF8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  4525 00002BFB FF 70 2C                        	PUSH	DWORD [44+EAX]
  4526 00002BFE 68 [00000A85]                   	PUSH	LC128
  4527 00002C03 53                              	PUSH	EBX
  4528 00002C04 E8 [00000000]                   	CALL	_sprintf
  4529 00002C09 53                              	PUSH	EBX
  4530 00002C0A 57                              	PUSH	EDI
  4531 00002C0B E8 FFFFD9A8                     	CALL	_cons_putstr0
  4532 00002C10 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  4533 00002C13 5B                              	POP	EBX
  4534 00002C14 89 F0                           	MOV	EAX,ESI
  4535 00002C16 5E                              	POP	ESI
  4536 00002C17 5F                              	POP	EDI
  4537 00002C18 5D                              	POP	EBP
  4538 00002C19 C3                              	RET
  4539                                          [SECTION .data]
  4540 00000A91                                 LC129:
  4541 00000A91 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       00000A9B 20 47 65 6E 65 72 61 6C 20 50 
       00000AA5 72 6F 74 65 63 74 65 64 20 45 
       00000AAF 78 63 65 70 74 69 6F 6E 2E 0A 
       00000AB9 00 
  4542                                          [SECTION .text]
  4543 00002C1A                                 	GLOBAL	_inthandler0d
  4544 00002C1A                                 _inthandler0d:
  4545 00002C1A 55                              	PUSH	EBP
  4546 00002C1B 89 E5                           	MOV	EBP,ESP
  4547 00002C1D 57                              	PUSH	EDI
  4548 00002C1E 56                              	PUSH	ESI
  4549 00002C1F 53                              	PUSH	EBX
  4550 00002C20 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  4551 00002C23 83 EC 20                        	SUB	ESP,32
  4552 00002C26 E8 [00000000]                   	CALL	_task_now
  4553 00002C2B 89 C6                           	MOV	ESI,EAX
  4554 00002C2D 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  4555 00002C33 83 C6 30                        	ADD	ESI,48
  4556 00002C36 68 [00000A91]                   	PUSH	LC129
  4557 00002C3B 57                              	PUSH	EDI
  4558 00002C3C E8 FFFFD977                     	CALL	_cons_putstr0
  4559 00002C41 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  4560 00002C44 FF 70 2C                        	PUSH	DWORD [44+EAX]
  4561 00002C47 68 [00000A85]                   	PUSH	LC128
  4562 00002C4C 53                              	PUSH	EBX
  4563 00002C4D E8 [00000000]                   	CALL	_sprintf
  4564 00002C52 53                              	PUSH	EBX
  4565 00002C53 57                              	PUSH	EDI
  4566 00002C54 E8 FFFFD95F                     	CALL	_cons_putstr0
  4567 00002C59 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  4568 00002C5C 5B                              	POP	EBX
  4569 00002C5D 89 F0                           	MOV	EAX,ESI
  4570 00002C5F 5E                              	POP	ESI
  4571 00002C60 5F                              	POP	EDI
  4572 00002C61 5D                              	POP	EBP
  4573 00002C62 C3                              	RET
  4574 00002C63                                 	GLOBAL	_hrb_api_linewin
  4575 00002C63                                 _hrb_api_linewin:
  4576 00002C63 55                              	PUSH	EBP
  4577 00002C64 89 E5                           	MOV	EBP,ESP
  4578 00002C66 57                              	PUSH	EDI
  4579 00002C67 56                              	PUSH	ESI
  4580 00002C68 53                              	PUSH	EBX
  4581 00002C69 83 EC 0C                        	SUB	ESP,12
  4582 00002C6C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  4583 00002C6F 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  4584 00002C72 89 D9                           	MOV	ECX,EBX
  4585 00002C74 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  4586 00002C77 C1 E1 0A                        	SAL	ECX,10
  4587 00002C7A 89 D7                           	MOV	EDI,EDX
  4588 00002C7C 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  4589 00002C7F 89 C6                           	MOV	ESI,EAX
  4590 00002C81 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  4591 00002C84 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  4592 00002C87 C1 E1 0A                        	SAL	ECX,10
  4593 00002C8A 29 DE                           	SUB	ESI,EBX
  4594 00002C8C 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  4595 00002C8F 0F 88 000000A3                  	JS	L797
  4596 00002C95                                 L776:
  4597 00002C95 85 FF                           	TEST	EDI,EDI
  4598 00002C97 0F 88 00000094                  	JS	L798
  4599 00002C9D                                 L777:
  4600 00002C9D 39 FE                           	CMP	ESI,EDI
  4601 00002C9F 7C 62                           	JL	L778
  4602 00002CA1 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  4603 00002CA4 39 C3                           	CMP	EBX,EAX
  4604 00002CA6 BE FFFFFC00                     	MOV	ESI,-1024
  4605 00002CAB 7F 05                           	JG	L780
  4606 00002CAD BE 00000400                     	MOV	ESI,1024
  4607 00002CB2                                 L780:
  4608 00002CB2 39 55 10                        	CMP	DWORD [16+EBP],EDX
  4609 00002CB5 7F 46                           	JG	L781
  4610 00002CB7 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  4611 00002CBA 42                              	INC	EDX
  4612 00002CBB                                 L796:
  4613 00002CBB C1 E2 0A                        	SAL	EDX,10
  4614 00002CBE 89 D0                           	MOV	EAX,EDX
  4615 00002CC0 99                              	CDQ
  4616 00002CC1 F7 F9                           	IDIV	ECX
  4617 00002CC3 89 C7                           	MOV	EDI,EAX
  4618 00002CC5                                 L783:
  4619 00002CC5 85 C9                           	TEST	ECX,ECX
  4620 00002CC7 7E 2C                           	JLE	L794
  4621 00002CC9 89 CB                           	MOV	EBX,ECX
  4622 00002CCB                                 L792:
  4623 00002CCB 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  4624 00002CCE 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  4625 00002CD1 C1 F8 0A                        	SAR	EAX,10
  4626 00002CD4 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  4627 00002CD7 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  4628 00002CDB C1 F9 0A                        	SAR	ECX,10
  4629 00002CDE 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  4630 00002CE1 8B 0A                           	MOV	ECX,DWORD [EDX]
  4631 00002CE3 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  4632 00002CE6 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  4633 00002CE9 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  4634 00002CEC 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  4635 00002CEF 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  4636 00002CF2 4B                              	DEC	EBX
  4637 00002CF3 75 D6                           	JNE	L792
  4638 00002CF5                                 L794:
  4639 00002CF5 83 C4 0C                        	ADD	ESP,12
  4640 00002CF8 5B                              	POP	EBX
  4641 00002CF9 5E                              	POP	ESI
  4642 00002CFA 5F                              	POP	EDI
  4643 00002CFB 5D                              	POP	EBP
  4644 00002CFC C3                              	RET
  4645 00002CFD                                 L781:
  4646 00002CFD 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  4647 00002D00 4A                              	DEC	EDX
  4648 00002D01 EB B8                           	JMP	L796
  4649 00002D03                                 L778:
  4650 00002D03 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  4651 00002D06 39 55 10                        	CMP	DWORD [16+EBP],EDX
  4652 00002D09 BF FFFFFC00                     	MOV	EDI,-1024
  4653 00002D0E 7F 05                           	JG	L785
  4654 00002D10 BF 00000400                     	MOV	EDI,1024
  4655 00002D15                                 L785:
  4656 00002D15 39 C3                           	CMP	EBX,EAX
  4657 00002D17 7F 11                           	JG	L786
  4658 00002D19 29 D8                           	SUB	EAX,EBX
  4659 00002D1B 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  4660 00002D1E                                 L795:
  4661 00002D1E C1 E2 0A                        	SAL	EDX,10
  4662 00002D21 89 D0                           	MOV	EAX,EDX
  4663 00002D23 99                              	CDQ
  4664 00002D24 F7 F9                           	IDIV	ECX
  4665 00002D26 89 C6                           	MOV	ESI,EAX
  4666 00002D28 EB 9B                           	JMP	L783
  4667 00002D2A                                 L786:
  4668 00002D2A 29 D8                           	SUB	EAX,EBX
  4669 00002D2C 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  4670 00002D2F EB ED                           	JMP	L795
  4671 00002D31                                 L798:
  4672 00002D31 F7 DF                           	NEG	EDI
  4673 00002D33 E9 FFFFFF65                     	JMP	L777
  4674 00002D38                                 L797:
  4675 00002D38 F7 DE                           	NEG	ESI
  4676 00002D3A E9 FFFFFF56                     	JMP	L776
  4677 00002D3F                                 	GLOBAL	_log
  4678                                          [SECTION .data]
  4679 00000ABA 00 00                           	ALIGNB	4
  4680 00000ABC                                 _log:
  4681 00000ABC 00 00 00 00                     	RESB	4
  4682 00000AC0                                 	GLOBAL	_cp
  4683                                          [SECTION .data]
  4684 00000AC0                                 	ALIGNB	4
  4685 00000AC0                                 _cp:
  4686 00000AC0 00 00 00 00                     	RESB	4
